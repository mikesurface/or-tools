<!-- Good morning, Mr. Phelps. -->
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <title>or-tools/src/constraint_solver/constraint_solveri.h Source File - Doxy</title>
    <link rel="shortcut icon" href="../../../favicon.ico">
    <!-- Both stylesheets are supplied by Doxygen, with maybe minor tweaks from Google. -->
    <link href="../../../doxygen.css" rel="stylesheet" type="text/css">
    <link href="../../../tabs.css" rel="stylesheet" type="text/css">
  </head>

  <body topmargin=0 leftmargin=20 bottommargin=0 rightmargin=20 marginwidth=20 marginheight=0>
  <!-- Second part of the secret behind Doxy logo always having the word "Doxy" with the color of the day. -->
  <style>
    a.doxy_logo:hover {
      background-color: #287003
    }
  </style>

  <table width=100% cellpadding=0 cellspacing=0 border=0>
    <!-- Top horizontal line with the color of the day. -->
    <tr valign=top>
      <td colspan=3 bgcolor=#287003 height=3></td>
    </tr>

    <!-- Header row with the links at the right. -->
    <tr valign=top>
      <td colspan=3 align=right>
        <font size=-1>
          Generated on: <font color=#287003><b>Thu Mar 29 07:46:58 PDT 2012</b></font>
            for <b>custom file set</b>
        </font>
      </td>
    </tr>

    <!-- Header row with the logo and the search form. -->
    <tr valign=top>
      <!-- Logo. -->
      <td align=left width=150>
        <table width=150 height=54 cellpadding=0 cellspacing=0 border=0>
          <tr valign=top>
            <!-- First part of the secret behind Doxy logo always having the word "Doxy" with the color of the day. -->
            <td bgcolor=#287003>
              <a class="doxy_logo" href="../../../index.html"><img src="../../../doxy_logo.png" alt="Doxy" border=0></a>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <!-- Tiny vertical space below the form. -->
    <tr valign=top>
      <td colspan=3 height=3></td>
    </tr>
  </table>

  <!-- Header navigation row. -->
  <div class="memproto">
    <table width=100% cellpadding=0 cellspacing=0 border=0>
      <tr>
        <td align=left style="padding-left: 20px"><font size=+1><b><tt><font color=#333333>//
            <a href="../../../index.html"><font color=#287003>doxy</font></a>/</font>
            <a href="../../../or-tools/index.html">or-tools</a>/
            <a href="../../../or-tools/src/index.html">src</a>/
            <a href="../../../or-tools/src/constraint_solver/index.html">constraint_solver</a>/
            </tt></b></font>
        </td>
      </tr>
    </table>
  </div>
  <br />
    <!-- No subdirs found. -->
  <!-- End of header. -->
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<h1>or-tools/src/constraint_solver/constraint_solveri.h</h1><a href="constraint__solveri_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// Copyright 2010-2012 Google</span>
<a name="l00002"></a>00002 <span class="comment">// Licensed under the Apache License, Version 2.0 (the "License");</span>
<a name="l00003"></a>00003 <span class="comment">// you may not use this file except in compliance with the License.</span>
<a name="l00004"></a>00004 <span class="comment">// You may obtain a copy of the License at</span>
<a name="l00005"></a>00005 <span class="comment">//</span>
<a name="l00006"></a>00006 <span class="comment">//     http://www.apache.org/licenses/LICENSE-2.0</span>
<a name="l00007"></a>00007 <span class="comment">//</span>
<a name="l00008"></a>00008 <span class="comment">// Unless required by applicable law or agreed to in writing, software</span>
<a name="l00009"></a>00009 <span class="comment">// distributed under the License is distributed on an "AS IS" BASIS,</span>
<a name="l00010"></a>00010 <span class="comment">// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<a name="l00011"></a>00011 <span class="comment">// See the License for the specific language governing permissions and</span>
<a name="l00012"></a>00012 <span class="comment">// limitations under the License.</span>
<a name="l00013"></a>00013 
<a name="l00014"></a>00014 <span class="comment">// Collection of objects used to extend the Constraint Solver library.</span>
<a name="l00015"></a>00015 <span class="comment">//</span>
<a name="l00016"></a>00016 <span class="comment">// This file contains a set of objects that simplifies writing extensions</span>
<a name="l00017"></a>00017 <span class="comment">// of the library.</span>
<a name="l00018"></a>00018 <span class="comment">//</span>
<a name="l00019"></a>00019 <span class="comment">// The main objects that define extensions are:</span>
<a name="l00020"></a>00020 <span class="comment">//   - BaseIntExpr the base class of all expressions that are not variables.</span>
<a name="l00021"></a>00021 <span class="comment">//   - SimpleRevFIFO a reversible FIFO list with templatized values.</span>
<a name="l00022"></a>00022 <span class="comment">//     A reversible data structure is a data structure that reverts its</span>
<a name="l00023"></a>00023 <span class="comment">//     modifications when the search is going up in the search tree, usually</span>
<a name="l00024"></a>00024 <span class="comment">//     after a failure occurs.</span>
<a name="l00025"></a>00025 <span class="comment">//   - RevImmutableMultiMap a reversible immutable multimap.</span>
<a name="l00026"></a>00026 <span class="comment">//   - MakeConstraintDemon&lt;n&gt; and MakeDelayedConstraintDemon&lt;n&gt; to wrap methods</span>
<a name="l00027"></a>00027 <span class="comment">//     of a constraint as a demon.</span>
<a name="l00028"></a>00028 <span class="comment">//   - RevSwitch, one reversible flip once switch.</span>
<a name="l00029"></a>00029 <span class="comment">//   - SmallRevBitSet, RevBitSet, and RevBitMatrix: reversible 1D or 2D</span>
<a name="l00030"></a>00030 <span class="comment">//     bitsets.</span>
<a name="l00031"></a>00031 <span class="comment">//   - LocalSearchOperator, IntVarLocalSearchOperator, ChangeValue and</span>
<a name="l00032"></a>00032 <span class="comment">//     PathOperator to create new local search operators.</span>
<a name="l00033"></a>00033 <span class="comment">//   - LocalSearchFilter and IntVarLocalSearchFilter to create new local</span>
<a name="l00034"></a>00034 <span class="comment">//     search filters.</span>
<a name="l00035"></a>00035 <span class="comment">//   - BaseLNS to write Large Neighbood Search operators.</span>
<a name="l00036"></a>00036 <span class="comment">//   - SymmetryBreaker to describe model symmetries that will be broken during</span>
<a name="l00037"></a>00037 <span class="comment">//     search using the 'Symmetry Breaking During Search' framework</span>
<a name="l00038"></a>00038 <span class="comment">//     see Gent, I. P., Harvey, W., &amp; Kelsey, T. (2002).</span>
<a name="l00039"></a>00039 <span class="comment">//     Groups and Constraints: Symmetry Breaking During Search.</span>
<a name="l00040"></a>00040 <span class="comment">//     Principles and Practice of Constraint Programming CP2002</span>
<a name="l00041"></a>00041 <span class="comment">//     (Vol. 2470, pp. 415-430). Springer. Retrieved from</span>
<a name="l00042"></a>00042 <span class="comment">//     http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.11.1442</span>
<a name="l00043"></a>00043 <span class="comment">//</span>
<a name="l00044"></a>00044 <span class="comment">// Then, there are some internal classes that are used throughout the solver</span>
<a name="l00045"></a>00045 <span class="comment">// and exposed in this file:</span>
<a name="l00046"></a>00046 <span class="comment">//   - SearchLog the root class of all periodic outputs during search.</span>
<a name="l00047"></a>00047 <span class="comment">//   - ModelCache A caching layer to avoid creating twice the same object.</span>
<a name="l00048"></a>00048 <span class="comment">//   - DependencyGraph a dedicated data structure to represent dependency graphs</span>
<a name="l00049"></a>00049 <span class="comment">//     in the scheduling world.</span>
<a name="l00050"></a>00050 
<a name="l00051"></a>00051 <span class="preprocessor">#ifndef OR_TOOLS_CONSTRAINT_SOLVER_CONSTRAINT_SOLVERI_H_</span>
<a name="l00052"></a>00052 <span class="preprocessor"></span><span class="preprocessor">#define OR_TOOLS_CONSTRAINT_SOLVER_CONSTRAINT_SOLVERI_H_</span>
<a name="l00053"></a>00053 <span class="preprocessor"></span>
<a name="l00054"></a>00054 <span class="preprocessor">#include &lt;math.h&gt;</span>
<a name="l00055"></a>00055 <span class="preprocessor">#include &lt;stddef.h&gt;</span>
<a name="l00056"></a>00056 <span class="preprocessor">#include "base/hash.h"</span>
<a name="l00057"></a>00057 <span class="preprocessor">#include &lt;string&gt;</span>
<a name="l00058"></a>00058 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00059"></a>00059 
<a name="l00060"></a>00060 <span class="preprocessor">#include "base/callback-types.h"</span>
<a name="l00061"></a>00061 <span class="preprocessor">#include "base/commandlineflags.h"</span>
<a name="l00062"></a>00062 <span class="preprocessor">#include "base/integral_types.h"</span>
<a name="l00063"></a>00063 <span class="preprocessor">#include "base/logging.h"</span>
<a name="l00064"></a>00064 <span class="preprocessor">#include "base/scoped_ptr.h"</span>
<a name="l00065"></a>00065 <span class="preprocessor">#include "base/sysinfo.h"</span>
<a name="l00066"></a>00066 <span class="preprocessor">#include "base/timer.h"</span>
<a name="l00067"></a>00067 <span class="preprocessor">#include "base/join.h"</span>
<a name="l00068"></a>00068 <span class="preprocessor">#include "base/bitmap.h"</span>
<a name="l00069"></a>00069 <span class="preprocessor">#include "base/map-util.h"</span>
<a name="l00070"></a>00070 <span class="preprocessor">#include "base/hash.h"</span>
<a name="l00071"></a>00071 <span class="preprocessor">#include "<a class="code" href="constraint__solver_8h.html">constraint_solver/constraint_solver.h</a>"</span>
<a name="l00072"></a>00072 <span class="preprocessor">#include "util/const_int_array.h"</span>
<a name="l00073"></a>00073 <span class="preprocessor">#include "util/const_ptr_array.h"</span>
<a name="l00074"></a>00074 <span class="preprocessor">#include "util/tuple_set.h"</span>
<a name="l00075"></a>00075 <span class="preprocessor">#include "util/vector_map.h"</span>
<a name="l00076"></a>00076 
<a name="l00077"></a>00077 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">class </span>ResultCallback;
<a name="l00078"></a>00078 
<a name="l00079"></a>00079 <span class="keyword">class </span>WallTimer;
<a name="l00080"></a>00080 
<a name="l00081"></a>00081 <span class="keyword">namespace </span>operations_research {
<a name="l00082"></a>00082 <span class="keyword">class </span>CPArgumentProto;
<a name="l00083"></a>00083 <span class="keyword">class </span>CPConstraintProto;
<a name="l00084"></a>00084 <span class="keyword">class </span>CPIntegerExpressionProto;
<a name="l00085"></a>00085 <span class="keyword">class </span>CPIntervalVariableProto;
<a name="l00086"></a>00086 <span class="keyword">class </span>ConstIntArray;
<a name="l00087"></a>00087 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">class </span>ConstPtrArray;
<a name="l00088"></a>00088 
<a name="l00089"></a>00089 <span class="comment">// This is the base class for all expressions that are not variables.</span>
<a name="l00090"></a>00090 <span class="comment">// It proposes a basic 'CastToVar()' implementation.</span>
<a name="l00091"></a>00091 <span class="comment">// The class of expressions represent two types of objects: variables</span>
<a name="l00092"></a>00092 <span class="comment">// and subclasses of BaseIntExpr. Variables are stateful objects that</span>
<a name="l00093"></a>00093 <span class="comment">// provide a rich API (remove values, WhenBound...). On the other hand,</span>
<a name="l00094"></a>00094 <span class="comment">// subclasses of BaseIntExpr represent range-only stateless objects.</span>
<a name="l00095"></a>00095 <span class="comment">// That is the min(A + B) is recomputed each time as min(A) + min(B).</span>
<a name="l00096"></a>00096 <span class="comment">// Furthermore, sometimes, the propagation on an expression is not complete,</span>
<a name="l00097"></a>00097 <span class="comment">// and Min(), Max() are not monononic with respect to SetMin() and SetMax().</span>
<a name="l00098"></a>00098 <span class="comment">// For instance, A is a var with domain [0 .. 5], and B another variable</span>
<a name="l00099"></a>00099 <span class="comment">// with domain [0 .. 5]. Then Plus(A, B) has domain [0, 10].</span>
<a name="l00100"></a>00100 <span class="comment">// If we apply SetMax(Plus(A, B), 4)). Then we will deduce that both A</span>
<a name="l00101"></a>00101 <span class="comment">// and B will have domain [0 .. 4]. In that case, Max(Plus(A, B)) is 8</span>
<a name="l00102"></a>00102 <span class="comment">// and not 4.  To get back monotonicity, we will 'cast' the expression</span>
<a name="l00103"></a>00103 <span class="comment">// into a variable using the Var() method (that will call CastToVar()</span>
<a name="l00104"></a>00104 <span class="comment">// internally). The resulting variable will be stateful and monotonic.</span>
<a name="l00105"></a>00105 <span class="comment">//</span>
<a name="l00106"></a>00106 <span class="comment">// Finally, one should never store a pointer to a IntExpr, or</span>
<a name="l00107"></a>00107 <span class="comment">// BaseIntExpr in the code. The safe code should always call Var() on an</span>
<a name="l00108"></a>00108 <span class="comment">// expression built by the solver, and store the object as an IntVar*.</span>
<a name="l00109"></a>00109 <span class="comment">// This is a consequence of the stateless nature of the expressions that</span>
<a name="l00110"></a>00110 <span class="comment">// makes the code error-prone.</span>
<a name="l00111"></a><a class="code" href="classoperations__research_1_1BaseIntExpr.html">00111</a> <span class="keyword">class </span><a class="code" href="classoperations__research_1_1BaseIntExpr.html" title="This is the base class for all expressions that are not variables.">BaseIntExpr</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1IntExpr.html" title="The class IntExpr is the base of all integer expressions in constraint programming...">IntExpr</a> {
<a name="l00112"></a>00112  <span class="keyword">public</span>:
<a name="l00113"></a><a class="code" href="classoperations__research_1_1BaseIntExpr.html#d7d12cdfcb4b9340db0ea792b5545419">00113</a>   <span class="keyword">explicit</span> <a class="code" href="classoperations__research_1_1BaseIntExpr.html#d7d12cdfcb4b9340db0ea792b5545419">BaseIntExpr</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> s) : <a class="code" href="classoperations__research_1_1IntExpr.html" title="The class IntExpr is the base of all integer expressions in constraint programming...">IntExpr</a>(s), var_(NULL) {}
<a name="l00114"></a><a class="code" href="classoperations__research_1_1BaseIntExpr.html#50d277c9f765af939b7534bfeb685dd4">00114</a>   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1BaseIntExpr.html#50d277c9f765af939b7534bfeb685dd4">~BaseIntExpr</a>() {}
<a name="l00115"></a>00115 
<a name="l00116"></a>00116   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <a class="code" href="classoperations__research_1_1BaseIntExpr.html#bc0b1cac77e1e4aac41bb6f95b441349" title="Creates a variable from the expression.">Var</a>();
<a name="l00117"></a>00117   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <a class="code" href="classoperations__research_1_1BaseIntExpr.html#1d4d6a63140435221e0dfcaf913d6ffb">CastToVar</a>();
<a name="l00118"></a>00118 
<a name="l00119"></a>00119  <span class="keyword">private</span>:
<a name="l00120"></a>00120   <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* var_;
<a name="l00121"></a>00121 };
<a name="l00122"></a>00122 
<a name="l00123"></a>00123 <span class="comment">// This enum is used internally to do dynamic typing on subclasses of integer</span>
<a name="l00124"></a>00124 <span class="comment">// variables.</span>
<a name="l00125"></a><a class="code" href="namespaceoperations__research.html#744e7cc90d56b2c503520ee1f97fc1db">00125</a> <span class="keyword">enum</span> <a class="code" href="namespaceoperations__research.html#744e7cc90d56b2c503520ee1f97fc1db" title="This enum is used internally to do dynamic typing on subclasses of integer variables...">VarTypes</a> {
<a name="l00126"></a><a class="code" href="namespaceoperations__research.html#744e7cc90d56b2c503520ee1f97fc1dbb4f91414920a046da6b20cd63a2796e6">00126</a>   <a class="code" href="namespaceoperations__research.html#744e7cc90d56b2c503520ee1f97fc1dbb4f91414920a046da6b20cd63a2796e6">UNSPECIFIED</a>,
<a name="l00127"></a><a class="code" href="namespaceoperations__research.html#744e7cc90d56b2c503520ee1f97fc1db035478726d2dcd2fb9ac77afb5c759cc">00127</a>   <a class="code" href="namespaceoperations__research.html#744e7cc90d56b2c503520ee1f97fc1db035478726d2dcd2fb9ac77afb5c759cc">DOMAIN_INT_VAR</a>,
<a name="l00128"></a><a class="code" href="namespaceoperations__research.html#744e7cc90d56b2c503520ee1f97fc1db79122eee2a14a98d575b0b9ac73b0e42">00128</a>   <a class="code" href="namespaceoperations__research.html#744e7cc90d56b2c503520ee1f97fc1db79122eee2a14a98d575b0b9ac73b0e42">BOOLEAN_VAR</a>,
<a name="l00129"></a><a class="code" href="namespaceoperations__research.html#744e7cc90d56b2c503520ee1f97fc1dbd9de5a1ac157ce63c698777275b17787">00129</a>   <a class="code" href="namespaceoperations__research.html#744e7cc90d56b2c503520ee1f97fc1dbd9de5a1ac157ce63c698777275b17787">CONST_VAR</a>,
<a name="l00130"></a><a class="code" href="namespaceoperations__research.html#744e7cc90d56b2c503520ee1f97fc1db0cc8439ff5d71bb0c4c981cd04b73d55">00130</a>   <a class="code" href="namespaceoperations__research.html#744e7cc90d56b2c503520ee1f97fc1db0cc8439ff5d71bb0c4c981cd04b73d55">VAR_ADD_CST</a>,
<a name="l00131"></a><a class="code" href="namespaceoperations__research.html#744e7cc90d56b2c503520ee1f97fc1db8c9ffc403ba76add73d8b26501368a75">00131</a>   <a class="code" href="namespaceoperations__research.html#744e7cc90d56b2c503520ee1f97fc1db8c9ffc403ba76add73d8b26501368a75">DOMAIN_INT_VAR_ADD_CST</a>,
<a name="l00132"></a><a class="code" href="namespaceoperations__research.html#744e7cc90d56b2c503520ee1f97fc1db7669234968fc35631df97ccad34ff967">00132</a>   <a class="code" href="namespaceoperations__research.html#744e7cc90d56b2c503520ee1f97fc1db7669234968fc35631df97ccad34ff967">VAR_TIMES_POS_CST</a>,
<a name="l00133"></a><a class="code" href="namespaceoperations__research.html#744e7cc90d56b2c503520ee1f97fc1dbb636d6bf6dd99781b95d37966ff6ff1d">00133</a>   <a class="code" href="namespaceoperations__research.html#744e7cc90d56b2c503520ee1f97fc1dbb636d6bf6dd99781b95d37966ff6ff1d">BOOLEAN_VAR_TIMES_POS_CST</a>,
<a name="l00134"></a><a class="code" href="namespaceoperations__research.html#744e7cc90d56b2c503520ee1f97fc1db93697c551d06ce8d37be776116f23f66">00134</a>   <a class="code" href="namespaceoperations__research.html#744e7cc90d56b2c503520ee1f97fc1db93697c551d06ce8d37be776116f23f66">CST_SUB_VAR</a>,
<a name="l00135"></a><a class="code" href="namespaceoperations__research.html#744e7cc90d56b2c503520ee1f97fc1db9558ccbf57e24d3ddde9bfbf2835e4fe">00135</a>   <a class="code" href="namespaceoperations__research.html#744e7cc90d56b2c503520ee1f97fc1db9558ccbf57e24d3ddde9bfbf2835e4fe">OPP_VAR</a>,
<a name="l00136"></a><a class="code" href="namespaceoperations__research.html#744e7cc90d56b2c503520ee1f97fc1db93b00759c703fe20d9d8a5a75268a69d">00136</a>   <a class="code" href="namespaceoperations__research.html#744e7cc90d56b2c503520ee1f97fc1db93b00759c703fe20d9d8a5a75268a69d">TRACE_VAR</a>
<a name="l00137"></a>00137 };
<a name="l00138"></a>00138 
<a name="l00139"></a>00139 <span class="comment">// ----- utility classes -----</span>
<a name="l00140"></a>00140 
<a name="l00141"></a>00141 <span class="comment">// This class represent a reversible FIFO structure.</span>
<a name="l00142"></a>00142 <span class="comment">// The main diffence w.r.t a standart FIFO structure is that a Solver is</span>
<a name="l00143"></a>00143 <span class="comment">// given as parameter to the modifiers such that the solver can store the</span>
<a name="l00144"></a>00144 <span class="comment">// backtrack information</span>
<a name="l00145"></a>00145 <span class="comment">// Iterator's traversing order should not be changed, as some algorithm</span>
<a name="l00146"></a>00146 <span class="comment">// depend on it to be consistent.</span>
<a name="l00147"></a>00147 <span class="comment">// It's main use is to store a list of demons in the various classes of</span>
<a name="l00148"></a>00148 <span class="comment">// variables.</span>
<a name="l00149"></a>00149 <span class="preprocessor">#ifndef SWIG</span>
<a name="l00150"></a><a class="code" href="classoperations__research_1_1SimpleRevFIFO.html">00150</a> <span class="preprocessor"></span><span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">class </span><a class="code" href="classoperations__research_1_1SimpleRevFIFO.html" title="utility classes">SimpleRevFIFO</a> {
<a name="l00151"></a>00151  <span class="keyword">private</span>:
<a name="l00152"></a>00152   <span class="keyword">enum</span> { CHUNK_SIZE = 16 };  <span class="comment">// TODO(user): could be an extra template param</span>
<a name="l00153"></a>00153   <span class="keyword">struct </span>Chunk {
<a name="l00154"></a>00154     T <a class="code" href="constraint__solver_8cc.html#daa4e0422c561cd3355217847b464c1a">data_</a>[CHUNK_SIZE];
<a name="l00155"></a>00155     <span class="keyword">const</span> Chunk* <span class="keyword">const</span> <a class="code" href="model__cache_8cc.html#53d6ea59f292e1205c44619eed73d925">next_</a>;
<a name="l00156"></a>00156     <span class="keyword">explicit</span> Chunk(<span class="keyword">const</span> Chunk* <a class="code" href="constraint__solver_8cc.html#395f613555f398dd389670bb4c2a4599">next</a>) : <a class="code" href="model__cache_8cc.html#53d6ea59f292e1205c44619eed73d925">next_</a>(next) {}
<a name="l00157"></a>00157   };
<a name="l00158"></a>00158 
<a name="l00159"></a>00159  <span class="keyword">public</span>:
<a name="l00160"></a>00160   <span class="comment">// This iterator is not stable with respect to deletion.</span>
<a name="l00161"></a><a class="code" href="classoperations__research_1_1SimpleRevFIFO_1_1Iterator.html">00161</a>   <span class="keyword">class </span><a class="code" href="classoperations__research_1_1SimpleRevFIFO_1_1Iterator.html" title="This iterator is not stable with respect to deletion.">Iterator</a> {
<a name="l00162"></a>00162    <span class="keyword">public</span>:
<a name="l00163"></a><a class="code" href="classoperations__research_1_1SimpleRevFIFO_1_1Iterator.html#542b5ed50647b660b9d87debcfaf5380">00163</a>     <span class="keyword">explicit</span> <a class="code" href="classoperations__research_1_1SimpleRevFIFO_1_1Iterator.html#542b5ed50647b660b9d87debcfaf5380">Iterator</a>(<span class="keyword">const</span> <a class="code" href="classoperations__research_1_1SimpleRevFIFO.html" title="utility classes">SimpleRevFIFO&lt;T&gt;</a>* l)
<a name="l00164"></a>00164         : chunk_(l-&gt;chunks_), value_(l-&gt;<a class="code" href="classoperations__research_1_1SimpleRevFIFO.html#1da6487f719f88938d702348446190e6" title="Returns the last item of the FIFO.">Last</a>()) {}
<a name="l00165"></a><a class="code" href="classoperations__research_1_1SimpleRevFIFO_1_1Iterator.html#46f7bbff178877d3e92fa8908105d370">00165</a>     <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1SimpleRevFIFO_1_1Iterator.html#46f7bbff178877d3e92fa8908105d370">ok</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (value_ != NULL); }
<a name="l00166"></a><a class="code" href="classoperations__research_1_1SimpleRevFIFO_1_1Iterator.html#c4cc38058b6ec67a52d14f9f4989adda">00166</a>     T <a class="code" href="classoperations__research_1_1SimpleRevFIFO_1_1Iterator.html#c4cc38058b6ec67a52d14f9f4989adda">operator*</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> *value_; }
<a name="l00167"></a><a class="code" href="classoperations__research_1_1SimpleRevFIFO_1_1Iterator.html#39b457178436af1a0baf7bdda6c75c10">00167</a>     <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SimpleRevFIFO_1_1Iterator.html#39b457178436af1a0baf7bdda6c75c10">operator++</a>() {
<a name="l00168"></a>00168       ++value_;
<a name="l00169"></a>00169       <span class="keywordflow">if</span> (value_ == chunk_-&gt;data_ + CHUNK_SIZE) {
<a name="l00170"></a>00170         chunk_ = chunk_-&gt;next_;
<a name="l00171"></a>00171         value_ = chunk_ ? chunk_-&gt;data_ : NULL;
<a name="l00172"></a>00172       }
<a name="l00173"></a>00173     }
<a name="l00174"></a>00174 
<a name="l00175"></a>00175    <span class="keyword">private</span>:
<a name="l00176"></a>00176     <span class="keyword">const</span> Chunk* chunk_;
<a name="l00177"></a>00177     <span class="keyword">const</span> T* value_;
<a name="l00178"></a>00178   };
<a name="l00179"></a>00179 
<a name="l00180"></a><a class="code" href="classoperations__research_1_1SimpleRevFIFO.html#fe165ef59bdd847273347b78397eed2d">00180</a>   <a class="code" href="classoperations__research_1_1SimpleRevFIFO.html#fe165ef59bdd847273347b78397eed2d">SimpleRevFIFO</a>() : chunks_(NULL), pos_(0) {}
<a name="l00181"></a>00181 
<a name="l00182"></a><a class="code" href="classoperations__research_1_1SimpleRevFIFO.html#4f48d3ad864fe70677b0e3aa3e2d79e8">00182</a>   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SimpleRevFIFO.html#4f48d3ad864fe70677b0e3aa3e2d79e8">Push</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> s, T val) {
<a name="l00183"></a>00183     <span class="keywordflow">if</span> (pos_.<a class="code" href="classoperations__research_1_1Rev.html#c7f33945b63174a54775a3e342c08c28">Value</a>() == 0) {
<a name="l00184"></a>00184       Chunk* <span class="keyword">const</span> chunk = s-&gt;<a class="code" href="classoperations__research_1_1Solver.html#33e4733225dee453b75d83c991194286">UnsafeRevAlloc</a>(<span class="keyword">new</span> Chunk(chunks_));
<a name="l00185"></a>00185       s-&gt;<a class="code" href="classoperations__research_1_1Solver.html#fca376d8b0abd52b94534112442f1614" title="All-in-one SaveAndSetValue.">SaveAndSetValue</a>(reinterpret_cast&lt;void**&gt;(&amp;chunks_),
<a name="l00186"></a>00186                          reinterpret_cast&lt;void*&gt;(chunk));
<a name="l00187"></a>00187       pos_.<a class="code" href="classoperations__research_1_1Rev.html#614fdcd3e96dc71b0c580f29026380ec">SetValue</a>(s, CHUNK_SIZE - 1);
<a name="l00188"></a>00188     } <span class="keywordflow">else</span> {
<a name="l00189"></a>00189       pos_.<a class="code" href="classoperations__research_1_1NumericalRev.html#9f28c0cf038c1f5f46a5d823c68b887e">Decr</a>(s);
<a name="l00190"></a>00190     }
<a name="l00191"></a>00191     chunks_-&gt;data_[pos_.<a class="code" href="classoperations__research_1_1Rev.html#c7f33945b63174a54775a3e342c08c28">Value</a>()] = val;
<a name="l00192"></a>00192   }
<a name="l00193"></a>00193 
<a name="l00194"></a>00194   <span class="comment">// Pushes the var on top if is not a duplicate of the current top object.</span>
<a name="l00195"></a><a class="code" href="classoperations__research_1_1SimpleRevFIFO.html#8a687b3e2756711e361d82db748ed33b">00195</a>   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SimpleRevFIFO.html#8a687b3e2756711e361d82db748ed33b" title="Pushes the var on top if is not a duplicate of the current top object.">PushIfNotTop</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> s, T val) {
<a name="l00196"></a>00196     <span class="keywordflow">if</span> (chunks_ == NULL || <a class="code" href="classoperations__research_1_1SimpleRevFIFO.html#7624aa6d7a7cf5b6d1e85a0c3e316d6e" title="Returns the last value in the FIFO.">LastValue</a>() != val) {
<a name="l00197"></a>00197       <a class="code" href="classoperations__research_1_1SimpleRevFIFO.html#4f48d3ad864fe70677b0e3aa3e2d79e8">Push</a>(s, val);
<a name="l00198"></a>00198     }
<a name="l00199"></a>00199   }
<a name="l00200"></a>00200 
<a name="l00201"></a>00201   <span class="comment">// Returns the last item of the FIFO.</span>
<a name="l00202"></a><a class="code" href="classoperations__research_1_1SimpleRevFIFO.html#1da6487f719f88938d702348446190e6">00202</a>   <span class="keyword">const</span> T* <a class="code" href="classoperations__research_1_1SimpleRevFIFO.html#1da6487f719f88938d702348446190e6" title="Returns the last item of the FIFO.">Last</a>()<span class="keyword"> const </span>{
<a name="l00203"></a>00203     <span class="keywordflow">return</span> chunks_ ? &amp;chunks_-&gt;data_[pos_.<a class="code" href="classoperations__research_1_1Rev.html#c7f33945b63174a54775a3e342c08c28">Value</a>()] : NULL;
<a name="l00204"></a>00204   }
<a name="l00205"></a>00205 
<a name="l00206"></a>00206   <span class="comment">// Returns the last value in the FIFO.</span>
<a name="l00207"></a><a class="code" href="classoperations__research_1_1SimpleRevFIFO.html#7624aa6d7a7cf5b6d1e85a0c3e316d6e">00207</a>   <span class="keyword">const</span> T&amp; <a class="code" href="classoperations__research_1_1SimpleRevFIFO.html#7624aa6d7a7cf5b6d1e85a0c3e316d6e" title="Returns the last value in the FIFO.">LastValue</a>()<span class="keyword"> const </span>{
<a name="l00208"></a>00208     DCHECK(chunks_);
<a name="l00209"></a>00209     <span class="keywordflow">return</span> chunks_-&gt;data_[pos_.<a class="code" href="classoperations__research_1_1Rev.html#c7f33945b63174a54775a3e342c08c28">Value</a>()];
<a name="l00210"></a>00210   }
<a name="l00211"></a>00211 
<a name="l00212"></a>00212   <span class="comment">// Sets the last value in the FIFO.</span>
<a name="l00213"></a><a class="code" href="classoperations__research_1_1SimpleRevFIFO.html#1cd3644228ae5a0f0ec3862d91276470">00213</a>   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SimpleRevFIFO.html#1cd3644228ae5a0f0ec3862d91276470" title="Sets the last value in the FIFO.">SetLastValue</a>(<span class="keyword">const</span> T&amp; v) {
<a name="l00214"></a>00214     DCHECK(<a class="code" href="classoperations__research_1_1SimpleRevFIFO.html#1da6487f719f88938d702348446190e6" title="Returns the last item of the FIFO.">Last</a>());
<a name="l00215"></a>00215     chunks_-&gt;data_[pos_.<a class="code" href="classoperations__research_1_1Rev.html#c7f33945b63174a54775a3e342c08c28">Value</a>()] = v;
<a name="l00216"></a>00216   }
<a name="l00217"></a>00217 
<a name="l00218"></a>00218  <span class="keyword">private</span>:
<a name="l00219"></a>00219   Chunk *chunks_;
<a name="l00220"></a>00220   <a class="code" href="classoperations__research_1_1NumericalRev.html" title="Subclass of Rev&amp;lt;T&amp;gt; which adds numerical operations.">NumericalRev&lt;int&gt;</a> pos_;
<a name="l00221"></a>00221 };
<a name="l00222"></a>00222 
<a name="l00223"></a>00223 <span class="comment">// ---------- Reversible Hash Table ----------</span>
<a name="l00224"></a>00224 
<a name="l00225"></a>00225 <span class="comment">// ----- Hash functions -----</span>
<a name="l00226"></a>00226 <span class="comment">// TODO(user): use murmurhash.</span>
<a name="l00227"></a><a class="code" href="namespaceoperations__research.html#64cf3e1336ec61275bdd2ae853d38406">00227</a> <span class="keyword">inline</span> uint64 <a class="code" href="namespaceoperations__research.html#64cf3e1336ec61275bdd2ae853d38406" title="Reversible Hash Table.">Hash1</a>(uint64 <a class="code" href="search_8cc.html#21edc7ca4cc5802c8779d68556bc09cf">value</a>) {
<a name="l00228"></a>00228   value = (~value) + (value &lt;&lt; 21);  <span class="comment">// value = (value &lt;&lt; 21) - value - 1;</span>
<a name="l00229"></a>00229   value ^= value &gt;&gt; 24;
<a name="l00230"></a>00230   value += (value &lt;&lt; 3) + (value &lt;&lt; 8);  <span class="comment">// value * 265</span>
<a name="l00231"></a>00231   value ^= value &gt;&gt; 14;
<a name="l00232"></a>00232   value += (value &lt;&lt; 2) + (value &lt;&lt; 4);  <span class="comment">// value * 21</span>
<a name="l00233"></a>00233   value ^= value &gt;&gt; 28;
<a name="l00234"></a>00234   value += (value &lt;&lt; 31);
<a name="l00235"></a>00235   <span class="keywordflow">return</span> value;
<a name="l00236"></a>00236 }
<a name="l00237"></a>00237 
<a name="l00238"></a><a class="code" href="namespaceoperations__research.html#b89995e46facfc1db291ce75658dd0a5">00238</a> <span class="keyword">inline</span> uint64 <a class="code" href="namespaceoperations__research.html#64cf3e1336ec61275bdd2ae853d38406" title="Reversible Hash Table.">Hash1</a>(uint32 <a class="code" href="search_8cc.html#21edc7ca4cc5802c8779d68556bc09cf">value</a>) {
<a name="l00239"></a>00239   uint64 a = value;
<a name="l00240"></a>00240   a = (a + 0x7ed55d16) + (a &lt;&lt; 12);
<a name="l00241"></a>00241   a = (a ^ 0xc761c23c) ^ (a &gt;&gt; 19);
<a name="l00242"></a>00242   a = (a + 0x165667b1) + (a &lt;&lt; 5);
<a name="l00243"></a>00243   a = (a + 0xd3a2646c) ^ (a &lt;&lt; 9);
<a name="l00244"></a>00244   a = (a + 0xfd7046c5) + (a &lt;&lt; 3);
<a name="l00245"></a>00245   a = (a ^ 0xb55a4f09) ^ (a &gt;&gt; 16);
<a name="l00246"></a>00246   <span class="keywordflow">return</span> a;
<a name="l00247"></a>00247 }
<a name="l00248"></a>00248 
<a name="l00249"></a><a class="code" href="namespaceoperations__research.html#cfc54730764156f1fb717e99b71ba5d4">00249</a> <span class="keyword">inline</span> uint64 <a class="code" href="namespaceoperations__research.html#64cf3e1336ec61275bdd2ae853d38406" title="Reversible Hash Table.">Hash1</a>(int64 <a class="code" href="search_8cc.html#21edc7ca4cc5802c8779d68556bc09cf">value</a>) {
<a name="l00250"></a>00250   <span class="keywordflow">return</span> <a class="code" href="namespaceoperations__research.html#64cf3e1336ec61275bdd2ae853d38406" title="Reversible Hash Table.">Hash1</a>(static_cast&lt;uint64&gt;(value));
<a name="l00251"></a>00251 }
<a name="l00252"></a>00252 
<a name="l00253"></a><a class="code" href="namespaceoperations__research.html#65a9c1ccf298ae110decc3b9d285dc16">00253</a> <span class="keyword">inline</span> uint64 <a class="code" href="namespaceoperations__research.html#64cf3e1336ec61275bdd2ae853d38406" title="Reversible Hash Table.">Hash1</a>(<span class="keywordtype">int</span> <a class="code" href="search_8cc.html#21edc7ca4cc5802c8779d68556bc09cf">value</a>) {
<a name="l00254"></a>00254   <span class="keywordflow">return</span> <a class="code" href="namespaceoperations__research.html#64cf3e1336ec61275bdd2ae853d38406" title="Reversible Hash Table.">Hash1</a>(static_cast&lt;uint32&gt;(value));
<a name="l00255"></a>00255 }
<a name="l00256"></a>00256 
<a name="l00257"></a><a class="code" href="namespaceoperations__research.html#3ca754fad158b92d7f678b5d354d8927">00257</a> <span class="keyword">inline</span> uint64 <a class="code" href="namespaceoperations__research.html#64cf3e1336ec61275bdd2ae853d38406" title="Reversible Hash Table.">Hash1</a>(<span class="keywordtype">void</span>* <span class="keyword">const</span> ptr) {
<a name="l00258"></a>00258 <span class="preprocessor">#if defined(ARCH_K8)</span>
<a name="l00259"></a>00259 <span class="preprocessor"></span>    <span class="keywordflow">return</span> <a class="code" href="namespaceoperations__research.html#64cf3e1336ec61275bdd2ae853d38406" title="Reversible Hash Table.">Hash1</a>(reinterpret_cast&lt;uint64&gt;(ptr));
<a name="l00260"></a>00260 <span class="preprocessor">#else</span>
<a name="l00261"></a>00261 <span class="preprocessor"></span>    <span class="keywordflow">return</span> <a class="code" href="namespaceoperations__research.html#64cf3e1336ec61275bdd2ae853d38406" title="Reversible Hash Table.">Hash1</a>(reinterpret_cast&lt;uint32&gt;(ptr));
<a name="l00262"></a>00262 <span class="preprocessor">#endif</span>
<a name="l00263"></a>00263 <span class="preprocessor"></span>}
<a name="l00264"></a>00264 
<a name="l00265"></a><a class="code" href="namespaceoperations__research.html#248a5fb85d616372c801f3f1d7282cee">00265</a> <span class="keyword">inline</span> uint64 <a class="code" href="namespaceoperations__research.html#64cf3e1336ec61275bdd2ae853d38406" title="Reversible Hash Table.">Hash1</a>(ConstIntArray* <span class="keyword">const</span> values) {
<a name="l00266"></a>00266   <span class="keywordflow">if</span> (values-&gt;size() == 0) {
<a name="l00267"></a>00267     <span class="keywordflow">return</span> 0;
<a name="l00268"></a>00268   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (values-&gt;size() == 1) {
<a name="l00269"></a>00269     <span class="keywordflow">return</span> <a class="code" href="namespaceoperations__research.html#64cf3e1336ec61275bdd2ae853d38406" title="Reversible Hash Table.">Hash1</a>(values-&gt;get(0));
<a name="l00270"></a>00270   } <span class="keywordflow">else</span> {
<a name="l00271"></a>00271     uint64 hash = <a class="code" href="namespaceoperations__research.html#64cf3e1336ec61275bdd2ae853d38406" title="Reversible Hash Table.">Hash1</a>(values-&gt;get(0));
<a name="l00272"></a>00272     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; values-&gt;size(); ++i) {
<a name="l00273"></a>00273       hash = hash * i + <a class="code" href="namespaceoperations__research.html#64cf3e1336ec61275bdd2ae853d38406" title="Reversible Hash Table.">Hash1</a>(values-&gt;get(i));
<a name="l00274"></a>00274     }
<a name="l00275"></a>00275     <span class="keywordflow">return</span> hash;
<a name="l00276"></a>00276   }
<a name="l00277"></a>00277 }
<a name="l00278"></a>00278 
<a name="l00279"></a><a class="code" href="namespaceoperations__research.html#690956b178308516af142eae2357d189">00279</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; uint64 <a class="code" href="namespaceoperations__research.html#64cf3e1336ec61275bdd2ae853d38406" title="Reversible Hash Table.">Hash1</a>(ConstPtrArray&lt;T&gt;* <span class="keyword">const</span> ptrs) {
<a name="l00280"></a>00280   <span class="keywordflow">if</span> (ptrs-&gt;size() == 0) {
<a name="l00281"></a>00281     <span class="keywordflow">return</span> 0;
<a name="l00282"></a>00282   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ptrs-&gt;size() == 1) {
<a name="l00283"></a>00283     <span class="keywordflow">return</span> <a class="code" href="namespaceoperations__research.html#64cf3e1336ec61275bdd2ae853d38406" title="Reversible Hash Table.">Hash1</a>(ptrs-&gt;get(0));
<a name="l00284"></a>00284   } <span class="keywordflow">else</span> {
<a name="l00285"></a>00285     uint64 hash = <a class="code" href="namespaceoperations__research.html#64cf3e1336ec61275bdd2ae853d38406" title="Reversible Hash Table.">Hash1</a>(ptrs-&gt;get(0));
<a name="l00286"></a>00286     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; ptrs-&gt;size(); ++i) {
<a name="l00287"></a>00287       hash = hash * i + <a class="code" href="namespaceoperations__research.html#64cf3e1336ec61275bdd2ae853d38406" title="Reversible Hash Table.">Hash1</a>(ptrs-&gt;get(i));
<a name="l00288"></a>00288     }
<a name="l00289"></a>00289     <span class="keywordflow">return</span> hash;
<a name="l00290"></a>00290   }
<a name="l00291"></a>00291 }
<a name="l00292"></a>00292 
<a name="l00293"></a>00293 <span class="comment">// ----- Immutable Multi Map -----</span>
<a name="l00294"></a>00294 
<a name="l00295"></a>00295 <span class="comment">// Reversible Immutable MultiMap class.</span>
<a name="l00296"></a>00296 <span class="comment">// Represents an immutable multi-map that backstracks with the solver.</span>
<a name="l00297"></a><a class="code" href="classoperations__research_1_1RevImmutableMultiMap.html">00297</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> K, <span class="keyword">class</span> V&gt; <span class="keyword">class </span><a class="code" href="classoperations__research_1_1RevImmutableMultiMap.html" title="Immutable Multi Map.">RevImmutableMultiMap</a> {
<a name="l00298"></a>00298  <span class="keyword">public</span>:
<a name="l00299"></a><a class="code" href="classoperations__research_1_1RevImmutableMultiMap.html#fbd7546d603df82059ed3b8a13a3241a">00299</a>   <a class="code" href="classoperations__research_1_1RevImmutableMultiMap.html#fbd7546d603df82059ed3b8a13a3241a">RevImmutableMultiMap</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> solver, <span class="keywordtype">int</span> initial_size)
<a name="l00300"></a>00300       : solver_(solver),
<a name="l00301"></a>00301         array_(solver-&gt;UnsafeRevAllocArray(new Cell*[initial_size])),
<a name="l00302"></a>00302         size_(initial_size),
<a name="l00303"></a>00303         num_items_(0) {
<a name="l00304"></a>00304     memset(array_, 0, <span class="keyword">sizeof</span>(*array_) * size_.<a class="code" href="classoperations__research_1_1Rev.html#c7f33945b63174a54775a3e342c08c28">Value</a>());
<a name="l00305"></a>00305   }
<a name="l00306"></a>00306 
<a name="l00307"></a><a class="code" href="classoperations__research_1_1RevImmutableMultiMap.html#f8f8619f77a20868de764b036066dc3b">00307</a>   <a class="code" href="classoperations__research_1_1RevImmutableMultiMap.html#f8f8619f77a20868de764b036066dc3b">~RevImmutableMultiMap</a>() {}
<a name="l00308"></a>00308 
<a name="l00309"></a><a class="code" href="classoperations__research_1_1RevImmutableMultiMap.html#81169ad801c904d7f625979325db7aeb">00309</a>   <span class="keywordtype">int</span> <a class="code" href="classoperations__research_1_1RevImmutableMultiMap.html#81169ad801c904d7f625979325db7aeb">num_items</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> num_items_.<a class="code" href="classoperations__research_1_1Rev.html#c7f33945b63174a54775a3e342c08c28">Value</a>(); }
<a name="l00310"></a>00310 
<a name="l00311"></a>00311   <span class="comment">// Returns true if the multi-map contains at least one instance of 'key'.</span>
<a name="l00312"></a><a class="code" href="classoperations__research_1_1RevImmutableMultiMap.html#97b49426c8cc6a9344043e231ff1b12b">00312</a>   <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1RevImmutableMultiMap.html#97b49426c8cc6a9344043e231ff1b12b" title="Returns true if the multi-map contains at least one instance of &amp;#39;key&amp;#39;.">ContainsKey</a>(<span class="keyword">const</span> K&amp; key)<span class="keyword"> const </span>{
<a name="l00313"></a>00313     uint64 code = <a class="code" href="namespaceoperations__research.html#64cf3e1336ec61275bdd2ae853d38406" title="Reversible Hash Table.">Hash1</a>(key) % size_.<a class="code" href="classoperations__research_1_1Rev.html#c7f33945b63174a54775a3e342c08c28">Value</a>();
<a name="l00314"></a>00314     Cell* tmp = array_[code];
<a name="l00315"></a>00315     <span class="keywordflow">while</span> (tmp) {
<a name="l00316"></a>00316       <span class="keywordflow">if</span> (tmp-&gt;key() == key) {
<a name="l00317"></a>00317         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00318"></a>00318       }
<a name="l00319"></a>00319       tmp = tmp-&gt;next();
<a name="l00320"></a>00320     }
<a name="l00321"></a>00321     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00322"></a>00322   }
<a name="l00323"></a>00323 
<a name="l00324"></a>00324   <span class="comment">// Returns one value attached to 'key', or 'defaut_value' if 'key'</span>
<a name="l00325"></a>00325   <span class="comment">// is not in the multi-map. The actual value returned if more than one</span>
<a name="l00326"></a>00326   <span class="comment">// values is attached to the same key is not specified.</span>
<a name="l00327"></a><a class="code" href="classoperations__research_1_1RevImmutableMultiMap.html#c33f9bff6efd00c16dc0c3d40b74d64c">00327</a>   <span class="keyword">const</span> V&amp; <a class="code" href="classoperations__research_1_1RevImmutableMultiMap.html#c33f9bff6efd00c16dc0c3d40b74d64c" title="Returns one value attached to &amp;#39;key&amp;#39;, or &amp;#39;defaut_value&amp;#39; if &amp;#39;key&amp;#39;...">FindWithDefault</a>(<span class="keyword">const</span> K&amp; key, <span class="keyword">const</span> V&amp; default_value)<span class="keyword"> const </span>{
<a name="l00328"></a>00328     uint64 code = <a class="code" href="namespaceoperations__research.html#64cf3e1336ec61275bdd2ae853d38406" title="Reversible Hash Table.">Hash1</a>(key) % size_.<a class="code" href="classoperations__research_1_1Rev.html#c7f33945b63174a54775a3e342c08c28">Value</a>();
<a name="l00329"></a>00329     Cell* tmp = array_[code];
<a name="l00330"></a>00330     <span class="keywordflow">while</span> (tmp) {
<a name="l00331"></a>00331       <span class="keywordflow">if</span> (tmp-&gt;key() == key) {
<a name="l00332"></a>00332         <span class="keywordflow">return</span> tmp-&gt;value();
<a name="l00333"></a>00333       }
<a name="l00334"></a>00334       tmp = tmp-&gt;next();
<a name="l00335"></a>00335     }
<a name="l00336"></a>00336     <span class="keywordflow">return</span> default_value;
<a name="l00337"></a>00337   }
<a name="l00338"></a>00338 
<a name="l00339"></a>00339   <span class="comment">// Inserts (key, value) in the multi-map.</span>
<a name="l00340"></a><a class="code" href="classoperations__research_1_1RevImmutableMultiMap.html#00d0083447f546e8a43744ed5063e98d">00340</a>   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1RevImmutableMultiMap.html#00d0083447f546e8a43744ed5063e98d" title="Inserts (key, value) in the multi-map.">Insert</a>(<span class="keyword">const</span> K&amp; key, <span class="keyword">const</span> V&amp; <a class="code" href="search_8cc.html#21edc7ca4cc5802c8779d68556bc09cf">value</a>) {
<a name="l00341"></a>00341     <span class="keyword">const</span> <span class="keywordtype">int</span> position = <a class="code" href="namespaceoperations__research.html#64cf3e1336ec61275bdd2ae853d38406" title="Reversible Hash Table.">Hash1</a>(key) % size_.<a class="code" href="classoperations__research_1_1Rev.html#c7f33945b63174a54775a3e342c08c28">Value</a>();
<a name="l00342"></a>00342     Cell* <span class="keyword">const</span> cell =
<a name="l00343"></a>00343         solver_-&gt;<a class="code" href="classoperations__research_1_1Solver.html#33e4733225dee453b75d83c991194286">UnsafeRevAlloc</a>(<span class="keyword">new</span> Cell(key, value, array_[position]));
<a name="l00344"></a>00344     solver_-&gt;<a class="code" href="classoperations__research_1_1Solver.html#fca376d8b0abd52b94534112442f1614" title="All-in-one SaveAndSetValue.">SaveAndSetValue</a>(reinterpret_cast&lt;void**&gt;(&amp;array_[position]),
<a name="l00345"></a>00345                              reinterpret_cast&lt;void*&gt;(cell));
<a name="l00346"></a>00346     num_items_.<a class="code" href="classoperations__research_1_1NumericalRev.html#5cb75653696c123cfc8dbc5a9e916084">Incr</a>(solver_);
<a name="l00347"></a>00347     <span class="keywordflow">if</span> (num_items_.<a class="code" href="classoperations__research_1_1Rev.html#c7f33945b63174a54775a3e342c08c28">Value</a>() &gt; 2 * size_.<a class="code" href="classoperations__research_1_1Rev.html#c7f33945b63174a54775a3e342c08c28">Value</a>()) {
<a name="l00348"></a>00348       Double();
<a name="l00349"></a>00349     }
<a name="l00350"></a>00350   }
<a name="l00351"></a>00351 
<a name="l00352"></a>00352  <span class="keyword">private</span>:
<a name="l00353"></a>00353   <span class="keyword">class </span>Cell {
<a name="l00354"></a>00354    <span class="keyword">public</span>:
<a name="l00355"></a>00355     Cell(<span class="keyword">const</span> K&amp; key, <span class="keyword">const</span> V&amp; <a class="code" href="search_8cc.html#21edc7ca4cc5802c8779d68556bc09cf">value</a>, Cell* <span class="keyword">const</span> <a class="code" href="constraint__solver_8cc.html#395f613555f398dd389670bb4c2a4599">next</a>)
<a name="l00356"></a>00356         : key_(key), <a class="code" href="count__cst_8cc.html#c6e4658a955b43c47093a302239fc4ff">value_</a>(value), <a class="code" href="model__cache_8cc.html#53d6ea59f292e1205c44619eed73d925">next_</a>(next) {}
<a name="l00357"></a>00357 
<a name="l00358"></a>00358     <span class="keywordtype">void</span> SetRevNext(Solver* <span class="keyword">const</span> solver, Cell* <span class="keyword">const</span> <a class="code" href="constraint__solver_8cc.html#395f613555f398dd389670bb4c2a4599">next</a>) {
<a name="l00359"></a>00359       solver-&gt;SaveAndSetValue(reinterpret_cast&lt;void**&gt;(&amp;<a class="code" href="model__cache_8cc.html#53d6ea59f292e1205c44619eed73d925">next_</a>),
<a name="l00360"></a>00360                               reinterpret_cast&lt;void*&gt;(next));
<a name="l00361"></a>00361     }
<a name="l00362"></a>00362 
<a name="l00363"></a>00363     Cell* <a class="code" href="constraint__solver_8cc.html#395f613555f398dd389670bb4c2a4599">next</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="model__cache_8cc.html#53d6ea59f292e1205c44619eed73d925">next_</a>; }
<a name="l00364"></a>00364 
<a name="l00365"></a>00365     <span class="keyword">const</span> K&amp; key()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> key_; }
<a name="l00366"></a>00366 
<a name="l00367"></a>00367     <span class="keyword">const</span> V&amp; <a class="code" href="search_8cc.html#21edc7ca4cc5802c8779d68556bc09cf">value</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="count__cst_8cc.html#c6e4658a955b43c47093a302239fc4ff">value_</a>; }
<a name="l00368"></a>00368 
<a name="l00369"></a>00369    <span class="keyword">private</span>:
<a name="l00370"></a>00370     <span class="keyword">const</span> K key_;
<a name="l00371"></a>00371     <span class="keyword">const</span> V <a class="code" href="count__cst_8cc.html#c6e4658a955b43c47093a302239fc4ff">value_</a>;
<a name="l00372"></a>00372     Cell* <a class="code" href="model__cache_8cc.html#53d6ea59f292e1205c44619eed73d925">next_</a>;
<a name="l00373"></a>00373   };
<a name="l00374"></a>00374 
<a name="l00375"></a>00375   <span class="keywordtype">void</span> Double() {
<a name="l00376"></a>00376     Cell** <span class="keyword">const</span> old_cell_array = array_;
<a name="l00377"></a>00377     <span class="keyword">const</span> <span class="keywordtype">int</span> old_size = size_.Value();
<a name="l00378"></a>00378     size_.SetValue(solver_, size_.Value() * 2);
<a name="l00379"></a>00379     solver_-&gt;SaveAndSetValue(
<a name="l00380"></a>00380         reinterpret_cast&lt;void**&gt;(&amp;array_),
<a name="l00381"></a>00381         reinterpret_cast&lt;void*&gt;(
<a name="l00382"></a>00382             solver_-&gt;UnsafeRevAllocArray(<span class="keyword">new</span> Cell*[size_.Value()])));
<a name="l00383"></a>00383     memset(array_, 0, size_.Value() * <span class="keyword">sizeof</span>(*array_));
<a name="l00384"></a>00384     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; old_size; ++i) {
<a name="l00385"></a>00385       Cell* tmp = old_cell_array[i];
<a name="l00386"></a>00386       <span class="keywordflow">while</span> (tmp != NULL) {
<a name="l00387"></a>00387         Cell* <span class="keyword">const</span> to_reinsert = tmp;
<a name="l00388"></a>00388         tmp = tmp-&gt;next();
<a name="l00389"></a>00389         <span class="keyword">const</span> uint64 new_position = <a class="code" href="namespaceoperations__research.html#64cf3e1336ec61275bdd2ae853d38406" title="Reversible Hash Table.">Hash1</a>(to_reinsert-&gt;key()) % size_.Value();
<a name="l00390"></a>00390         to_reinsert-&gt;SetRevNext(solver_, array_[new_position]);
<a name="l00391"></a>00391         solver_-&gt;SaveAndSetValue(
<a name="l00392"></a>00392             reinterpret_cast&lt;void**&gt;(&amp;array_[new_position]),
<a name="l00393"></a>00393             reinterpret_cast&lt;void*&gt;(to_reinsert));
<a name="l00394"></a>00394       }
<a name="l00395"></a>00395     }
<a name="l00396"></a>00396   }
<a name="l00397"></a>00397 
<a name="l00398"></a>00398   Solver* <span class="keyword">const</span> solver_;
<a name="l00399"></a>00399   Cell** array_;
<a name="l00400"></a>00400   NumericalRev&lt;int&gt; size_;
<a name="l00401"></a>00401   NumericalRev&lt;int&gt; num_items_;
<a name="l00402"></a>00402 };
<a name="l00403"></a>00403 
<a name="l00404"></a>00404 <span class="comment">// A reversible switch that can switch once from false to true.</span>
<a name="l00405"></a><a class="code" href="classoperations__research_1_1RevSwitch.html">00405</a> <span class="keyword">class </span><a class="code" href="classoperations__research_1_1RevSwitch.html" title="A reversible switch that can switch once from false to true.">RevSwitch</a> {
<a name="l00406"></a>00406  <span class="keyword">public</span>:
<a name="l00407"></a><a class="code" href="classoperations__research_1_1RevSwitch.html#9cbcd58bae27fd3071ba8a28ab4a4465">00407</a>   <a class="code" href="classoperations__research_1_1RevSwitch.html#9cbcd58bae27fd3071ba8a28ab4a4465">RevSwitch</a>() : value_(false) {}
<a name="l00408"></a>00408 
<a name="l00409"></a><a class="code" href="classoperations__research_1_1RevSwitch.html#1783a9a2ac88d2a76b9d25367b1cc514">00409</a>   <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1RevSwitch.html#1783a9a2ac88d2a76b9d25367b1cc514">Switched</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> value_; }
<a name="l00410"></a>00410 
<a name="l00411"></a><a class="code" href="classoperations__research_1_1RevSwitch.html#f763ccb69c3a1d9f94227f246d9c685d">00411</a>   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1RevSwitch.html#f763ccb69c3a1d9f94227f246d9c685d">Switch</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> solver) {
<a name="l00412"></a>00412     solver-&gt;<a class="code" href="classoperations__research_1_1Solver.html#fca376d8b0abd52b94534112442f1614" title="All-in-one SaveAndSetValue.">SaveAndSetValue</a>(&amp;value_, <span class="keyword">true</span>);
<a name="l00413"></a>00413   }
<a name="l00414"></a>00414 
<a name="l00415"></a>00415  <span class="keyword">private</span>:
<a name="l00416"></a>00416   <span class="keywordtype">bool</span> value_;
<a name="l00417"></a>00417 };
<a name="l00418"></a>00418 
<a name="l00419"></a>00419 <span class="comment">// This class represents a small reversible bitset (size &lt;= 64).</span>
<a name="l00420"></a>00420 <span class="comment">// This class is useful to maintain supports.</span>
<a name="l00421"></a><a class="code" href="classoperations__research_1_1SmallRevBitSet.html">00421</a> <span class="keyword">class </span><a class="code" href="classoperations__research_1_1SmallRevBitSet.html" title="This class represents a small reversible bitset (size &amp;lt;= 64).">SmallRevBitSet</a> {
<a name="l00422"></a>00422  <span class="keyword">public</span>:
<a name="l00423"></a>00423   <span class="keyword">explicit</span> <a class="code" href="classoperations__research_1_1SmallRevBitSet.html#0984b7441a23c75de696103cadc044b5" title="SmallRevBitSet.">SmallRevBitSet</a>(int64 size);
<a name="l00424"></a>00424   <span class="comment">// Sets the 'pos' bit.</span>
<a name="l00425"></a>00425   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SmallRevBitSet.html#427373fdc21062991efa27f991862ff6" title="Sets the &amp;#39;pos&amp;#39; bit.">SetToOne</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> solver, int64 pos);
<a name="l00426"></a>00426   <span class="comment">// Erases the 'pos' bit.</span>
<a name="l00427"></a>00427   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SmallRevBitSet.html#22f35c8d356a6bc1dfb95bb36da6d37a" title="Erases the &amp;#39;pos&amp;#39; bit.">SetToZero</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> solver, int64 pos);
<a name="l00428"></a>00428   <span class="comment">// Returns the number of bits set to one.</span>
<a name="l00429"></a>00429   int64 <a class="code" href="classoperations__research_1_1SmallRevBitSet.html#8d5b430eed66fd29882693acb179e1c1" title="Returns the number of bits set to one.">Cardinality</a>() <span class="keyword">const</span>;
<a name="l00430"></a>00430   <span class="comment">// Is bitset null?</span>
<a name="l00431"></a><a class="code" href="classoperations__research_1_1SmallRevBitSet.html#c48a71fee237bc7b7c30da70964feac4">00431</a>   <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1SmallRevBitSet.html#c48a71fee237bc7b7c30da70964feac4" title="Is bitset null?">IsCardinalityZero</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> bits_.<a class="code" href="classoperations__research_1_1Rev.html#c7f33945b63174a54775a3e342c08c28">Value</a>() == GG_ULONGLONG(0); }
<a name="l00432"></a>00432   <span class="comment">// Does it contains only one bit set?</span>
<a name="l00433"></a><a class="code" href="classoperations__research_1_1SmallRevBitSet.html#658d742e0b7ad7f6970fc767b6a109b6">00433</a>   <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1SmallRevBitSet.html#658d742e0b7ad7f6970fc767b6a109b6" title="Does it contains only one bit set?">IsCardinalityOne</a>()<span class="keyword"> const </span>{
<a name="l00434"></a>00434     <span class="keywordflow">return</span> (bits_.<a class="code" href="classoperations__research_1_1Rev.html#c7f33945b63174a54775a3e342c08c28">Value</a>() != 0) &amp;&amp; !(bits_.<a class="code" href="classoperations__research_1_1Rev.html#c7f33945b63174a54775a3e342c08c28">Value</a>() &amp; (bits_.<a class="code" href="classoperations__research_1_1Rev.html#c7f33945b63174a54775a3e342c08c28">Value</a>() - 1));
<a name="l00435"></a>00435   }
<a name="l00436"></a>00436   <span class="comment">// Gets the index of the first bit set starting from 0.</span>
<a name="l00437"></a>00437   <span class="comment">// It returns -1 if the bitset is empty.</span>
<a name="l00438"></a>00438   int64 <a class="code" href="classoperations__research_1_1SmallRevBitSet.html#8f2b8156245201ddfdb9df3d98f5ceb4" title="Gets the index of the first bit set starting from 0.">GetFirstOne</a>() <span class="keyword">const</span>;
<a name="l00439"></a>00439 
<a name="l00440"></a>00440  <span class="keyword">private</span>:
<a name="l00441"></a>00441   <a class="code" href="classoperations__research_1_1Rev.html" title="This class adds reversibility to a POD type.">Rev&lt;uint64&gt;</a> bits_;
<a name="l00442"></a>00442 };
<a name="l00443"></a>00443 
<a name="l00444"></a>00444 <span class="comment">// This class represents a reversible bitset.</span>
<a name="l00445"></a>00445 <span class="comment">// This class is useful to maintain supports.</span>
<a name="l00446"></a><a class="code" href="classoperations__research_1_1RevBitSet.html">00446</a> <span class="keyword">class </span><a class="code" href="classoperations__research_1_1RevBitSet.html" title="This class represents a reversible bitset.">RevBitSet</a> {
<a name="l00447"></a>00447  <span class="keyword">public</span>:
<a name="l00448"></a>00448   <span class="keyword">explicit</span> <a class="code" href="classoperations__research_1_1RevBitSet.html#7369d4e2ea1843501af11edd89199b8c" title="RevBitSet.">RevBitSet</a>(int64 size);
<a name="l00449"></a>00449   <a class="code" href="classoperations__research_1_1RevBitSet.html#72aaa0163218aec6e1ca39a8118fa584">~RevBitSet</a>();
<a name="l00450"></a>00450 
<a name="l00451"></a>00451   <span class="comment">// Sets the 'pos' bit.</span>
<a name="l00452"></a>00452   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1RevBitSet.html#2ac97e7b0f29e9405ce4465b8d7f407a" title="Sets the &amp;#39;pos&amp;#39; bit.">SetToOne</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> solver, int64 pos);
<a name="l00453"></a>00453   <span class="comment">// Erases the 'pos' bit.</span>
<a name="l00454"></a>00454   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1RevBitSet.html#487c03117be2f0f5c983acc4d5fd27eb" title="Erases the &amp;#39;pos&amp;#39; bit.">SetToZero</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> solver, int64 pos);
<a name="l00455"></a>00455   <span class="comment">// Returns whether the 'pos' bit is set.</span>
<a name="l00456"></a>00456   <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1RevBitSet.html#c32e8eb114c816d8e9ad1d3564e73a91" title="Returns whether the &amp;#39;pos&amp;#39; bit is set.">IsSet</a>(int64 pos) <span class="keyword">const</span>;
<a name="l00457"></a>00457   <span class="comment">// Returns the number of bits set to one.</span>
<a name="l00458"></a>00458   int64 <a class="code" href="classoperations__research_1_1RevBitSet.html#57b08039570d8a3101c21dc003be6ed9" title="Returns the number of bits set to one.">Cardinality</a>() <span class="keyword">const</span>;
<a name="l00459"></a>00459   <span class="comment">// Is bitset null?</span>
<a name="l00460"></a>00460   <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1RevBitSet.html#8ec6e7f2b6f808e3c53ac1d120d7ab82" title="Is bitset null?">IsCardinalityZero</a>() <span class="keyword">const</span>;
<a name="l00461"></a>00461   <span class="comment">// Does it contains only one bit set?</span>
<a name="l00462"></a>00462   <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1RevBitSet.html#9b7a644f43cceff713cd3b641755698d" title="Does it contains only one bit set?">IsCardinalityOne</a>() <span class="keyword">const</span>;
<a name="l00463"></a>00463   <span class="comment">// Gets the index of the first bit set starting from start.</span>
<a name="l00464"></a>00464   <span class="comment">// It returns -1 if the bitset is empty after start.</span>
<a name="l00465"></a>00465   int64 <a class="code" href="classoperations__research_1_1RevBitSet.html#84c8bc32d2e8c150d7828e380c51c0c8" title="Gets the index of the first bit set starting from start.">GetFirstBit</a>(<span class="keywordtype">int</span> start) <span class="keyword">const</span>;
<a name="l00466"></a>00466   <span class="comment">// Cleans all bits.</span>
<a name="l00467"></a>00467   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1RevBitSet.html#20fc5ddbc3ee9a1da7d04386f1182738" title="Cleans all bits.">ClearAll</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> solver);
<a name="l00468"></a>00468 
<a name="l00469"></a><a class="code" href="classoperations__research_1_1RevBitSet.html#c9da3e5301f8c4c0ed8a261d0a0b2cbd">00469</a>   <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classoperations__research_1_1RevBitMatrix.html" title="Matrix version of the RevBitSet class.">RevBitMatrix</a>;
<a name="l00470"></a>00470 
<a name="l00471"></a>00471  <span class="keyword">private</span>:
<a name="l00472"></a>00472   <span class="comment">// Save the offset's part of the bitset.</span>
<a name="l00473"></a>00473   <span class="keywordtype">void</span> Save(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> solver, <span class="keywordtype">int</span> offset);
<a name="l00474"></a>00474   <span class="keyword">const</span> int64 <a class="code" href="alldiff__cst_8cc.html#6947fa5d6ba628dd62d59ffbad8b8d80">size_</a>;
<a name="l00475"></a>00475   <span class="keyword">const</span> int64 <a class="code" href="table_8cc.html#7d5350e32a84386f3508693ad02992b1" title="Length of bitsets in double words.">length_</a>;
<a name="l00476"></a>00476   uint64* <a class="code" href="expr__array_8cc.html#73a8baa20b434b21eb2bd54a616f5020">bits_</a>;
<a name="l00477"></a>00477   uint64* <a class="code" href="expressions_8cc.html#b73b7f1fe6fa9cd55b481b628c237000">stamps_</a>;
<a name="l00478"></a>00478 };
<a name="l00479"></a>00479 
<a name="l00480"></a>00480 <span class="comment">// Matrix version of the RevBitSet class.</span>
<a name="l00481"></a><a class="code" href="classoperations__research_1_1RevBitMatrix.html">00481</a> <span class="keyword">class </span><a class="code" href="classoperations__research_1_1RevBitMatrix.html" title="Matrix version of the RevBitSet class.">RevBitMatrix</a> : <span class="keyword">private</span> <a class="code" href="classoperations__research_1_1RevBitSet.html" title="This class represents a reversible bitset.">RevBitSet</a> {
<a name="l00482"></a>00482  <span class="keyword">public</span>:
<a name="l00483"></a>00483   <a class="code" href="classoperations__research_1_1RevBitMatrix.html#19ec53631a03b21642ff92537e324709" title="RevBitMatrix.">RevBitMatrix</a>(int64 rows, int64 columns);
<a name="l00484"></a>00484   <a class="code" href="classoperations__research_1_1RevBitMatrix.html#087c4a97694ce2632a52edea72f51390">~RevBitMatrix</a>();
<a name="l00485"></a>00485 
<a name="l00486"></a>00486   <span class="comment">// Sets the 'column' bit in the 'row' row..</span>
<a name="l00487"></a>00487   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1RevBitMatrix.html#0460e124e790229cb2d65f74491048b4" title="Sets the &amp;#39;column&amp;#39; bit in the &amp;#39;row&amp;#39; row..">SetToOne</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> solver, int64 row, int64 column);
<a name="l00488"></a>00488   <span class="comment">// Erases the 'column' bit in the 'row' row..</span>
<a name="l00489"></a>00489   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1RevBitMatrix.html#0687c0f2721ff132b707569b69020c1d" title="Erases the &amp;#39;column&amp;#39; bit in the &amp;#39;row&amp;#39; row..">SetToZero</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> solver, int64 row, int64 column);
<a name="l00490"></a>00490   <span class="comment">// Returns whether the 'column' bit in the 'row' row is set.</span>
<a name="l00491"></a><a class="code" href="classoperations__research_1_1RevBitMatrix.html#e7b08637f44107e42c005ab7d8226583">00491</a>   <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1RevBitMatrix.html#e7b08637f44107e42c005ab7d8226583" title="Returns whether the &amp;#39;column&amp;#39; bit in the &amp;#39;row&amp;#39; row is set.">IsSet</a>(int64 row, int64 column)<span class="keyword"> const </span>{
<a name="l00492"></a>00492     DCHECK_GE(row, 0);
<a name="l00493"></a>00493     DCHECK_LT(row, rows_);
<a name="l00494"></a>00494     DCHECK_GE(column, 0);
<a name="l00495"></a>00495     DCHECK_LT(column, columns_);
<a name="l00496"></a>00496     <span class="keywordflow">return</span> <a class="code" href="classoperations__research_1_1RevBitSet.html#c32e8eb114c816d8e9ad1d3564e73a91" title="Returns whether the &amp;#39;pos&amp;#39; bit is set.">RevBitSet::IsSet</a>(row * columns_ + column);
<a name="l00497"></a>00497   }
<a name="l00498"></a>00498   <span class="comment">// Returns the number of bits set to one in the 'row' row.</span>
<a name="l00499"></a>00499   int64 <a class="code" href="classoperations__research_1_1RevBitSet.html#57b08039570d8a3101c21dc003be6ed9" title="Returns the number of bits set to one.">Cardinality</a>(<span class="keywordtype">int</span> row) <span class="keyword">const</span>;
<a name="l00500"></a>00500   <span class="comment">// Is bitset of row 'row' null?</span>
<a name="l00501"></a>00501   <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1RevBitSet.html#8ec6e7f2b6f808e3c53ac1d120d7ab82" title="Is bitset null?">IsCardinalityZero</a>(<span class="keywordtype">int</span> row) <span class="keyword">const</span>;
<a name="l00502"></a>00502   <span class="comment">// Does the 'row' bitset contains only one bit set?</span>
<a name="l00503"></a>00503   <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1RevBitSet.html#9b7a644f43cceff713cd3b641755698d" title="Does it contains only one bit set?">IsCardinalityOne</a>(<span class="keywordtype">int</span> row) <span class="keyword">const</span>;
<a name="l00504"></a>00504   <span class="comment">// Returns the first bit in the row 'row' which position is &gt;= 'start'.</span>
<a name="l00505"></a>00505   <span class="comment">// It returns -1 if there are none.</span>
<a name="l00506"></a>00506   int64 <a class="code" href="classoperations__research_1_1RevBitMatrix.html#39114b5db595161d5f18ed71f2c343a9" title="Returns the first bit in the row &amp;#39;row&amp;#39; which position is &amp;gt;= &amp;#39;start&amp;#39;...">GetFirstBit</a>(<span class="keywordtype">int</span> row, <span class="keywordtype">int</span> start) <span class="keyword">const</span>;
<a name="l00507"></a>00507   <span class="comment">// Cleans all bits.</span>
<a name="l00508"></a>00508   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1RevBitMatrix.html#3389f1e156b74cfc031d8ae2edd0cf60" title="Cleans all bits.">ClearAll</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> solver);
<a name="l00509"></a>00509 
<a name="l00510"></a>00510  <span class="keyword">private</span>:
<a name="l00511"></a>00511   <span class="keyword">const</span> int64 rows_;
<a name="l00512"></a>00512   <span class="keyword">const</span> int64 columns_;
<a name="l00513"></a>00513 };
<a name="l00514"></a>00514 
<a name="l00515"></a>00515 <span class="comment">// @{</span>
<a name="l00516"></a>00516 <span class="comment">// These methods represent generic demons that will call back a</span>
<a name="l00517"></a>00517 <span class="comment">// method on the constraint during their Run method.</span>
<a name="l00518"></a>00518 <span class="comment">// This way, all propagation methods are members of the constraint class,</span>
<a name="l00519"></a>00519 <span class="comment">// and demons are just proxies with a priority of NORMAL_PRIORITY.</span>
<a name="l00520"></a>00520 
<a name="l00521"></a>00521 <span class="comment">// Demon proxy to a method on the constraint with no arguments.</span>
<a name="l00522"></a><a class="code" href="classoperations__research_1_1CallMethod0.html">00522</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">class </span><a class="code" href="classoperations__research_1_1CallMethod0.html" title="Demon proxy to a method on the constraint with no arguments.">CallMethod0</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1Demon.html" title="A Demon is the base element of a propagation queue.">Demon</a> {
<a name="l00523"></a>00523  <span class="keyword">public</span>:
<a name="l00524"></a><a class="code" href="classoperations__research_1_1CallMethod0.html#2ff2a02eb49bf2fdd637eef770a67289">00524</a>   <a class="code" href="classoperations__research_1_1CallMethod0.html#2ff2a02eb49bf2fdd637eef770a67289">CallMethod0</a>(T* <span class="keyword">const</span> ct, <span class="keywordtype">void</span> (T::*method)(), <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code" href="default__search_8cc.html#1848ae81740c68c2502b2f176cfadcef" title="A name for logging purposes.">name</a>)
<a name="l00525"></a>00525       : constraint_(ct), method_(method), name_(name) {}
<a name="l00526"></a>00526 
<a name="l00527"></a><a class="code" href="classoperations__research_1_1CallMethod0.html#298ad21fb0246c26c0a3b9c903ee1476">00527</a>   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1CallMethod0.html#298ad21fb0246c26c0a3b9c903ee1476">~CallMethod0</a>() {}
<a name="l00528"></a>00528 
<a name="l00529"></a><a class="code" href="classoperations__research_1_1CallMethod0.html#8bb9fe5351ccf4279e1d56cc6846328a">00529</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1CallMethod0.html#8bb9fe5351ccf4279e1d56cc6846328a" title="This is the main callback of the demon.">Run</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> s) {
<a name="l00530"></a>00530     (constraint_-&gt;*method_)();
<a name="l00531"></a>00531   }
<a name="l00532"></a>00532 
<a name="l00533"></a><a class="code" href="classoperations__research_1_1CallMethod0.html#e5d39f65c0b387daac05de80c40c78da">00533</a>   <span class="keyword">virtual</span> <span class="keywordtype">string</span> <a class="code" href="classoperations__research_1_1CallMethod0.html#e5d39f65c0b387daac05de80c40c78da">DebugString</a>()<span class="keyword"> const </span>{
<a name="l00534"></a>00534     <span class="keywordflow">return</span> <span class="stringliteral">"CallMethod_"</span> + name_ + <span class="stringliteral">"("</span> + constraint_-&gt;DebugString() + <span class="stringliteral">")"</span>;
<a name="l00535"></a>00535   }
<a name="l00536"></a>00536 
<a name="l00537"></a>00537  <span class="keyword">private</span>:
<a name="l00538"></a>00538   T* <span class="keyword">const</span> constraint_;
<a name="l00539"></a>00539   void (T::* <span class="keyword">const</span> method_)();
<a name="l00540"></a>00540   <span class="keyword">const</span> <span class="keywordtype">string</span> name_;
<a name="l00541"></a>00541 };
<a name="l00542"></a>00542 
<a name="l00543"></a><a class="code" href="namespaceoperations__research.html#50b3d41d8dbf72bb2ad22235a9e1f53e">00543</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <a class="code" href="classoperations__research_1_1Demon.html" title="A Demon is the base element of a propagation queue.">Demon</a>* <a class="code" href="namespaceoperations__research.html#50b3d41d8dbf72bb2ad22235a9e1f53e">MakeConstraintDemon0</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> s,
<a name="l00544"></a>00544                                                T* <span class="keyword">const</span> ct,
<a name="l00545"></a>00545                                                <span class="keywordtype">void</span> (T::*method)(),
<a name="l00546"></a>00546                                                <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code" href="default__search_8cc.html#1848ae81740c68c2502b2f176cfadcef" title="A name for logging purposes.">name</a>) {
<a name="l00547"></a>00547   <span class="keywordflow">return</span> s-&gt;<a class="code" href="classoperations__research_1_1Solver.html#c668195dafc8397ada82227f605b0ed4" title="Registers the given object as being reversible.">RevAlloc</a>(<span class="keyword">new</span> <a class="code" href="classoperations__research_1_1CallMethod0.html" title="Demon proxy to a method on the constraint with no arguments.">CallMethod0&lt;T&gt;</a>(ct, method, name));
<a name="l00548"></a>00548 }
<a name="l00549"></a>00549 
<a name="l00550"></a>00550 <span class="comment">// Demon proxy to a method on the constraint with one argument.</span>
<a name="l00551"></a><a class="code" href="classoperations__research_1_1CallMethod1.html">00551</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> P&gt; <span class="keyword">class </span><a class="code" href="classoperations__research_1_1CallMethod1.html" title="Demon proxy to a method on the constraint with one argument.">CallMethod1</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1Demon.html" title="A Demon is the base element of a propagation queue.">Demon</a> {
<a name="l00552"></a>00552  <span class="keyword">public</span>:
<a name="l00553"></a><a class="code" href="classoperations__research_1_1CallMethod1.html#b1d047192a93d680c89049fce9ee3deb">00553</a>   <a class="code" href="classoperations__research_1_1CallMethod1.html#b1d047192a93d680c89049fce9ee3deb">CallMethod1</a>(T* <span class="keyword">const</span> ct,
<a name="l00554"></a>00554               <span class="keywordtype">void</span> (T::*method)(P),
<a name="l00555"></a>00555               <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code" href="default__search_8cc.html#1848ae81740c68c2502b2f176cfadcef" title="A name for logging purposes.">name</a>,
<a name="l00556"></a>00556               P param1)
<a name="l00557"></a>00557       : constraint_(ct),
<a name="l00558"></a>00558         method_(method),
<a name="l00559"></a>00559         name_(name),
<a name="l00560"></a>00560         param1_(param1) {}
<a name="l00561"></a>00561 
<a name="l00562"></a><a class="code" href="classoperations__research_1_1CallMethod1.html#5c9f461024162679db563d776c12eca2">00562</a>   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1CallMethod1.html#5c9f461024162679db563d776c12eca2">~CallMethod1</a>() {}
<a name="l00563"></a>00563 
<a name="l00564"></a><a class="code" href="classoperations__research_1_1CallMethod1.html#e32066db529918d4679826ef4e41524a">00564</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1CallMethod1.html#e32066db529918d4679826ef4e41524a" title="This is the main callback of the demon.">Run</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> s) {
<a name="l00565"></a>00565     (constraint_-&gt;*method_)(param1_);
<a name="l00566"></a>00566   }
<a name="l00567"></a>00567 
<a name="l00568"></a><a class="code" href="classoperations__research_1_1CallMethod1.html#723a0a471db247c0ebad3a2429893465">00568</a>   <span class="keyword">virtual</span> <span class="keywordtype">string</span> <a class="code" href="classoperations__research_1_1CallMethod1.html#723a0a471db247c0ebad3a2429893465">DebugString</a>()<span class="keyword"> const </span>{
<a name="l00569"></a>00569     <span class="keywordflow">return</span> StrCat(StrCat(<span class="stringliteral">"CallMethod_"</span>, name_),
<a name="l00570"></a>00570                   StrCat(<span class="stringliteral">"("</span>, constraint_-&gt;DebugString(), <span class="stringliteral">", "</span>),
<a name="l00571"></a>00571                   StrCat(param1_, <span class="stringliteral">")"</span>));
<a name="l00572"></a>00572   }
<a name="l00573"></a>00573 
<a name="l00574"></a>00574  <span class="keyword">private</span>:
<a name="l00575"></a>00575   T* <span class="keyword">const</span> constraint_;
<a name="l00576"></a>00576   void (T::* <span class="keyword">const</span> method_)(P);
<a name="l00577"></a>00577   <span class="keyword">const</span> <span class="keywordtype">string</span> name_;
<a name="l00578"></a>00578   P param1_;
<a name="l00579"></a>00579 };
<a name="l00580"></a>00580 
<a name="l00581"></a>00581 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> P&gt;
<a name="l00582"></a><a class="code" href="namespaceoperations__research.html#bc7cb18be5d9d418d32782253cd4bf5a">00582</a> <a class="code" href="classoperations__research_1_1Demon.html" title="A Demon is the base element of a propagation queue.">Demon</a>* <a class="code" href="namespaceoperations__research.html#bc7cb18be5d9d418d32782253cd4bf5a">MakeConstraintDemon1</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> s,
<a name="l00583"></a>00583                             T* <span class="keyword">const</span> ct,
<a name="l00584"></a>00584                             <span class="keywordtype">void</span> (T::*method)(P),
<a name="l00585"></a>00585                             <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code" href="default__search_8cc.html#1848ae81740c68c2502b2f176cfadcef" title="A name for logging purposes.">name</a>,
<a name="l00586"></a>00586                             P param1) {
<a name="l00587"></a>00587   <span class="keywordflow">return</span> s-&gt;<a class="code" href="classoperations__research_1_1Solver.html#c668195dafc8397ada82227f605b0ed4" title="Registers the given object as being reversible.">RevAlloc</a>(<span class="keyword">new</span> <a class="code" href="classoperations__research_1_1CallMethod1.html" title="Demon proxy to a method on the constraint with one argument.">CallMethod1&lt;T, P&gt;</a>(ct, method, name, param1));
<a name="l00588"></a>00588 }
<a name="l00589"></a>00589 
<a name="l00590"></a>00590 <span class="comment">// Demon proxy to a method on the constraint with two arguments.</span>
<a name="l00591"></a><a class="code" href="classoperations__research_1_1CallMethod2.html">00591</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> P, <span class="keyword">class</span> Q&gt; <span class="keyword">class </span><a class="code" href="classoperations__research_1_1CallMethod2.html" title="Demon proxy to a method on the constraint with two arguments.">CallMethod2</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1Demon.html" title="A Demon is the base element of a propagation queue.">Demon</a> {
<a name="l00592"></a>00592  <span class="keyword">public</span>:
<a name="l00593"></a><a class="code" href="classoperations__research_1_1CallMethod2.html#83f7fed30c303197dd91f208c2097782">00593</a>   <a class="code" href="classoperations__research_1_1CallMethod2.html#83f7fed30c303197dd91f208c2097782">CallMethod2</a>(T* <span class="keyword">const</span> ct,
<a name="l00594"></a>00594               <span class="keywordtype">void</span> (T::*method)(P, Q),
<a name="l00595"></a>00595               <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code" href="default__search_8cc.html#1848ae81740c68c2502b2f176cfadcef" title="A name for logging purposes.">name</a>,
<a name="l00596"></a>00596               P param1,
<a name="l00597"></a>00597               Q param2)
<a name="l00598"></a>00598       : constraint_(ct),
<a name="l00599"></a>00599         method_(method),
<a name="l00600"></a>00600         name_(name),
<a name="l00601"></a>00601         param1_(param1),
<a name="l00602"></a>00602         param2_(param2) {}
<a name="l00603"></a>00603 
<a name="l00604"></a><a class="code" href="classoperations__research_1_1CallMethod2.html#873cbc01937925af1c77803ab8776c68">00604</a>   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1CallMethod2.html#873cbc01937925af1c77803ab8776c68">~CallMethod2</a>() {}
<a name="l00605"></a>00605 
<a name="l00606"></a><a class="code" href="classoperations__research_1_1CallMethod2.html#3a08e2cd1dee3a1acff95eac01533b7c">00606</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1CallMethod2.html#3a08e2cd1dee3a1acff95eac01533b7c" title="This is the main callback of the demon.">Run</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> s) {
<a name="l00607"></a>00607     (constraint_-&gt;*method_)(param1_, param2_);
<a name="l00608"></a>00608   }
<a name="l00609"></a>00609 
<a name="l00610"></a><a class="code" href="classoperations__research_1_1CallMethod2.html#d79b89d1843346000c3f6fa65a2ac6e1">00610</a>   <span class="keyword">virtual</span> <span class="keywordtype">string</span> <a class="code" href="classoperations__research_1_1CallMethod2.html#d79b89d1843346000c3f6fa65a2ac6e1">DebugString</a>()<span class="keyword"> const </span>{
<a name="l00611"></a>00611     <span class="keywordflow">return</span> StrCat(StrCat(<span class="stringliteral">"CallMethod_"</span>, name_),
<a name="l00612"></a>00612                   StrCat(<span class="stringliteral">"("</span>, constraint_-&gt;DebugString()),
<a name="l00613"></a>00613                   StrCat(<span class="stringliteral">", "</span>, param1_),
<a name="l00614"></a>00614                   StrCat(<span class="stringliteral">", "</span>, param2_, <span class="stringliteral">")"</span>));
<a name="l00615"></a>00615   }
<a name="l00616"></a>00616 
<a name="l00617"></a>00617  <span class="keyword">private</span>:
<a name="l00618"></a>00618   T* <span class="keyword">const</span> constraint_;
<a name="l00619"></a>00619   void (T::* <span class="keyword">const</span> method_)(P, Q);
<a name="l00620"></a>00620   <span class="keyword">const</span> <span class="keywordtype">string</span> name_;
<a name="l00621"></a>00621   P param1_;
<a name="l00622"></a>00622   Q param2_;
<a name="l00623"></a>00623 };
<a name="l00624"></a>00624 
<a name="l00625"></a>00625 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> P, <span class="keyword">class</span> Q&gt;
<a name="l00626"></a><a class="code" href="namespaceoperations__research.html#47fe3ccce1dc5fe8f97cce749af70814">00626</a> <a class="code" href="classoperations__research_1_1Demon.html" title="A Demon is the base element of a propagation queue.">Demon</a>* <a class="code" href="namespaceoperations__research.html#47fe3ccce1dc5fe8f97cce749af70814">MakeConstraintDemon2</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> s,
<a name="l00627"></a>00627                             T* <span class="keyword">const</span> ct,
<a name="l00628"></a>00628                             <span class="keywordtype">void</span> (T::*method)(P, Q),
<a name="l00629"></a>00629                             <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code" href="default__search_8cc.html#1848ae81740c68c2502b2f176cfadcef" title="A name for logging purposes.">name</a>,
<a name="l00630"></a>00630                             P param1,
<a name="l00631"></a>00631                             Q param2) {
<a name="l00632"></a>00632   <span class="keywordflow">return</span> s-&gt;<a class="code" href="classoperations__research_1_1Solver.html#c668195dafc8397ada82227f605b0ed4" title="Registers the given object as being reversible.">RevAlloc</a>(<span class="keyword">new</span> <a class="code" href="classoperations__research_1_1CallMethod2.html" title="Demon proxy to a method on the constraint with two arguments.">CallMethod2&lt;T, P, Q&gt;</a>(ct,
<a name="l00633"></a>00633                                               method,
<a name="l00634"></a>00634                                               name,
<a name="l00635"></a>00635                                               param1,
<a name="l00636"></a>00636                                               param2));
<a name="l00637"></a>00637 }
<a name="l00638"></a>00638 <span class="comment">// @}</span>
<a name="l00639"></a>00639 
<a name="l00640"></a>00640 <span class="comment">// @{</span>
<a name="l00641"></a>00641 <span class="comment">// These methods represents generic demons that will call back a</span>
<a name="l00642"></a>00642 <span class="comment">// method on the constraint during their Run method. This demon will</span>
<a name="l00643"></a>00643 <span class="comment">// have a priority DELAYED_PRIORITY.</span>
<a name="l00644"></a>00644 
<a name="l00645"></a>00645 <span class="comment">// Low-priority demon proxy to a method on the constraint with no arguments.</span>
<a name="l00646"></a><a class="code" href="classoperations__research_1_1DelayedCallMethod0.html">00646</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">class </span><a class="code" href="classoperations__research_1_1DelayedCallMethod0.html" title="Low-priority demon proxy to a method on the constraint with no arguments.">DelayedCallMethod0</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1Demon.html" title="A Demon is the base element of a propagation queue.">Demon</a> {
<a name="l00647"></a>00647  <span class="keyword">public</span>:
<a name="l00648"></a><a class="code" href="classoperations__research_1_1DelayedCallMethod0.html#0805434d4f37d6a493ae3d681ec805cf">00648</a>   <a class="code" href="classoperations__research_1_1DelayedCallMethod0.html#0805434d4f37d6a493ae3d681ec805cf">DelayedCallMethod0</a>(T* <span class="keyword">const</span> ct, <span class="keywordtype">void</span> (T::*method)(), <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code" href="default__search_8cc.html#1848ae81740c68c2502b2f176cfadcef" title="A name for logging purposes.">name</a>)
<a name="l00649"></a>00649       : constraint_(ct), method_(method), name_(name) {}
<a name="l00650"></a>00650 
<a name="l00651"></a><a class="code" href="classoperations__research_1_1DelayedCallMethod0.html#1757840b905de1823b2d22c7652ab398">00651</a>   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1DelayedCallMethod0.html#1757840b905de1823b2d22c7652ab398">~DelayedCallMethod0</a>() {}
<a name="l00652"></a>00652 
<a name="l00653"></a><a class="code" href="classoperations__research_1_1DelayedCallMethod0.html#99d898a9cd49adc119c75b46d7bb7a78">00653</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1DelayedCallMethod0.html#99d898a9cd49adc119c75b46d7bb7a78" title="This is the main callback of the demon.">Run</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> s) {
<a name="l00654"></a>00654     (constraint_-&gt;*method_)();
<a name="l00655"></a>00655   }
<a name="l00656"></a>00656 
<a name="l00657"></a><a class="code" href="classoperations__research_1_1DelayedCallMethod0.html#368f94ffca3e63bc3cc0583d4cf53bdb">00657</a>   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1Solver.html#4b0972c731faf884eba5acab99ebb2b4" title="This enum represents the three possible priorities for a demon in the Solver queue...">Solver::DemonPriority</a> <a class="code" href="classoperations__research_1_1DelayedCallMethod0.html#368f94ffca3e63bc3cc0583d4cf53bdb" title="This method returns the priority of the demon.">priority</a>()<span class="keyword"> const </span>{
<a name="l00658"></a>00658     <span class="keywordflow">return</span> <a class="code" href="classoperations__research_1_1Solver.html#4b0972c731faf884eba5acab99ebb2b4f8769149902a8a2b168069cb93cc6370" title="DELAYED_PRIORITY is the lowest priority: Demons will be processed after VAR_PRIORITY...">Solver::DELAYED_PRIORITY</a>;
<a name="l00659"></a>00659   }
<a name="l00660"></a>00660 
<a name="l00661"></a><a class="code" href="classoperations__research_1_1DelayedCallMethod0.html#7b295d116055fa88244f57284c70de29">00661</a>   <span class="keyword">virtual</span> <span class="keywordtype">string</span> <a class="code" href="classoperations__research_1_1DelayedCallMethod0.html#7b295d116055fa88244f57284c70de29">DebugString</a>()<span class="keyword"> const </span>{
<a name="l00662"></a>00662     <span class="keywordflow">return</span> <span class="stringliteral">"DelayedCallMethod_"</span>
<a name="l00663"></a>00663         + name_ + <span class="stringliteral">"("</span> + constraint_-&gt;DebugString() + <span class="stringliteral">")"</span>;
<a name="l00664"></a>00664   }
<a name="l00665"></a>00665 
<a name="l00666"></a>00666  <span class="keyword">private</span>:
<a name="l00667"></a>00667   T* <span class="keyword">const</span> constraint_;
<a name="l00668"></a>00668   void (T::* <span class="keyword">const</span> method_)();
<a name="l00669"></a>00669   <span class="keyword">const</span> <span class="keywordtype">string</span> name_;
<a name="l00670"></a>00670 };
<a name="l00671"></a>00671 
<a name="l00672"></a><a class="code" href="namespaceoperations__research.html#16f35a1c0ce076f2587fffbab80200b6">00672</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <a class="code" href="classoperations__research_1_1Demon.html" title="A Demon is the base element of a propagation queue.">Demon</a>* <a class="code" href="namespaceoperations__research.html#16f35a1c0ce076f2587fffbab80200b6">MakeDelayedConstraintDemon0</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> s,
<a name="l00673"></a>00673                                                       T* <span class="keyword">const</span> ct,
<a name="l00674"></a>00674                                                       <span class="keywordtype">void</span> (T::*method)(),
<a name="l00675"></a>00675                                                       <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code" href="default__search_8cc.html#1848ae81740c68c2502b2f176cfadcef" title="A name for logging purposes.">name</a>) {
<a name="l00676"></a>00676   <span class="keywordflow">return</span> s-&gt;<a class="code" href="classoperations__research_1_1Solver.html#c668195dafc8397ada82227f605b0ed4" title="Registers the given object as being reversible.">RevAlloc</a>(<span class="keyword">new</span> <a class="code" href="classoperations__research_1_1DelayedCallMethod0.html" title="Low-priority demon proxy to a method on the constraint with no arguments.">DelayedCallMethod0&lt;T&gt;</a>(ct, method, name));
<a name="l00677"></a>00677 }
<a name="l00678"></a>00678 
<a name="l00679"></a>00679 <span class="comment">// Low-priority demon proxy to a method on the constraint with one argument.</span>
<a name="l00680"></a><a class="code" href="classoperations__research_1_1DelayedCallMethod1.html">00680</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> P&gt; <span class="keyword">class </span><a class="code" href="classoperations__research_1_1DelayedCallMethod1.html" title="Low-priority demon proxy to a method on the constraint with one argument.">DelayedCallMethod1</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1Demon.html" title="A Demon is the base element of a propagation queue.">Demon</a> {
<a name="l00681"></a>00681  <span class="keyword">public</span>:
<a name="l00682"></a><a class="code" href="classoperations__research_1_1DelayedCallMethod1.html#ca6503a150313be3c7f51ee30344eb41">00682</a>   <a class="code" href="classoperations__research_1_1DelayedCallMethod1.html#ca6503a150313be3c7f51ee30344eb41">DelayedCallMethod1</a>(T* <span class="keyword">const</span> ct,
<a name="l00683"></a>00683                      <span class="keywordtype">void</span> (T::*method)(P),
<a name="l00684"></a>00684                      <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code" href="default__search_8cc.html#1848ae81740c68c2502b2f176cfadcef" title="A name for logging purposes.">name</a>,
<a name="l00685"></a>00685                      P param1)
<a name="l00686"></a>00686       : constraint_(ct),
<a name="l00687"></a>00687         method_(method),
<a name="l00688"></a>00688         name_(name),
<a name="l00689"></a>00689         param1_(param1) {}
<a name="l00690"></a>00690 
<a name="l00691"></a><a class="code" href="classoperations__research_1_1DelayedCallMethod1.html#d477e4830ec7170e3c1540cd3d130bd3">00691</a>   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1DelayedCallMethod1.html#d477e4830ec7170e3c1540cd3d130bd3">~DelayedCallMethod1</a>() {}
<a name="l00692"></a>00692 
<a name="l00693"></a><a class="code" href="classoperations__research_1_1DelayedCallMethod1.html#256fb6bf344f23781cad355ed3efc2c4">00693</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1DelayedCallMethod1.html#256fb6bf344f23781cad355ed3efc2c4" title="This is the main callback of the demon.">Run</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> s) {
<a name="l00694"></a>00694     (constraint_-&gt;*method_)(param1_);
<a name="l00695"></a>00695   }
<a name="l00696"></a>00696 
<a name="l00697"></a><a class="code" href="classoperations__research_1_1DelayedCallMethod1.html#f9683d25e85b5b3b4696d7deb39d492f">00697</a>   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1Solver.html#4b0972c731faf884eba5acab99ebb2b4" title="This enum represents the three possible priorities for a demon in the Solver queue...">Solver::DemonPriority</a> <a class="code" href="classoperations__research_1_1DelayedCallMethod1.html#f9683d25e85b5b3b4696d7deb39d492f" title="This method returns the priority of the demon.">priority</a>()<span class="keyword"> const </span>{
<a name="l00698"></a>00698     <span class="keywordflow">return</span> <a class="code" href="classoperations__research_1_1Solver.html#4b0972c731faf884eba5acab99ebb2b4f8769149902a8a2b168069cb93cc6370" title="DELAYED_PRIORITY is the lowest priority: Demons will be processed after VAR_PRIORITY...">Solver::DELAYED_PRIORITY</a>;
<a name="l00699"></a>00699   }
<a name="l00700"></a>00700 
<a name="l00701"></a><a class="code" href="classoperations__research_1_1DelayedCallMethod1.html#9b638064e2c2e502e632ec885ace5f30">00701</a>   <span class="keyword">virtual</span> <span class="keywordtype">string</span> <a class="code" href="classoperations__research_1_1DelayedCallMethod1.html#9b638064e2c2e502e632ec885ace5f30">DebugString</a>()<span class="keyword"> const </span>{
<a name="l00702"></a>00702     <span class="keywordflow">return</span> StrCat(StrCat(<span class="stringliteral">"DelayedCallMethod_"</span>, name_),
<a name="l00703"></a>00703                   StrCat(<span class="stringliteral">"("</span>, constraint_-&gt;DebugString(), <span class="stringliteral">", "</span>),
<a name="l00704"></a>00704                   StrCat(param1_, <span class="stringliteral">")"</span>));
<a name="l00705"></a>00705   }
<a name="l00706"></a>00706 
<a name="l00707"></a>00707  <span class="keyword">private</span>:
<a name="l00708"></a>00708   T* <span class="keyword">const</span> constraint_;
<a name="l00709"></a>00709   void (T::* <span class="keyword">const</span> method_)(P);
<a name="l00710"></a>00710   <span class="keyword">const</span> <span class="keywordtype">string</span> name_;
<a name="l00711"></a>00711   P param1_;
<a name="l00712"></a>00712 };
<a name="l00713"></a>00713 
<a name="l00714"></a>00714 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> P&gt;
<a name="l00715"></a><a class="code" href="namespaceoperations__research.html#869e6e925746cfabd4ed3a12bdb44cfb">00715</a> <a class="code" href="classoperations__research_1_1Demon.html" title="A Demon is the base element of a propagation queue.">Demon</a>* <a class="code" href="namespaceoperations__research.html#869e6e925746cfabd4ed3a12bdb44cfb">MakeDelayedConstraintDemon1</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> s,
<a name="l00716"></a>00716                                    T* <span class="keyword">const</span> ct,
<a name="l00717"></a>00717                                    <span class="keywordtype">void</span> (T::*method)(P),
<a name="l00718"></a>00718                                    <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code" href="default__search_8cc.html#1848ae81740c68c2502b2f176cfadcef" title="A name for logging purposes.">name</a>,
<a name="l00719"></a>00719                                    P param1) {
<a name="l00720"></a>00720   <span class="keywordflow">return</span> s-&gt;<a class="code" href="classoperations__research_1_1Solver.html#c668195dafc8397ada82227f605b0ed4" title="Registers the given object as being reversible.">RevAlloc</a>(<span class="keyword">new</span> <a class="code" href="classoperations__research_1_1DelayedCallMethod1.html" title="Low-priority demon proxy to a method on the constraint with one argument.">DelayedCallMethod1&lt;T, P&gt;</a>(ct, method, name, param1));
<a name="l00721"></a>00721 }
<a name="l00722"></a>00722 
<a name="l00723"></a>00723 <span class="comment">// Low-priority demon proxy to a method on the constraint with two arguments.</span>
<a name="l00724"></a><a class="code" href="classoperations__research_1_1DelayedCallMethod2.html">00724</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> P, <span class="keyword">class</span> Q&gt; <span class="keyword">class </span><a class="code" href="classoperations__research_1_1DelayedCallMethod2.html" title="Low-priority demon proxy to a method on the constraint with two arguments.">DelayedCallMethod2</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1Demon.html" title="A Demon is the base element of a propagation queue.">Demon</a> {
<a name="l00725"></a>00725  <span class="keyword">public</span>:
<a name="l00726"></a><a class="code" href="classoperations__research_1_1DelayedCallMethod2.html#81896cbb39b73e18e6cc18adce0c552c">00726</a>   <a class="code" href="classoperations__research_1_1DelayedCallMethod2.html#81896cbb39b73e18e6cc18adce0c552c">DelayedCallMethod2</a>(T* <span class="keyword">const</span> ct,
<a name="l00727"></a>00727                      <span class="keywordtype">void</span> (T::*method)(P, Q),
<a name="l00728"></a>00728                      <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code" href="default__search_8cc.html#1848ae81740c68c2502b2f176cfadcef" title="A name for logging purposes.">name</a>,
<a name="l00729"></a>00729                      P param1,
<a name="l00730"></a>00730                      Q param2)
<a name="l00731"></a>00731       : constraint_(ct),
<a name="l00732"></a>00732         method_(method),
<a name="l00733"></a>00733         name_(name),
<a name="l00734"></a>00734         param1_(param1),
<a name="l00735"></a>00735         param2_(param2) {}
<a name="l00736"></a>00736 
<a name="l00737"></a><a class="code" href="classoperations__research_1_1DelayedCallMethod2.html#ce48f3cde9db24ae1114bffc94a2bb40">00737</a>   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1DelayedCallMethod2.html#ce48f3cde9db24ae1114bffc94a2bb40">~DelayedCallMethod2</a>() {}
<a name="l00738"></a>00738 
<a name="l00739"></a><a class="code" href="classoperations__research_1_1DelayedCallMethod2.html#3253b1999d7c9f17e720cc4f8071300e">00739</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1DelayedCallMethod2.html#3253b1999d7c9f17e720cc4f8071300e" title="This is the main callback of the demon.">Run</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> s) {
<a name="l00740"></a>00740     (constraint_-&gt;*method_)(param1_, param2_);
<a name="l00741"></a>00741   }
<a name="l00742"></a>00742 
<a name="l00743"></a><a class="code" href="classoperations__research_1_1DelayedCallMethod2.html#8dcc2537662160b69f3875b80f66476e">00743</a>   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1Solver.html#4b0972c731faf884eba5acab99ebb2b4" title="This enum represents the three possible priorities for a demon in the Solver queue...">Solver::DemonPriority</a> <a class="code" href="classoperations__research_1_1DelayedCallMethod2.html#8dcc2537662160b69f3875b80f66476e" title="This method returns the priority of the demon.">priority</a>()<span class="keyword"> const </span>{
<a name="l00744"></a>00744     <span class="keywordflow">return</span> <a class="code" href="classoperations__research_1_1Solver.html#4b0972c731faf884eba5acab99ebb2b4f8769149902a8a2b168069cb93cc6370" title="DELAYED_PRIORITY is the lowest priority: Demons will be processed after VAR_PRIORITY...">Solver::DELAYED_PRIORITY</a>;
<a name="l00745"></a>00745   }
<a name="l00746"></a>00746 
<a name="l00747"></a><a class="code" href="classoperations__research_1_1DelayedCallMethod2.html#e7f0a4be71bcb74ed1fa6cfc95ea60ef">00747</a>   <span class="keyword">virtual</span> <span class="keywordtype">string</span> <a class="code" href="classoperations__research_1_1DelayedCallMethod2.html#e7f0a4be71bcb74ed1fa6cfc95ea60ef">DebugString</a>()<span class="keyword"> const </span>{
<a name="l00748"></a>00748     <span class="keywordflow">return</span> StrCat(StrCat(<span class="stringliteral">"DelayedCallMethod_"</span>, name_),
<a name="l00749"></a>00749                   StrCat(<span class="stringliteral">"("</span>, constraint_-&gt;DebugString()),
<a name="l00750"></a>00750                   StrCat(<span class="stringliteral">", "</span>, param1_),
<a name="l00751"></a>00751                   StrCat(<span class="stringliteral">", "</span>, param2_, <span class="stringliteral">")"</span>));
<a name="l00752"></a>00752   }
<a name="l00753"></a>00753 
<a name="l00754"></a>00754  <span class="keyword">private</span>:
<a name="l00755"></a>00755   T* <span class="keyword">const</span> constraint_;
<a name="l00756"></a>00756   void (T::* <span class="keyword">const</span> method_)(P, Q);
<a name="l00757"></a>00757   <span class="keyword">const</span> <span class="keywordtype">string</span> name_;
<a name="l00758"></a>00758   P param1_;
<a name="l00759"></a>00759   Q param2_;
<a name="l00760"></a>00760 };
<a name="l00761"></a>00761 
<a name="l00762"></a>00762 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> P, <span class="keyword">class</span> Q&gt;
<a name="l00763"></a><a class="code" href="namespaceoperations__research.html#5970c2f94a662226b28e1ecab2ac83b7">00763</a> <a class="code" href="classoperations__research_1_1Demon.html" title="A Demon is the base element of a propagation queue.">Demon</a>* <a class="code" href="namespaceoperations__research.html#5970c2f94a662226b28e1ecab2ac83b7">MakeDelayedConstraintDemon2</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> s,
<a name="l00764"></a>00764                                    T* <span class="keyword">const</span> ct,
<a name="l00765"></a>00765                                    <span class="keywordtype">void</span> (T::*method)(P, Q),
<a name="l00766"></a>00766                                    <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code" href="default__search_8cc.html#1848ae81740c68c2502b2f176cfadcef" title="A name for logging purposes.">name</a>,
<a name="l00767"></a>00767                                    P param1,
<a name="l00768"></a>00768                                    Q param2) {
<a name="l00769"></a>00769   <span class="keywordflow">return</span> s-&gt;<a class="code" href="classoperations__research_1_1Solver.html#c668195dafc8397ada82227f605b0ed4" title="Registers the given object as being reversible.">RevAlloc</a>(<span class="keyword">new</span> <a class="code" href="classoperations__research_1_1DelayedCallMethod2.html" title="Low-priority demon proxy to a method on the constraint with two arguments.">DelayedCallMethod2&lt;T, P, Q&gt;</a>(ct,
<a name="l00770"></a>00770                                                      method,
<a name="l00771"></a>00771                                                      name,
<a name="l00772"></a>00772                                                      param1,
<a name="l00773"></a>00773                                                      param2));
<a name="l00774"></a>00774 }
<a name="l00775"></a>00775 <span class="comment">// @}</span>
<a name="l00776"></a>00776 
<a name="l00777"></a>00777 <span class="preprocessor">#endif   // !defined(SWIG)</span>
<a name="l00778"></a>00778 <span class="preprocessor"></span>
<a name="l00779"></a>00779 <span class="comment">// ---------- Local search operators ----------</span>
<a name="l00780"></a>00780 
<a name="l00781"></a>00781 <span class="comment">// The base class for all local search operators.</span>
<a name="l00782"></a>00782 <span class="comment">// A local search operator is an object which defines the neighborhood of a</span>
<a name="l00783"></a>00783 <span class="comment">// solution; in other words, a neighborhood is the set of solutions which can</span>
<a name="l00784"></a>00784 <span class="comment">// be reached from a given solution using an operator.</span>
<a name="l00785"></a>00785 <span class="comment">// The behavior of the LocalSearchOperator class is similar to the one of an</span>
<a name="l00786"></a>00786 <span class="comment">// iterator. The operator is synchronized with an assignment (gives the</span>
<a name="l00787"></a>00787 <span class="comment">// current values of the variables); this is done in the Start() method.</span>
<a name="l00788"></a>00788 <span class="comment">// Then one can iterate over the neighbors using the MakeNextNeighbor method.</span>
<a name="l00789"></a>00789 <span class="comment">// This method returns an assignment which represents the incremental changes</span>
<a name="l00790"></a>00790 <span class="comment">// to the curent solution. It also returns a second assignment representing the</span>
<a name="l00791"></a>00791 <span class="comment">// changes to the last solution defined by the neighborhood operator; this</span>
<a name="l00792"></a>00792 <span class="comment">// assignment is empty is the neighborhood operator cannot track this</span>
<a name="l00793"></a>00793 <span class="comment">// information.</span>
<a name="l00794"></a>00794 <span class="comment">// TODO(user): rename Start to Synchronize ?</span>
<a name="l00795"></a>00795 <span class="comment">// TODO(user): decouple the iterating from the defining of a neighbor.</span>
<a name="l00796"></a><a class="code" href="classoperations__research_1_1LocalSearchOperator.html">00796</a> <span class="keyword">class </span><a class="code" href="classoperations__research_1_1LocalSearchOperator.html" title="&amp;lt; !defined(SWIG)">LocalSearchOperator</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1BaseObject.html" title="Useful Search and Modeling Objects.">BaseObject</a> {
<a name="l00797"></a>00797  <span class="keyword">public</span>:
<a name="l00798"></a><a class="code" href="classoperations__research_1_1LocalSearchOperator.html#f23505cc80b48f7de0c2e6a8d8424c5e">00798</a>   <a class="code" href="classoperations__research_1_1LocalSearchOperator.html#f23505cc80b48f7de0c2e6a8d8424c5e">LocalSearchOperator</a>() {}
<a name="l00799"></a><a class="code" href="classoperations__research_1_1LocalSearchOperator.html#505cf4a4020ebf8b2d2f67df3477adb4">00799</a>   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1LocalSearchOperator.html#505cf4a4020ebf8b2d2f67df3477adb4">~LocalSearchOperator</a>() {}
<a name="l00800"></a>00800   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1LocalSearchOperator.html#2951ae57e5fd3fce7d4f9b831594b460">MakeNextNeighbor</a>(<a class="code" href="classoperations__research_1_1Assignment.html" title="Assignment.">Assignment</a>* <a class="code" href="resource_8cc.html#73461c37822b6ebb75b54ba1a9ffb442">delta</a>, <a class="code" href="classoperations__research_1_1Assignment.html" title="Assignment.">Assignment</a>* deltadelta) = 0;
<a name="l00801"></a>00801   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1LocalSearchOperator.html#832fd07f7355d16895841a4735e544c1">Start</a>(<span class="keyword">const</span> <a class="code" href="classoperations__research_1_1Assignment.html" title="Assignment.">Assignment</a>* assignment) = 0;
<a name="l00802"></a>00802 };
<a name="l00803"></a>00803 
<a name="l00804"></a>00804 <span class="comment">// ----- Base operator class for operators manipulating IntVars -----</span>
<a name="l00805"></a>00805 
<a name="l00806"></a>00806 <span class="comment">// Specialization of LocalSearchOperator built from an array of IntVars</span>
<a name="l00807"></a>00807 <span class="comment">// which specifies the scope of the operator.</span>
<a name="l00808"></a>00808 <span class="comment">// This class also takes care of storing current variable values in Start(),</span>
<a name="l00809"></a>00809 <span class="comment">// keeps track of changes done by the operator and builds the delta.</span>
<a name="l00810"></a>00810 <span class="comment">// The Deactivate() method can be used to perform Large Neighborhood Search.</span>
<a name="l00811"></a><a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html">00811</a> <span class="keyword">class </span><a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html" title="Base operator class for operators manipulating IntVars.">IntVarLocalSearchOperator</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1LocalSearchOperator.html" title="&amp;lt; !defined(SWIG)">LocalSearchOperator</a> {
<a name="l00812"></a>00812  <span class="keyword">public</span>:
<a name="l00813"></a>00813   <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#1981dffba9e0458f5bd4669a5f1c15e1" title="Base operator class for operators manipulating IntVars.">IntVarLocalSearchOperator</a>();
<a name="l00814"></a>00814   <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#1981dffba9e0458f5bd4669a5f1c15e1" title="Base operator class for operators manipulating IntVars.">IntVarLocalSearchOperator</a>(<span class="keyword">const</span> <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span>* vars, <span class="keywordtype">int</span> size);
<a name="l00815"></a>00815   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#d61ecedaa6bdfb4a34c01687ec7bb197">~IntVarLocalSearchOperator</a>();
<a name="l00816"></a>00816   <span class="comment">// This method should not be overridden. Override OnStart() instead which is</span>
<a name="l00817"></a>00817   <span class="comment">// called before exiting this method.</span>
<a name="l00818"></a>00818   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#86ada2075515afdcd7f8979f4a2ee55d" title="This method should not be overridden.">Start</a>(<span class="keyword">const</span> <a class="code" href="classoperations__research_1_1Assignment.html" title="Assignment.">Assignment</a>* assignment);
<a name="l00819"></a><a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#3aadcb0db97dbb1f9bbdeb6b7027263d">00819</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#3aadcb0db97dbb1f9bbdeb6b7027263d">IsIncremental</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l00820"></a><a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#06049b26315b8312917df7d0981c66cd">00820</a>   <span class="keywordtype">int</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#06049b26315b8312917df7d0981c66cd">Size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> size_; }
<a name="l00821"></a>00821   <span class="comment">// Returns the value in the current assignment of the variable of given index.</span>
<a name="l00822"></a><a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#b9b49aa4a778263f2d60e70e39577e73">00822</a>   int64 <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#b9b49aa4a778263f2d60e70e39577e73" title="Returns the value in the current assignment of the variable of given index.">Value</a>(int64 <a class="code" href="pack_8cc.html#750b5d744c39a06bfb13e6eb010e35d0">index</a>)<span class="keyword"> const </span>{
<a name="l00823"></a>00823     DCHECK_LT(index, size_);
<a name="l00824"></a>00824     <span class="keywordflow">return</span> values_[index];
<a name="l00825"></a>00825   }
<a name="l00826"></a>00826   <span class="comment">// Returns the variable of given index.</span>
<a name="l00827"></a><a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#d8d6076357a0fca565cbdc586006d513">00827</a>   <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#d8d6076357a0fca565cbdc586006d513" title="Returns the variable of given index.">Var</a>(int64 <a class="code" href="pack_8cc.html#750b5d744c39a06bfb13e6eb010e35d0">index</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> vars_[index]; }
<a name="l00828"></a><a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#8e2dfc7ab50a078f22dac560d91973d3">00828</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#8e2dfc7ab50a078f22dac560d91973d3">SkipUnchanged</a>(<span class="keywordtype">int</span> <a class="code" href="pack_8cc.html#750b5d744c39a06bfb13e6eb010e35d0">index</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l00829"></a>00829 
<a name="l00830"></a>00830   <span class="comment">// Redefines MakeNextNeighbor to export a simpler interface. The calls to</span>
<a name="l00831"></a>00831   <span class="comment">// ApplyChanges() and RevertChanges() are factored in this method, hiding both</span>
<a name="l00832"></a>00832   <span class="comment">// delta and deltadelta from subclasses which only need to override</span>
<a name="l00833"></a>00833   <span class="comment">// MakeOneNeighbor().</span>
<a name="l00834"></a>00834   <span class="comment">// Therefore this method should not be overridden. Override MakeOneNeighbor()</span>
<a name="l00835"></a>00835   <span class="comment">// instead.</span>
<a name="l00836"></a>00836   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#888d01db3a407e1f4e09108d2c6e1fbc" title="Redefines MakeNextNeighbor to export a simpler interface.">MakeNextNeighbor</a>(<a class="code" href="classoperations__research_1_1Assignment.html" title="Assignment.">Assignment</a>* <a class="code" href="resource_8cc.html#73461c37822b6ebb75b54ba1a9ffb442">delta</a>, <a class="code" href="classoperations__research_1_1Assignment.html" title="Assignment.">Assignment</a>* deltadelta);
<a name="l00837"></a>00837 
<a name="l00838"></a>00838  <span class="keyword">protected</span>:
<a name="l00839"></a>00839   <span class="comment">// Creates a new neighbor. It returns false when the neighborhood is</span>
<a name="l00840"></a>00840   <span class="comment">// completely explored.</span>
<a name="l00841"></a>00841   <span class="comment">// TODO(user): make it pure virtual, implies porting all apps overriding</span>
<a name="l00842"></a>00842   <span class="comment">// MakeNextNeighbor() in a subclass of IntVarLocalSearchOperator.</span>
<a name="l00843"></a>00843   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#c8bc688def85b27b6aa66e1f099050a4" title="Creates a new neighbor.">MakeOneNeighbor</a>();
<a name="l00844"></a>00844 
<a name="l00845"></a><a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#dcb0d248ee16199ea6dbfad900a1e0ec">00845</a>   int64 <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#dcb0d248ee16199ea6dbfad900a1e0ec">OldValue</a>(int64 <a class="code" href="pack_8cc.html#750b5d744c39a06bfb13e6eb010e35d0">index</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> old_values_[index]; }
<a name="l00846"></a>00846   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#50588f7d283f450f9d78ecdabd402e95">SetValue</a>(int64 <a class="code" href="pack_8cc.html#750b5d744c39a06bfb13e6eb010e35d0">index</a>, int64 <a class="code" href="search_8cc.html#21edc7ca4cc5802c8779d68556bc09cf">value</a>);
<a name="l00847"></a>00847   <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#8df2a236c7429fc3f5ef9801c8c553f7">Activated</a>(int64 <a class="code" href="pack_8cc.html#750b5d744c39a06bfb13e6eb010e35d0">index</a>) <span class="keyword">const</span>;
<a name="l00848"></a>00848   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#08206ce321501a2f2059a40f44f1d75d">Activate</a>(int64 <a class="code" href="pack_8cc.html#750b5d744c39a06bfb13e6eb010e35d0">index</a>);
<a name="l00849"></a>00849   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#f08da496dbe37aceaacd1833b95a5c4f">Deactivate</a>(int64 <a class="code" href="pack_8cc.html#750b5d744c39a06bfb13e6eb010e35d0">index</a>);
<a name="l00850"></a>00850   <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#57026a137a5e7edb907db52299150598">ApplyChanges</a>(<a class="code" href="classoperations__research_1_1Assignment.html" title="Assignment.">Assignment</a>* <a class="code" href="resource_8cc.html#73461c37822b6ebb75b54ba1a9ffb442">delta</a>, <a class="code" href="classoperations__research_1_1Assignment.html" title="Assignment.">Assignment</a>* deltadelta) <span class="keyword">const</span>;
<a name="l00851"></a>00851   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#ea723d799bb0f6d39ee2f80c7c3eef44">RevertChanges</a>(<span class="keywordtype">bool</span> incremental);
<a name="l00852"></a>00852   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#373531e56b70f8487427129f2daeb5a5">AddVars</a>(<span class="keyword">const</span> <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span>* vars, <span class="keywordtype">int</span> size);
<a name="l00853"></a>00853 
<a name="l00854"></a>00854  <span class="keyword">private</span>:
<a name="l00855"></a>00855   <span class="comment">// Called by Start() after synchronizing the operator with the current</span>
<a name="l00856"></a>00856   <span class="comment">// assignment. Should be overridden instead of Start() to avoid calling</span>
<a name="l00857"></a>00857   <span class="comment">// IntVarLocalSearchOperator::Start explicitly.</span>
<a name="l00858"></a>00858   <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnStart() {}
<a name="l00859"></a>00859   <span class="keywordtype">void</span> MarkChange(int64 <a class="code" href="pack_8cc.html#750b5d744c39a06bfb13e6eb010e35d0">index</a>);
<a name="l00860"></a>00860 
<a name="l00861"></a>00861   scoped_array&lt;IntVar*&gt; vars_;
<a name="l00862"></a>00862   <span class="keywordtype">int</span> size_;
<a name="l00863"></a>00863   scoped_array&lt;int64&gt; values_;
<a name="l00864"></a>00864   scoped_array&lt;int64&gt; old_values_;
<a name="l00865"></a>00865   Bitmap activated_;
<a name="l00866"></a>00866   Bitmap was_activated_;
<a name="l00867"></a>00867   std::vector&lt;int64&gt; changes_;
<a name="l00868"></a>00868   Bitmap has_changed_;
<a name="l00869"></a>00869   Bitmap has_delta_changed_;
<a name="l00870"></a>00870   <span class="keywordtype">bool</span> cleared_;
<a name="l00871"></a>00871 };
<a name="l00872"></a>00872 
<a name="l00873"></a>00873 <span class="comment">// ----- SequenceVarLocalSearchOperator -----</span>
<a name="l00874"></a>00874 
<a name="l00875"></a>00875 <span class="comment">// TODO(user): Merge with IntVarLocalSearchOperator.</span>
<a name="l00876"></a><a class="code" href="classoperations__research_1_1SequenceVarLocalSearchOperator.html">00876</a> <span class="keyword">class </span><a class="code" href="classoperations__research_1_1SequenceVarLocalSearchOperator.html" title="SequenceVarLocalSearchOperator.">SequenceVarLocalSearchOperator</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1LocalSearchOperator.html" title="&amp;lt; !defined(SWIG)">LocalSearchOperator</a> {
<a name="l00877"></a>00877  <span class="keyword">public</span>:
<a name="l00878"></a>00878   <a class="code" href="classoperations__research_1_1SequenceVarLocalSearchOperator.html#96001d1aefc31de08b25a4f43f949c4b" title="Sequence Var Local Search Operator.">SequenceVarLocalSearchOperator</a>();
<a name="l00879"></a>00879   <a class="code" href="classoperations__research_1_1SequenceVarLocalSearchOperator.html#96001d1aefc31de08b25a4f43f949c4b" title="Sequence Var Local Search Operator.">SequenceVarLocalSearchOperator</a>(<span class="keyword">const</span> <a class="code" href="classoperations__research_1_1SequenceVar.html" title="SequenceVar.">SequenceVar</a>* <span class="keyword">const</span>* vars, <span class="keywordtype">int</span> size);
<a name="l00880"></a>00880   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1SequenceVarLocalSearchOperator.html#cf15054f33b307fbe11ee423f566555c">~SequenceVarLocalSearchOperator</a>();
<a name="l00881"></a>00881   <span class="comment">// This method should not be overridden. Override OnStart() instead which is</span>
<a name="l00882"></a>00882   <span class="comment">// called before exiting this method.</span>
<a name="l00883"></a>00883   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SequenceVarLocalSearchOperator.html#3f9cb02dc6b659f0613f7429cb65b2a5" title="This method should not be overridden.">Start</a>(<span class="keyword">const</span> <a class="code" href="classoperations__research_1_1Assignment.html" title="Assignment.">Assignment</a>* assignment);
<a name="l00884"></a><a class="code" href="classoperations__research_1_1SequenceVarLocalSearchOperator.html#54dbc0505017658362ef3e2f7db4f78b">00884</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1SequenceVarLocalSearchOperator.html#54dbc0505017658362ef3e2f7db4f78b">IsIncremental</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l00885"></a><a class="code" href="classoperations__research_1_1SequenceVarLocalSearchOperator.html#93d2d2ab42cfeed0e9aef0e9ea7715fa">00885</a>   <span class="keywordtype">int</span> <a class="code" href="classoperations__research_1_1SequenceVarLocalSearchOperator.html#93d2d2ab42cfeed0e9aef0e9ea7715fa">Size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> size_; }
<a name="l00886"></a>00886   <span class="comment">// Returns the value in the current assignment of the variable of given index.</span>
<a name="l00887"></a>00887 <span class="preprocessor">#if !defined(SWIG)</span>
<a name="l00888"></a><a class="code" href="classoperations__research_1_1SequenceVarLocalSearchOperator.html#f3d135ad80d68291a467f4ab20cc4089">00888</a> <span class="preprocessor"></span>  <span class="keyword">const</span> std::vector&lt;int&gt;&amp; <a class="code" href="classoperations__research_1_1SequenceVarLocalSearchOperator.html#f3d135ad80d68291a467f4ab20cc4089" title="Returns the value in the current assignment of the variable of given index.">Sequence</a>(int64 <a class="code" href="pack_8cc.html#750b5d744c39a06bfb13e6eb010e35d0">index</a>)<span class="keyword"> const </span>{
<a name="l00889"></a>00889     DCHECK_LT(index, size_);
<a name="l00890"></a>00890     <span class="keywordflow">return</span> values_[index];
<a name="l00891"></a>00891   }
<a name="l00892"></a>00892 <span class="preprocessor">#endif</span>
<a name="l00893"></a>00893 <span class="preprocessor"></span>  <span class="comment">// Returns the variable of given index.</span>
<a name="l00894"></a><a class="code" href="classoperations__research_1_1SequenceVarLocalSearchOperator.html#6bdb6a266fb22b16c103f2c215452317">00894</a>   <a class="code" href="classoperations__research_1_1SequenceVar.html" title="SequenceVar.">SequenceVar</a>* <a class="code" href="classoperations__research_1_1SequenceVarLocalSearchOperator.html#6bdb6a266fb22b16c103f2c215452317" title="Returns the variable of given index.">Var</a>(int64 <a class="code" href="pack_8cc.html#750b5d744c39a06bfb13e6eb010e35d0">index</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> vars_[index]; }
<a name="l00895"></a><a class="code" href="classoperations__research_1_1SequenceVarLocalSearchOperator.html#cf8820cf66246d165d9caed619f58528">00895</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1SequenceVarLocalSearchOperator.html#cf8820cf66246d165d9caed619f58528">SkipUnchanged</a>(<span class="keywordtype">int</span> <a class="code" href="pack_8cc.html#750b5d744c39a06bfb13e6eb010e35d0">index</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l00896"></a>00896 
<a name="l00897"></a>00897  <span class="keyword">protected</span>:
<a name="l00898"></a><a class="code" href="classoperations__research_1_1SequenceVarLocalSearchOperator.html#f3f6a6d538f1a5a3b1d229dbe5b3c1ef">00898</a>   <span class="keyword">const</span> std::vector&lt;int&gt;&amp; <a class="code" href="classoperations__research_1_1SequenceVarLocalSearchOperator.html#f3f6a6d538f1a5a3b1d229dbe5b3c1ef">OldSequence</a>(int64 <a class="code" href="pack_8cc.html#750b5d744c39a06bfb13e6eb010e35d0">index</a>)<span class="keyword"> const </span>{
<a name="l00899"></a>00899     <span class="keywordflow">return</span> old_values_[index];
<a name="l00900"></a>00900   }
<a name="l00901"></a>00901   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SequenceVarLocalSearchOperator.html#9000b96654d1467e831d8f020701429e">SetForwardSequence</a>(int64 <a class="code" href="pack_8cc.html#750b5d744c39a06bfb13e6eb010e35d0">index</a>, <span class="keyword">const</span> std::vector&lt;int&gt;&amp; <a class="code" href="search_8cc.html#21edc7ca4cc5802c8779d68556bc09cf">value</a>);
<a name="l00902"></a>00902   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SequenceVarLocalSearchOperator.html#a2f375549359ac7050eaed6f3562c42e">SetBackwardSequence</a>(int64 <a class="code" href="pack_8cc.html#750b5d744c39a06bfb13e6eb010e35d0">index</a>, <span class="keyword">const</span> std::vector&lt;int&gt;&amp; <a class="code" href="search_8cc.html#21edc7ca4cc5802c8779d68556bc09cf">value</a>);
<a name="l00903"></a>00903   <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1SequenceVarLocalSearchOperator.html#7c4721fb464c645e0dadb0a5f8dde646">Activated</a>(int64 <a class="code" href="pack_8cc.html#750b5d744c39a06bfb13e6eb010e35d0">index</a>) <span class="keyword">const</span>;
<a name="l00904"></a>00904   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SequenceVarLocalSearchOperator.html#0c6d644d66398cec80edf093e7703154">Activate</a>(int64 <a class="code" href="pack_8cc.html#750b5d744c39a06bfb13e6eb010e35d0">index</a>);
<a name="l00905"></a>00905   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SequenceVarLocalSearchOperator.html#f693b0b211f0743cd34f46bf0a73e975">Deactivate</a>(int64 <a class="code" href="pack_8cc.html#750b5d744c39a06bfb13e6eb010e35d0">index</a>);
<a name="l00906"></a>00906   <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1SequenceVarLocalSearchOperator.html#cbe3718d8b34a2abea6774f9c691e042">ApplyChanges</a>(<a class="code" href="classoperations__research_1_1Assignment.html" title="Assignment.">Assignment</a>* <a class="code" href="resource_8cc.html#73461c37822b6ebb75b54ba1a9ffb442">delta</a>, <a class="code" href="classoperations__research_1_1Assignment.html" title="Assignment.">Assignment</a>* deltadelta) <span class="keyword">const</span>;
<a name="l00907"></a>00907   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SequenceVarLocalSearchOperator.html#67507c523a3c16f4a8ca5b8a2e901280">RevertChanges</a>(<span class="keywordtype">bool</span> incremental);
<a name="l00908"></a>00908   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SequenceVarLocalSearchOperator.html#107898f381c3667a139c506cd433e595">AddVars</a>(<span class="keyword">const</span> <a class="code" href="classoperations__research_1_1SequenceVar.html" title="SequenceVar.">SequenceVar</a>* <span class="keyword">const</span>* vars, <span class="keywordtype">int</span> size);
<a name="l00909"></a>00909 
<a name="l00910"></a>00910  <span class="keyword">private</span>:
<a name="l00911"></a>00911   <span class="comment">// Called by Start() after synchronizing the operator with the current</span>
<a name="l00912"></a>00912   <span class="comment">// assignment. Should be overridden instead of Start() to avoid calling</span>
<a name="l00913"></a>00913   <span class="comment">// SequenceVarLocalSearchOperator::Start explicitly.</span>
<a name="l00914"></a>00914   <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnStart() {}
<a name="l00915"></a>00915   <span class="keywordtype">void</span> MarkChange(int64 <a class="code" href="pack_8cc.html#750b5d744c39a06bfb13e6eb010e35d0">index</a>);
<a name="l00916"></a>00916 
<a name="l00917"></a>00917   scoped_array&lt;SequenceVar*&gt; vars_;
<a name="l00918"></a>00918   <span class="keywordtype">int</span> size_;
<a name="l00919"></a>00919   scoped_array&lt;std::vector&lt;int&gt; &gt; values_;
<a name="l00920"></a>00920   scoped_array&lt;std::vector&lt;int&gt; &gt; backward_values_;
<a name="l00921"></a>00921   scoped_array&lt;std::vector&lt;int&gt; &gt; old_values_;
<a name="l00922"></a>00922   Bitmap activated_;
<a name="l00923"></a>00923   Bitmap was_activated_;
<a name="l00924"></a>00924   std::vector&lt;int64&gt; changes_;
<a name="l00925"></a>00925   Bitmap has_changed_;
<a name="l00926"></a>00926   Bitmap has_delta_changed_;
<a name="l00927"></a>00927   <span class="keywordtype">bool</span> cleared_;
<a name="l00928"></a>00928 };
<a name="l00929"></a>00929 
<a name="l00930"></a>00930 <span class="comment">// ----- Base Large Neighborhood Search operator class ----</span>
<a name="l00931"></a>00931 
<a name="l00932"></a>00932 <span class="comment">// This is the base class for building an LNS operator. An LNS fragment is a</span>
<a name="l00933"></a>00933 <span class="comment">// collection of variables which will be relaxed. Fragments are built with</span>
<a name="l00934"></a>00934 <span class="comment">// NextFragment(), which returns false if there are no more fragments to build.</span>
<a name="l00935"></a>00935 <span class="comment">// Optionally one can override InitFragments, which is called from</span>
<a name="l00936"></a>00936 <span class="comment">// LocalSearchOperator::Start to initialize fragment data.</span>
<a name="l00937"></a>00937 <span class="comment">//</span>
<a name="l00938"></a>00938 <span class="comment">// Here's a sample relaxing one variable at a time:</span>
<a name="l00939"></a>00939 <span class="comment">//</span>
<a name="l00940"></a>00940 <span class="comment">// class OneVarLNS : public BaseLNS {</span>
<a name="l00941"></a>00941 <span class="comment">//  public:</span>
<a name="l00942"></a>00942 <span class="comment">//   OneVarLNS(const IntVar* const* vars, int size)</span>
<a name="l00943"></a>00943 <span class="comment">//       : BaseLNS(vars, size), index_(0) {}</span>
<a name="l00944"></a>00944 <span class="comment">//   virtual ~OneVarLNS() {}</span>
<a name="l00945"></a>00945 <span class="comment">//   virtual void InitFragments() { index_ = 0; }</span>
<a name="l00946"></a>00946 <span class="comment">//   virtual bool NextFragment(std::vector&lt;int&gt;* fragment) {</span>
<a name="l00947"></a>00947 <span class="comment">//     const int size = Size();</span>
<a name="l00948"></a>00948 <span class="comment">//     if (index_ &lt; size) {</span>
<a name="l00949"></a>00949 <span class="comment">//       fragment-&gt;push_back(index_);</span>
<a name="l00950"></a>00950 <span class="comment">//       ++index_;</span>
<a name="l00951"></a>00951 <span class="comment">//       return true;</span>
<a name="l00952"></a>00952 <span class="comment">//     } else {</span>
<a name="l00953"></a>00953 <span class="comment">//       return false;</span>
<a name="l00954"></a>00954 <span class="comment">//     }</span>
<a name="l00955"></a>00955 <span class="comment">//   }</span>
<a name="l00956"></a>00956 <span class="comment">//</span>
<a name="l00957"></a>00957 <span class="comment">//  private:</span>
<a name="l00958"></a>00958 <span class="comment">//   int index_;</span>
<a name="l00959"></a>00959 <span class="comment">// };</span>
<a name="l00960"></a><a class="code" href="classoperations__research_1_1BaseLNS.html">00960</a> <span class="keyword">class </span><a class="code" href="classoperations__research_1_1BaseLNS.html" title="Base Large Neighborhood Search operator class.">BaseLNS</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html" title="Base operator class for operators manipulating IntVars.">IntVarLocalSearchOperator</a> {
<a name="l00961"></a>00961  <span class="keyword">public</span>:
<a name="l00962"></a>00962   <a class="code" href="classoperations__research_1_1BaseLNS.html#409049a0484aeee559a67289f3da32b0" title="Base Large Neighborhood Search operator.">BaseLNS</a>(<span class="keyword">const</span> <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span>* vars, <span class="keywordtype">int</span> size);
<a name="l00963"></a>00963   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1BaseLNS.html#af921cd22f2a7694678ca3d5bda27b15">~BaseLNS</a>();
<a name="l00964"></a>00964   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1BaseLNS.html#deb75f1c9f12a6c790c49b5e24d62c9a">InitFragments</a>();
<a name="l00965"></a>00965   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1BaseLNS.html#f8e6e35082269308c20b507d33bc1309">NextFragment</a>(std::vector&lt;int&gt;* fragment) = 0;
<a name="l00966"></a>00966 
<a name="l00967"></a>00967  <span class="keyword">protected</span>:
<a name="l00968"></a>00968   <span class="comment">// This method should not be overridden. Override NextFragment() instead.</span>
<a name="l00969"></a>00969   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1BaseLNS.html#adbc1f567e21618e7006d4504f3c2fac" title="This method should not be overridden. Override NextFragment() instead.">MakeOneNeighbor</a>();
<a name="l00970"></a>00970 
<a name="l00971"></a>00971  <span class="keyword">private</span>:
<a name="l00972"></a>00972   <span class="comment">// This method should not be overridden. Override InitFragments() instead.</span>
<a name="l00973"></a>00973   <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnStart();
<a name="l00974"></a>00974 };
<a name="l00975"></a>00975 
<a name="l00976"></a>00976 <span class="comment">// ----- ChangeValue Operators -----</span>
<a name="l00977"></a>00977 
<a name="l00978"></a>00978 <span class="comment">// Defines operators which change the value of variables;</span>
<a name="l00979"></a>00979 <span class="comment">// each neighbor corresponds to *one* modified variable.</span>
<a name="l00980"></a>00980 <span class="comment">// Sub-classes have to define ModifyValue which determines what the new</span>
<a name="l00981"></a>00981 <span class="comment">// variable value is going to be (given the current value and the variable).</span>
<a name="l00982"></a><a class="code" href="classoperations__research_1_1ChangeValue.html">00982</a> <span class="keyword">class </span><a class="code" href="classoperations__research_1_1ChangeValue.html" title="ChangeValue Operators.">ChangeValue</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html" title="Base operator class for operators manipulating IntVars.">IntVarLocalSearchOperator</a> {
<a name="l00983"></a>00983  <span class="keyword">public</span>:
<a name="l00984"></a>00984   <a class="code" href="classoperations__research_1_1ChangeValue.html#60debfc1502ef81a5c47163b5b2b3203" title="ChangeValue Operators.">ChangeValue</a>(<span class="keyword">const</span> <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span>* vars, <span class="keywordtype">int</span> size);
<a name="l00985"></a>00985   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1ChangeValue.html#79bca3fafc24fcb9f5b4ae2cb1c2025a">~ChangeValue</a>();
<a name="l00986"></a>00986   <span class="keyword">virtual</span> int64 <a class="code" href="classoperations__research_1_1ChangeValue.html#71b2589b82650decb06c8563310f5d5f">ModifyValue</a>(int64 <a class="code" href="pack_8cc.html#750b5d744c39a06bfb13e6eb010e35d0">index</a>, int64 <a class="code" href="search_8cc.html#21edc7ca4cc5802c8779d68556bc09cf">value</a>) = 0;
<a name="l00987"></a>00987 
<a name="l00988"></a>00988  <span class="keyword">protected</span>:
<a name="l00989"></a>00989   <span class="comment">// This method should not be overridden. Override ModifyValue() instead.</span>
<a name="l00990"></a>00990   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1ChangeValue.html#7ee24a45527b6b0eb4e336fee3fe9e41" title="This method should not be overridden. Override ModifyValue() instead.">MakeOneNeighbor</a>();
<a name="l00991"></a>00991 
<a name="l00992"></a>00992  <span class="keyword">private</span>:
<a name="l00993"></a>00993   <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnStart();
<a name="l00994"></a>00994 
<a name="l00995"></a>00995   <span class="keywordtype">int</span> index_;
<a name="l00996"></a>00996 };
<a name="l00997"></a>00997 
<a name="l00998"></a>00998 <span class="comment">// ----- Path-based Operators -----</span>
<a name="l00999"></a>00999 
<a name="l01000"></a>01000 <span class="comment">// Base class of the local search operators dedicated to path modifications</span>
<a name="l01001"></a>01001 <span class="comment">// (a path is a set of nodes linked together by arcs).</span>
<a name="l01002"></a>01002 <span class="comment">// This family of neighborhoods supposes they are handling next variables</span>
<a name="l01003"></a>01003 <span class="comment">// representing the arcs (var[i] represents the node immediately after i on</span>
<a name="l01004"></a>01004 <span class="comment">// a path).</span>
<a name="l01005"></a>01005 <span class="comment">// Several services are provided:</span>
<a name="l01006"></a>01006 <span class="comment">// - arc manipulators (SetNext(), ReverseChain(), MoveChain())</span>
<a name="l01007"></a>01007 <span class="comment">// - path inspectors (Next(), IsPathEnd())</span>
<a name="l01008"></a>01008 <span class="comment">// - path iterators: operators need a given number of nodes to define a</span>
<a name="l01009"></a>01009 <span class="comment">//   neighbor; this class provides the iteration on a given number of (base)</span>
<a name="l01010"></a>01010 <span class="comment">//   nodes which can be used to define a neighbor (through the BaseNode method)</span>
<a name="l01011"></a>01011 <span class="comment">// Subclasses only need to override MakeNeighbor to create neighbors using</span>
<a name="l01012"></a>01012 <span class="comment">// the services above (no direct manipulation of assignments).</span>
<a name="l01013"></a><a class="code" href="classoperations__research_1_1PathOperator.html">01013</a> <span class="keyword">class </span><a class="code" href="classoperations__research_1_1PathOperator.html" title="Path-based Operators.">PathOperator</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html" title="Base operator class for operators manipulating IntVars.">IntVarLocalSearchOperator</a> {
<a name="l01014"></a>01014  <span class="keyword">public</span>:
<a name="l01015"></a>01015   <a class="code" href="classoperations__research_1_1PathOperator.html#a1f760408851ccfbc70b4a12479aeb3d" title="namespace">PathOperator</a>(<span class="keyword">const</span> <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span>* next_vars,
<a name="l01016"></a>01016                <span class="keyword">const</span> <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span>* path_vars,
<a name="l01017"></a>01017                <span class="keywordtype">int</span> size,
<a name="l01018"></a>01018                <span class="keywordtype">int</span> number_of_base_nodes);
<a name="l01019"></a><a class="code" href="classoperations__research_1_1PathOperator.html#6ac539bb3bd2b373f0d3156ab9c069e3">01019</a>   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1PathOperator.html#6ac539bb3bd2b373f0d3156ab9c069e3">~PathOperator</a>() {}
<a name="l01020"></a>01020   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1PathOperator.html#bf884d7efc40fbf9932b64623604c23a">MakeNeighbor</a>() = 0;
<a name="l01021"></a>01021 
<a name="l01022"></a>01022   <span class="comment">// TODO(user): Make the following methods protected.</span>
<a name="l01023"></a>01023   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1PathOperator.html#ecfa54a5dd5c8ee384330c9ce4111d44">SkipUnchanged</a>(<span class="keywordtype">int</span> <a class="code" href="pack_8cc.html#750b5d744c39a06bfb13e6eb010e35d0">index</a>) <span class="keyword">const</span>;
<a name="l01024"></a>01024 
<a name="l01025"></a>01025   <span class="comment">// Returns the index of the node after the node of index node_index in the</span>
<a name="l01026"></a>01026   <span class="comment">// current assignment.</span>
<a name="l01027"></a><a class="code" href="classoperations__research_1_1PathOperator.html#9cb02dcb6c4ee83e896b83af163f189c">01027</a>   int64 <a class="code" href="classoperations__research_1_1PathOperator.html#9cb02dcb6c4ee83e896b83af163f189c" title="Returns the index of the node after the node of index node_index in the current assignment...">Next</a>(int64 node_index)<span class="keyword"> const </span>{
<a name="l01028"></a>01028     DCHECK(!<a class="code" href="classoperations__research_1_1PathOperator.html#e99342a248fb87bb26f11811017fadfb" title="Returns true if i is the last node on the path; defined by the fact that i outside...">IsPathEnd</a>(node_index));
<a name="l01029"></a>01029     <span class="keywordflow">return</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#b9b49aa4a778263f2d60e70e39577e73" title="Returns the value in the current assignment of the variable of given index.">Value</a>(node_index);
<a name="l01030"></a>01030   }
<a name="l01031"></a>01031 
<a name="l01032"></a>01032   <span class="comment">// Returns the index of the path to which the node of index node_index</span>
<a name="l01033"></a>01033   <span class="comment">// belongs in the current assignment.</span>
<a name="l01034"></a><a class="code" href="classoperations__research_1_1PathOperator.html#c64ad41b1d7e426e979276823e238907">01034</a>   int64 <a class="code" href="classoperations__research_1_1PathOperator.html#c64ad41b1d7e426e979276823e238907" title="Returns the index of the path to which the node of index node_index belongs in the...">Path</a>(int64 node_index)<span class="keyword"> const </span>{
<a name="l01035"></a>01035     <span class="keywordflow">return</span> <a class="code" href="classoperations__research_1_1PathOperator.html#46728a21c28eaf507a20bba345d9df8f">ignore_path_vars_</a> ? 0LL : <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#b9b49aa4a778263f2d60e70e39577e73" title="Returns the value in the current assignment of the variable of given index.">Value</a>(node_index + <a class="code" href="classoperations__research_1_1PathOperator.html#e108cf2f383928202b506cba66e911ee">number_of_nexts_</a>);
<a name="l01036"></a>01036   }
<a name="l01037"></a>01037 
<a name="l01038"></a>01038   <span class="comment">// Number of next variables.</span>
<a name="l01039"></a><a class="code" href="classoperations__research_1_1PathOperator.html#6bc1ff9fabd4af036d81fecaca979e65">01039</a>   <span class="keywordtype">int</span> <a class="code" href="classoperations__research_1_1PathOperator.html#6bc1ff9fabd4af036d81fecaca979e65" title="Number of next variables.">number_of_nexts</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classoperations__research_1_1PathOperator.html#e108cf2f383928202b506cba66e911ee">number_of_nexts_</a>; }
<a name="l01040"></a>01040 
<a name="l01041"></a>01041  <span class="keyword">protected</span>:
<a name="l01042"></a>01042   <span class="comment">// This method should not be overridden. Override MakeNeighbor() instead.</span>
<a name="l01043"></a>01043   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1PathOperator.html#bbe7ad3e663c43539a6304a1b71390ea" title="This method should not be overridden. Override MakeNeighbor() instead.">MakeOneNeighbor</a>();
<a name="l01044"></a>01044 
<a name="l01045"></a>01045   <span class="comment">// Returns the index of the variable corresponding to the ith base node.</span>
<a name="l01046"></a><a class="code" href="classoperations__research_1_1PathOperator.html#b97a0e5234d4fe57f9d0b2c9ea1f9f75">01046</a>   int64 <a class="code" href="classoperations__research_1_1PathOperator.html#b97a0e5234d4fe57f9d0b2c9ea1f9f75" title="Returns the index of the variable corresponding to the ith base node.">BaseNode</a>(<span class="keywordtype">int</span> i)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> base_nodes_[i]; }
<a name="l01047"></a>01047   <span class="comment">// Returns the index of the variable corresponding to the current path</span>
<a name="l01048"></a>01048   <span class="comment">// of the ith base node.</span>
<a name="l01049"></a><a class="code" href="classoperations__research_1_1PathOperator.html#0e9cdb820f97a13813de1aa657b54917">01049</a>   int64 <a class="code" href="classoperations__research_1_1PathOperator.html#0e9cdb820f97a13813de1aa657b54917" title="Returns the index of the variable corresponding to the current path of the ith base...">StartNode</a>(<span class="keywordtype">int</span> i)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> path_starts_[base_paths_[i]]; }
<a name="l01050"></a>01050 
<a name="l01051"></a>01051   <span class="comment">// When the operator is being synchronized with a new solution (when Start()</span>
<a name="l01052"></a>01052   <span class="comment">// is called), returns true to restart the exploration of the neighborhood</span>
<a name="l01053"></a>01053   <span class="comment">// from the start of the last paths explored; returns false to restart the</span>
<a name="l01054"></a>01054   <span class="comment">// exploration at the last nodes visited.</span>
<a name="l01055"></a>01055   <span class="comment">// This is used to avoid restarting on base nodes which have changed paths,</span>
<a name="l01056"></a>01056   <span class="comment">// leading to potentially skipping neighbors.</span>
<a name="l01057"></a>01057   <span class="comment">// TODO(user): remove this when automatic detection of such cases in done.</span>
<a name="l01058"></a><a class="code" href="classoperations__research_1_1PathOperator.html#6580d6cdf003656019a25f7e9f2d8496">01058</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1PathOperator.html#6580d6cdf003656019a25f7e9f2d8496" title="When the operator is being synchronized with a new solution (when Start() is called)...">RestartAtPathStartOnSynchronize</a>() {
<a name="l01059"></a>01059     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01060"></a>01060   }
<a name="l01061"></a>01061   <span class="comment">// Returns true if a base node has to be on the same path as the "previous"</span>
<a name="l01062"></a>01062   <span class="comment">// base node (base node of index base_index - 1).</span>
<a name="l01063"></a>01063   <span class="comment">// Useful to limit neighborhood exploration to nodes on the same path.</span>
<a name="l01064"></a>01064   <span class="comment">// TODO(user): ideally this should be OnSamePath(int64 node1, int64 node2);</span>
<a name="l01065"></a>01065   <span class="comment">// it's currently way more complicated to implement.</span>
<a name="l01066"></a><a class="code" href="classoperations__research_1_1PathOperator.html#661ecee1a13c036a57c5c75b97882462">01066</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1PathOperator.html#661ecee1a13c036a57c5c75b97882462" title="Returns true if a base node has to be on the same path as the &amp;quot;previous&amp;quot;...">OnSamePathAsPreviousBase</a>(int64 base_index) {
<a name="l01067"></a>01067     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01068"></a>01068   }
<a name="l01069"></a>01069   <span class="comment">// Returns the index of the node to which the base node of index base_index</span>
<a name="l01070"></a>01070   <span class="comment">// must be set to when it reaches the end of a path.</span>
<a name="l01071"></a>01071   <span class="comment">// By default, it is set to the start of the current path.</span>
<a name="l01072"></a>01072   <span class="comment">// When this method is called, one can only assume that base nodes with</span>
<a name="l01073"></a>01073   <span class="comment">// indices &lt; base_index have their final position.</span>
<a name="l01074"></a><a class="code" href="classoperations__research_1_1PathOperator.html#2c309dfacbd1dc10373408446e46f118">01074</a>   <span class="keyword">virtual</span> int64 <a class="code" href="classoperations__research_1_1PathOperator.html#2c309dfacbd1dc10373408446e46f118" title="Returns the index of the node to which the base node of index base_index must be...">GetBaseNodeRestartPosition</a>(<span class="keywordtype">int</span> base_index) {
<a name="l01075"></a>01075     <span class="keywordflow">return</span> <a class="code" href="classoperations__research_1_1PathOperator.html#0e9cdb820f97a13813de1aa657b54917" title="Returns the index of the variable corresponding to the current path of the ith base...">StartNode</a>(base_index);
<a name="l01076"></a>01076   }
<a name="l01077"></a>01077 
<a name="l01078"></a><a class="code" href="classoperations__research_1_1PathOperator.html#46b2f4edff03a628d654c2fb6531d696">01078</a>   int64 <a class="code" href="classoperations__research_1_1PathOperator.html#46b2f4edff03a628d654c2fb6531d696">OldNext</a>(int64 node_index)<span class="keyword"> const </span>{
<a name="l01079"></a>01079     DCHECK(!<a class="code" href="classoperations__research_1_1PathOperator.html#e99342a248fb87bb26f11811017fadfb" title="Returns true if i is the last node on the path; defined by the fact that i outside...">IsPathEnd</a>(node_index));
<a name="l01080"></a>01080     <span class="keywordflow">return</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#dcb0d248ee16199ea6dbfad900a1e0ec">OldValue</a>(node_index);
<a name="l01081"></a>01081   }
<a name="l01082"></a>01082 
<a name="l01083"></a><a class="code" href="classoperations__research_1_1PathOperator.html#826526bdd70076309b1574d3e35ac43d">01083</a>   int64 <a class="code" href="classoperations__research_1_1PathOperator.html#826526bdd70076309b1574d3e35ac43d">OldPath</a>(int64 node_index)<span class="keyword"> const </span>{
<a name="l01084"></a>01084     <span class="keywordflow">return</span> <a class="code" href="classoperations__research_1_1PathOperator.html#46728a21c28eaf507a20bba345d9df8f">ignore_path_vars_</a> ? 0LL : <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#dcb0d248ee16199ea6dbfad900a1e0ec">OldValue</a>(node_index + <a class="code" href="classoperations__research_1_1PathOperator.html#e108cf2f383928202b506cba66e911ee">number_of_nexts_</a>);
<a name="l01085"></a>01085   }
<a name="l01086"></a>01086 
<a name="l01087"></a>01087   <span class="comment">// Moves the chain starting after the node before_chain and ending at the node</span>
<a name="l01088"></a>01088   <span class="comment">// chain_end after the node destination</span>
<a name="l01089"></a>01089   <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1PathOperator.html#a6d431b31dc1fce0520698179e165817" title="Moves the chain starting after the node before_chain and ending at the node chain_end...">MoveChain</a>(int64 before_chain, int64 chain_end, int64 destination);
<a name="l01090"></a>01090 
<a name="l01091"></a>01091   <span class="comment">// Reverses the chain starting after before_chain and ending before</span>
<a name="l01092"></a>01092   <span class="comment">// after_chain</span>
<a name="l01093"></a>01093   <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1PathOperator.html#d819515eabc14b84e8e31b574a59d2fb" title="Reverses the chain starting after before_chain and ending before after_chain.">ReverseChain</a>(int64 before_chain, int64 after_chain, int64* chain_last);
<a name="l01094"></a>01094 
<a name="l01095"></a>01095   <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1PathOperator.html#cb067b917027c878de5284d3ee191528">MakeActive</a>(int64 <a class="code" href="dependency__graph_8cc.html#4eefd1c2b90c940bb972d6d038744cc3">node</a>, int64 destination);
<a name="l01096"></a>01096   <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1PathOperator.html#12698134e7a71ccbe52c4ce36213f0f1">MakeChainInactive</a>(int64 before_chain, int64 chain_end);
<a name="l01097"></a>01097 
<a name="l01098"></a>01098   <span class="comment">// Sets the to to be the node after from</span>
<a name="l01099"></a><a class="code" href="classoperations__research_1_1PathOperator.html#2f05e5dce708fd86775e612d08ffc08e">01099</a>   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1PathOperator.html#2f05e5dce708fd86775e612d08ffc08e" title="Sets the to to be the node after from.">SetNext</a>(int64 from, int64 to, int64 path) {
<a name="l01100"></a>01100     DCHECK_LT(from, <a class="code" href="classoperations__research_1_1PathOperator.html#e108cf2f383928202b506cba66e911ee">number_of_nexts_</a>);
<a name="l01101"></a>01101     <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#50588f7d283f450f9d78ecdabd402e95">SetValue</a>(from, to);
<a name="l01102"></a>01102     <span class="keywordflow">if</span> (!<a class="code" href="classoperations__research_1_1PathOperator.html#46728a21c28eaf507a20bba345d9df8f">ignore_path_vars_</a>) {
<a name="l01103"></a>01103       DCHECK_LT(from + <a class="code" href="classoperations__research_1_1PathOperator.html#e108cf2f383928202b506cba66e911ee">number_of_nexts_</a>, <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#06049b26315b8312917df7d0981c66cd">Size</a>());
<a name="l01104"></a>01104       <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#50588f7d283f450f9d78ecdabd402e95">SetValue</a>(from + <a class="code" href="classoperations__research_1_1PathOperator.html#e108cf2f383928202b506cba66e911ee">number_of_nexts_</a>, path);
<a name="l01105"></a>01105     }
<a name="l01106"></a>01106   }
<a name="l01107"></a>01107 
<a name="l01108"></a>01108   <span class="comment">// Returns true if i is the last node on the path; defined by the fact that</span>
<a name="l01109"></a>01109   <span class="comment">// i outside the range of the variable array</span>
<a name="l01110"></a><a class="code" href="classoperations__research_1_1PathOperator.html#e99342a248fb87bb26f11811017fadfb">01110</a>   <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1PathOperator.html#e99342a248fb87bb26f11811017fadfb" title="Returns true if i is the last node on the path; defined by the fact that i outside...">IsPathEnd</a>(int64 i)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> i &gt;= <a class="code" href="classoperations__research_1_1PathOperator.html#e108cf2f383928202b506cba66e911ee">number_of_nexts_</a>; }
<a name="l01111"></a>01111 
<a name="l01112"></a>01112   <span class="comment">// Returns true if node is inactive</span>
<a name="l01113"></a><a class="code" href="classoperations__research_1_1PathOperator.html#196b60e34960f30c3ea7c8920bc5d77c">01113</a>   <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1PathOperator.html#196b60e34960f30c3ea7c8920bc5d77c" title="Returns true if node is inactive.">IsInactive</a>(int64 i)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !<a class="code" href="classoperations__research_1_1PathOperator.html#e99342a248fb87bb26f11811017fadfb" title="Returns true if i is the last node on the path; defined by the fact that i outside...">IsPathEnd</a>(i) &amp;&amp; inactives_[i]; }
<a name="l01114"></a>01114 
<a name="l01115"></a>01115   <span class="comment">// Returns true if operator needs to restart its initial position at each</span>
<a name="l01116"></a>01116   <span class="comment">// call to Start()</span>
<a name="l01117"></a><a class="code" href="classoperations__research_1_1PathOperator.html#60c038d2bf104585d70b22fad1d64348">01117</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1PathOperator.html#60c038d2bf104585d70b22fad1d64348" title="Returns true if operator needs to restart its initial position at each call to Start()...">InitPosition</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l01118"></a>01118   <span class="comment">// Reset the position of the operator to its position when Start() was last</span>
<a name="l01119"></a>01119   <span class="comment">// called; this can be used to let an operator iterate more than once over</span>
<a name="l01120"></a>01120   <span class="comment">// the paths.</span>
<a name="l01121"></a><a class="code" href="classoperations__research_1_1PathOperator.html#2a1cf2f93320e83de87b6c302f27e00d">01121</a>   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1PathOperator.html#2a1cf2f93320e83de87b6c302f27e00d" title="Reset the position of the operator to its position when Start() was last called;...">ResetPosition</a>() {
<a name="l01122"></a>01122     just_started_ = <span class="keyword">true</span>;
<a name="l01123"></a>01123   }
<a name="l01124"></a>01124 
<a name="l01125"></a><a class="code" href="classoperations__research_1_1PathOperator.html#e108cf2f383928202b506cba66e911ee">01125</a>   <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classoperations__research_1_1PathOperator.html#e108cf2f383928202b506cba66e911ee">number_of_nexts_</a>;
<a name="l01126"></a><a class="code" href="classoperations__research_1_1PathOperator.html#46728a21c28eaf507a20bba345d9df8f">01126</a>   <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1PathOperator.html#46728a21c28eaf507a20bba345d9df8f">ignore_path_vars_</a>;
<a name="l01127"></a>01127 
<a name="l01128"></a>01128  <span class="keyword">private</span>:
<a name="l01129"></a>01129   <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnStart();
<a name="l01130"></a>01130   <span class="comment">// Called by OnStart() after initializing node information. Should be</span>
<a name="l01131"></a>01131   <span class="comment">// overriden instead of OnStart() to avoid calling PathOperator::OnStart</span>
<a name="l01132"></a>01132   <span class="comment">// explicitly.</span>
<a name="l01133"></a>01133   <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnNodeInitialization() {}
<a name="l01134"></a>01134   <span class="comment">// Returns true if two nodes are on the same path in the current assignment.</span>
<a name="l01135"></a>01135   <span class="keywordtype">bool</span> OnSamePath(int64 node1, int64 node2) <span class="keyword">const</span>;
<a name="l01136"></a>01136 
<a name="l01137"></a>01137   <span class="keywordtype">bool</span> CheckEnds() <span class="keyword">const</span>;
<a name="l01138"></a>01138   <span class="keywordtype">bool</span> IncrementPosition();
<a name="l01139"></a>01139   <span class="keywordtype">void</span> InitializePathStarts();
<a name="l01140"></a>01140   <span class="keywordtype">void</span> InitializeInactives();
<a name="l01141"></a>01141   <span class="keywordtype">void</span> InitializeBaseNodes();
<a name="l01142"></a>01142   <span class="keywordtype">bool</span> CheckChainValidity(int64 chain_start,
<a name="l01143"></a>01143                           int64 chain_end,
<a name="l01144"></a>01144                           int64 exclude) <span class="keyword">const</span>;
<a name="l01145"></a>01145   <span class="keywordtype">void</span> Synchronize();
<a name="l01146"></a>01146 
<a name="l01147"></a>01147   std::vector&lt;int&gt; base_nodes_;
<a name="l01148"></a>01148   std::vector&lt;int&gt; end_nodes_;
<a name="l01149"></a>01149   std::vector&lt;int&gt; base_paths_;
<a name="l01150"></a>01150   std::vector&lt;int64&gt; path_starts_;
<a name="l01151"></a>01151   std::vector&lt;bool&gt; inactives_;
<a name="l01152"></a>01152   <span class="keywordtype">bool</span> just_started_;
<a name="l01153"></a>01153   <span class="keywordtype">bool</span> first_start_;
<a name="l01154"></a>01154 };
<a name="l01155"></a>01155 
<a name="l01156"></a>01156 <span class="comment">// ----- Local Search Filters ------</span>
<a name="l01157"></a>01157 
<a name="l01158"></a>01158 <span class="comment">// For fast neighbor pruning</span>
<a name="l01159"></a><a class="code" href="classoperations__research_1_1LocalSearchFilter.html">01159</a> <span class="keyword">class </span><a class="code" href="classoperations__research_1_1LocalSearchFilter.html" title="Local Search Filters.">LocalSearchFilter</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1BaseObject.html" title="Useful Search and Modeling Objects.">BaseObject</a> {
<a name="l01160"></a>01160  <span class="keyword">public</span>:
<a name="l01161"></a>01161   <span class="comment">// Accepts a "delta" given the assignment with which the filter has been</span>
<a name="l01162"></a>01162   <span class="comment">// synchronized; the delta holds the variables which have been modified and</span>
<a name="l01163"></a>01163   <span class="comment">// their new value.</span>
<a name="l01164"></a>01164   <span class="comment">// Sample: supposing one wants to maintain a[0,1] + b[0,1] &lt;= 1,</span>
<a name="l01165"></a>01165   <span class="comment">// for the assignment (a,1), (b,0), the delta (b,1) will be rejected</span>
<a name="l01166"></a>01166   <span class="comment">// but the delta (a,0) will be accepted.</span>
<a name="l01167"></a>01167   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1LocalSearchFilter.html#50fa8e9ba16ba0dcd2f9748afeebdb98" title="Accepts a &amp;quot;delta&amp;quot; given the assignment with which the filter has been synchronized;...">Accept</a>(<span class="keyword">const</span> <a class="code" href="classoperations__research_1_1Assignment.html" title="Assignment.">Assignment</a>* <a class="code" href="resource_8cc.html#73461c37822b6ebb75b54ba1a9ffb442">delta</a>,
<a name="l01168"></a>01168                       <span class="keyword">const</span> <a class="code" href="classoperations__research_1_1Assignment.html" title="Assignment.">Assignment</a>* deltadelta) = 0;
<a name="l01169"></a>01169 
<a name="l01170"></a>01170   <span class="comment">// Synchronizes the filter with the current solution</span>
<a name="l01171"></a>01171   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1LocalSearchFilter.html#3917c647740cd170ffd44e9dd164daea" title="Synchronizes the filter with the current solution.">Synchronize</a>(<span class="keyword">const</span> <a class="code" href="classoperations__research_1_1Assignment.html" title="Assignment.">Assignment</a>* assignment) = 0;
<a name="l01172"></a><a class="code" href="classoperations__research_1_1LocalSearchFilter.html#4b420fac36fbd326a81bb13a2962b2b6">01172</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1LocalSearchFilter.html#4b420fac36fbd326a81bb13a2962b2b6">IsIncremental</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l01173"></a>01173 };
<a name="l01174"></a>01174 
<a name="l01175"></a>01175 <span class="comment">// ----- IntVarLocalSearchFilter -----</span>
<a name="l01176"></a>01176 
<a name="l01177"></a><a class="code" href="classoperations__research_1_1IntVarLocalSearchFilter.html">01177</a> <span class="keyword">class </span><a class="code" href="classoperations__research_1_1IntVarLocalSearchFilter.html" title="IntVarLocalSearchFilter.">IntVarLocalSearchFilter</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1LocalSearchFilter.html" title="Local Search Filters.">LocalSearchFilter</a> {
<a name="l01178"></a>01178  <span class="keyword">public</span>:
<a name="l01179"></a>01179   <a class="code" href="classoperations__research_1_1IntVarLocalSearchFilter.html#af1e5c44d3d9f6b731f43da10d6426a3" title="IntVarLocalSearchFilter.">IntVarLocalSearchFilter</a>(<span class="keyword">const</span> <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span>* vars, <span class="keywordtype">int</span> size);
<a name="l01180"></a>01180   <a class="code" href="classoperations__research_1_1IntVarLocalSearchFilter.html#e955420754d0a4c2d8ca8c4b687b44a9">~IntVarLocalSearchFilter</a>();
<a name="l01181"></a>01181   <span class="comment">// This method should not be overridden. Override OnSynchronize() instead</span>
<a name="l01182"></a>01182   <span class="comment">// which is called before exiting this method.</span>
<a name="l01183"></a>01183   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchFilter.html#d6193dcb2fc37f0ff372b9282c112963" title="This method should not be overridden.">Synchronize</a>(<span class="keyword">const</span> <a class="code" href="classoperations__research_1_1Assignment.html" title="Assignment.">Assignment</a>* assignment);
<a name="l01184"></a>01184 
<a name="l01185"></a>01185  <span class="keyword">protected</span>:
<a name="l01186"></a>01186   <span class="comment">// Add variables to "track" to the filter.</span>
<a name="l01187"></a>01187   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchFilter.html#c3e448ecea08986763169e2a517108fb" title="Add variables to &amp;quot;track&amp;quot; to the filter.">AddVars</a>(<span class="keyword">const</span> <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span>* vars, <span class="keywordtype">int</span> size);
<a name="l01188"></a><a class="code" href="classoperations__research_1_1IntVarLocalSearchFilter.html#ef04544e0f3d9362ef73a027aa733553">01188</a>   <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchFilter.html#ef04544e0f3d9362ef73a027aa733553">FindIndex</a>(<span class="keyword">const</span> <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> <a class="code" href="expr__array_8cc.html#472a99923cbe11ae7b5a5d157d9ad465">var</a>, int64* <a class="code" href="pack_8cc.html#750b5d744c39a06bfb13e6eb010e35d0">index</a>)<span class="keyword"> const </span>{
<a name="l01189"></a>01189     DCHECK(index != NULL);
<a name="l01190"></a>01190     <span class="keywordflow">return</span> FindCopy(var_to_index_, var, index);
<a name="l01191"></a>01191   }
<a name="l01192"></a><a class="code" href="classoperations__research_1_1IntVarLocalSearchFilter.html#9045a67d0d2cf4daa65b2a12cb8ed6e8">01192</a>   <span class="keywordtype">int</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchFilter.html#9045a67d0d2cf4daa65b2a12cb8ed6e8">Size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> size_; }
<a name="l01193"></a><a class="code" href="classoperations__research_1_1IntVarLocalSearchFilter.html#521ec3db6e1d61bf5699dcb8193d4de4">01193</a>   <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <a class="code" href="classoperations__research_1_1IntVarLocalSearchFilter.html#521ec3db6e1d61bf5699dcb8193d4de4">Var</a>(<span class="keywordtype">int</span> <a class="code" href="pack_8cc.html#750b5d744c39a06bfb13e6eb010e35d0">index</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> vars_[index]; }
<a name="l01194"></a><a class="code" href="classoperations__research_1_1IntVarLocalSearchFilter.html#f5bf4ae1c58402bd4443ee00f53492cc">01194</a>   int64 <a class="code" href="classoperations__research_1_1IntVarLocalSearchFilter.html#f5bf4ae1c58402bd4443ee00f53492cc">Value</a>(<span class="keywordtype">int</span> <a class="code" href="pack_8cc.html#750b5d744c39a06bfb13e6eb010e35d0">index</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> values_[index]; }
<a name="l01195"></a>01195 
<a name="l01196"></a>01196  <span class="keyword">private</span>:
<a name="l01197"></a>01197   <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnSynchronize() {}
<a name="l01198"></a>01198 
<a name="l01199"></a>01199   scoped_array&lt;IntVar*&gt; vars_;
<a name="l01200"></a>01200   scoped_array&lt;int64&gt; values_;
<a name="l01201"></a>01201   <span class="keywordtype">int</span> size_;
<a name="l01202"></a>01202   hash_map&lt;const IntVar*, int64&gt; var_to_index_;
<a name="l01203"></a>01203 };
<a name="l01204"></a>01204 
<a name="l01205"></a>01205 <span class="comment">// ---------- PropagationMonitor ----------</span>
<a name="l01206"></a>01206 
<a name="l01207"></a><a class="code" href="classoperations__research_1_1PropagationMonitor.html">01207</a> <span class="keyword">class </span><a class="code" href="classoperations__research_1_1PropagationMonitor.html" title="PropagationMonitor.">PropagationMonitor</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1SearchMonitor.html" title="A search monitor is a simple set of callbacks to monitor all search events.">SearchMonitor</a> {
<a name="l01208"></a>01208  <span class="keyword">public</span>:
<a name="l01209"></a>01209   <span class="keyword">explicit</span> <a class="code" href="classoperations__research_1_1PropagationMonitor.html#6f1cf978d88b617fb5dc10faf30603c0" title="Propagation Monitor.">PropagationMonitor</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> solver);
<a name="l01210"></a>01210   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1PropagationMonitor.html#d39d7927e758cb9ca671f25ce3868b2a">~PropagationMonitor</a>();
<a name="l01211"></a>01211 
<a name="l01212"></a>01212   <span class="comment">// Propagation events.</span>
<a name="l01213"></a>01213   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1PropagationMonitor.html#a9548de7b191e0e1fd171dd2ded9f220" title="Propagation events.">BeginConstraintInitialPropagation</a>(
<a name="l01214"></a>01214       <span class="keyword">const</span> <a class="code" href="classoperations__research_1_1Constraint.html" title="A constraint is the main modeling object.">Constraint</a>* <span class="keyword">const</span> constraint) = 0;
<a name="l01215"></a>01215   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1PropagationMonitor.html#81a21e008b08988e6bb50dbfeb71af7a">EndConstraintInitialPropagation</a>(
<a name="l01216"></a>01216       <span class="keyword">const</span> <a class="code" href="classoperations__research_1_1Constraint.html" title="A constraint is the main modeling object.">Constraint</a>* <span class="keyword">const</span> constraint) = 0;
<a name="l01217"></a>01217   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1PropagationMonitor.html#62ee6bb437fae5c5f66d5e61f0dd907b">BeginNestedConstraintInitialPropagation</a>(
<a name="l01218"></a>01218       <span class="keyword">const</span> <a class="code" href="classoperations__research_1_1Constraint.html" title="A constraint is the main modeling object.">Constraint</a>* <span class="keyword">const</span> parent,
<a name="l01219"></a>01219       <span class="keyword">const</span> <a class="code" href="classoperations__research_1_1Constraint.html" title="A constraint is the main modeling object.">Constraint</a>* <span class="keyword">const</span> nested) = 0;
<a name="l01220"></a>01220   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1PropagationMonitor.html#330ac3e096341f1f8ee3ff74012c26a2">EndNestedConstraintInitialPropagation</a>(
<a name="l01221"></a>01221       <span class="keyword">const</span> <a class="code" href="classoperations__research_1_1Constraint.html" title="A constraint is the main modeling object.">Constraint</a>* <span class="keyword">const</span> parent,
<a name="l01222"></a>01222       <span class="keyword">const</span> <a class="code" href="classoperations__research_1_1Constraint.html" title="A constraint is the main modeling object.">Constraint</a>* <span class="keyword">const</span> nested) = 0;
<a name="l01223"></a>01223   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1PropagationMonitor.html#2fefd8bd669609a1a3056aa0e9e16c1b">RegisterDemon</a>(<span class="keyword">const</span> <a class="code" href="classoperations__research_1_1Demon.html" title="A Demon is the base element of a propagation queue.">Demon</a>* <span class="keyword">const</span> <a class="code" href="constraint__solver_8cc.html#f800ac63ce2b6285ec62408b0f17acc3">demon</a>) = 0;
<a name="l01224"></a>01224   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1PropagationMonitor.html#e4fc7656c5aa78afafcf41c595fb7eab">BeginDemonRun</a>(<span class="keyword">const</span> <a class="code" href="classoperations__research_1_1Demon.html" title="A Demon is the base element of a propagation queue.">Demon</a>* <span class="keyword">const</span> demon) = 0;
<a name="l01225"></a>01225   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1PropagationMonitor.html#3481f0af72af454aa42d57b05c56e55e">EndDemonRun</a>(<span class="keyword">const</span> <a class="code" href="classoperations__research_1_1Demon.html" title="A Demon is the base element of a propagation queue.">Demon</a>* <span class="keyword">const</span> demon) = 0;
<a name="l01226"></a>01226   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1PropagationMonitor.html#1e7a18e473c39927d6e15a991e674fda">PushContext</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; context) = 0;
<a name="l01227"></a>01227   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1PropagationMonitor.html#17029f3eaabf4633ca85802e787df736">PopContext</a>() = 0;
<a name="l01228"></a>01228   <span class="comment">// IntExpr modifiers.</span>
<a name="l01229"></a>01229   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1PropagationMonitor.html#2078e48240cee78626eb5674be918557" title="IntExpr modifiers.">SetMin</a>(<a class="code" href="classoperations__research_1_1IntExpr.html" title="The class IntExpr is the base of all integer expressions in constraint programming...">IntExpr</a>* <span class="keyword">const</span> expr, int64 new_min) = 0;
<a name="l01230"></a>01230   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1PropagationMonitor.html#48f6da00d4781ef0f5b59c78d56ff3b0">SetMax</a>(<a class="code" href="classoperations__research_1_1IntExpr.html" title="The class IntExpr is the base of all integer expressions in constraint programming...">IntExpr</a>* <span class="keyword">const</span> expr, int64 new_max) = 0;
<a name="l01231"></a>01231   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1PropagationMonitor.html#e230d5e381f782bd3b600c0d0e12fc83">SetRange</a>(<a class="code" href="classoperations__research_1_1IntExpr.html" title="The class IntExpr is the base of all integer expressions in constraint programming...">IntExpr</a>* <span class="keyword">const</span> expr, int64 new_min, int64 new_max) = 0;
<a name="l01232"></a>01232   <span class="comment">// IntVar modifiers.</span>
<a name="l01233"></a>01233   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1PropagationMonitor.html#2078e48240cee78626eb5674be918557" title="IntExpr modifiers.">SetMin</a>(<a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> <a class="code" href="expr__array_8cc.html#472a99923cbe11ae7b5a5d157d9ad465">var</a>, int64 new_min) = 0;
<a name="l01234"></a>01234   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1PropagationMonitor.html#48f6da00d4781ef0f5b59c78d56ff3b0">SetMax</a>(<a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> var, int64 new_max) = 0;
<a name="l01235"></a>01235   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1PropagationMonitor.html#e230d5e381f782bd3b600c0d0e12fc83">SetRange</a>(<a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> var, int64 new_min, int64 new_max) = 0;
<a name="l01236"></a>01236   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1PropagationMonitor.html#c8e4c7b0c60cd50d9870f3949e47828e">RemoveValue</a>(<a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> var, int64 <a class="code" href="search_8cc.html#21edc7ca4cc5802c8779d68556bc09cf">value</a>) = 0;
<a name="l01237"></a>01237   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1PropagationMonitor.html#ea14a7436f45e5ed69bc1d2d3c67fe1b">SetValue</a>(<a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> var, int64 value) = 0;
<a name="l01238"></a>01238   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1PropagationMonitor.html#d320aa7441456e36b2612908ce5cf304">RemoveInterval</a>(<a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> var, int64 imin, int64 imax) = 0;
<a name="l01239"></a>01239   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1PropagationMonitor.html#6c17c2a5a31b1c07640afb1d34893342">SetValues</a>(<a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> var,
<a name="l01240"></a>01240                          <span class="keyword">const</span> int64* <span class="keyword">const</span> values,
<a name="l01241"></a>01241                          <span class="keywordtype">int</span> size) = 0;
<a name="l01242"></a>01242   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1PropagationMonitor.html#01ef2721027fc8a519247486ce0323ca">RemoveValues</a>(<a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> var,
<a name="l01243"></a>01243                             <span class="keyword">const</span> int64* <span class="keyword">const</span> values,
<a name="l01244"></a>01244                             <span class="keywordtype">int</span> size) = 0;
<a name="l01245"></a>01245   <span class="comment">// IntervalVar modifiers.</span>
<a name="l01246"></a>01246   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1PropagationMonitor.html#201f353378ceaff27cc9a8861a4734d5" title="IntervalVar modifiers.">SetStartMin</a>(<a class="code" href="classoperations__research_1_1IntervalVar.html" title="Interval Var.">IntervalVar</a>* <span class="keyword">const</span> var, int64 new_min) = 0;
<a name="l01247"></a>01247   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1PropagationMonitor.html#c2c1c0b6d89eb9ee53c320509eeb9c9b">SetStartMax</a>(<a class="code" href="classoperations__research_1_1IntervalVar.html" title="Interval Var.">IntervalVar</a>* <span class="keyword">const</span> var, int64 new_max) = 0;
<a name="l01248"></a>01248   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1PropagationMonitor.html#2c7679571947898865bcf04abf49fc81">SetStartRange</a>(<a class="code" href="classoperations__research_1_1IntervalVar.html" title="Interval Var.">IntervalVar</a>* <span class="keyword">const</span> var,
<a name="l01249"></a>01249                              int64 new_min,
<a name="l01250"></a>01250                              int64 new_max) = 0;
<a name="l01251"></a>01251   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1PropagationMonitor.html#045c6ca9847feb586ad5c4de1808829e">SetEndMin</a>(<a class="code" href="classoperations__research_1_1IntervalVar.html" title="Interval Var.">IntervalVar</a>* <span class="keyword">const</span> var, int64 new_min) = 0;
<a name="l01252"></a>01252   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1PropagationMonitor.html#771f782aca6d12a464d660bbd023703b">SetEndMax</a>(<a class="code" href="classoperations__research_1_1IntervalVar.html" title="Interval Var.">IntervalVar</a>* <span class="keyword">const</span> var, int64 new_max) = 0;
<a name="l01253"></a>01253   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1PropagationMonitor.html#ff9acdea68b68555cb1900ff7428266a">SetEndRange</a>(<a class="code" href="classoperations__research_1_1IntervalVar.html" title="Interval Var.">IntervalVar</a>* <span class="keyword">const</span> var,
<a name="l01254"></a>01254                            int64 new_min,
<a name="l01255"></a>01255                            int64 new_max) = 0;
<a name="l01256"></a>01256   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1PropagationMonitor.html#39ddbd6b9a80e5c7c5b8cca42882294d">SetDurationMin</a>(<a class="code" href="classoperations__research_1_1IntervalVar.html" title="Interval Var.">IntervalVar</a>* <span class="keyword">const</span> var, int64 new_min) = 0;
<a name="l01257"></a>01257   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1PropagationMonitor.html#07665062e623a550433c5845111910e3">SetDurationMax</a>(<a class="code" href="classoperations__research_1_1IntervalVar.html" title="Interval Var.">IntervalVar</a>* <span class="keyword">const</span> var, int64 new_max) = 0;
<a name="l01258"></a>01258   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1PropagationMonitor.html#a4bf4e7847c485be003287bc07978317">SetDurationRange</a>(<a class="code" href="classoperations__research_1_1IntervalVar.html" title="Interval Var.">IntervalVar</a>* <span class="keyword">const</span> var,
<a name="l01259"></a>01259                                 int64 new_min,
<a name="l01260"></a>01260                                 int64 new_max) = 0;
<a name="l01261"></a>01261   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1PropagationMonitor.html#472d5349fbf47bcfa74c24e92c738402">SetPerformed</a>(<a class="code" href="classoperations__research_1_1IntervalVar.html" title="Interval Var.">IntervalVar</a>* <span class="keyword">const</span> var, <span class="keywordtype">bool</span> value) = 0;
<a name="l01262"></a>01262   <span class="comment">// SequenceVar modifiers</span>
<a name="l01263"></a>01263   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1PropagationMonitor.html#fb22c7f645f8813c32fa34dc200a5753" title="SequenceVar modifiers.">RankFirst</a>(<a class="code" href="classoperations__research_1_1SequenceVar.html" title="SequenceVar.">SequenceVar</a>* <span class="keyword">const</span> var, <span class="keywordtype">int</span> <a class="code" href="pack_8cc.html#750b5d744c39a06bfb13e6eb010e35d0">index</a>) = 0;
<a name="l01264"></a>01264   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1PropagationMonitor.html#9ed062f89410e8ce29e59d78e1437317">RankNotFirst</a>(<a class="code" href="classoperations__research_1_1SequenceVar.html" title="SequenceVar.">SequenceVar</a>* <span class="keyword">const</span> var, <span class="keywordtype">int</span> index) = 0;
<a name="l01265"></a>01265   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1PropagationMonitor.html#1a8db8e232b8e87f8e663aaf2f484618">RankLast</a>(<a class="code" href="classoperations__research_1_1SequenceVar.html" title="SequenceVar.">SequenceVar</a>* <span class="keyword">const</span> var, <span class="keywordtype">int</span> index) = 0;
<a name="l01266"></a>01266   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1PropagationMonitor.html#2b256262632e819ceeb0cf04be0e53ad">RankNotLast</a>(<a class="code" href="classoperations__research_1_1SequenceVar.html" title="SequenceVar.">SequenceVar</a>* <span class="keyword">const</span> var, <span class="keywordtype">int</span> index) = 0;
<a name="l01267"></a>01267   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1PropagationMonitor.html#07763e428da44d08eab94f5a88348777">RankSequence</a>(<a class="code" href="classoperations__research_1_1SequenceVar.html" title="SequenceVar.">SequenceVar</a>* <span class="keyword">const</span> var,
<a name="l01268"></a>01268                             <span class="keyword">const</span> std::vector&lt;int&gt;&amp; rank_first,
<a name="l01269"></a>01269                             <span class="keyword">const</span> std::vector&lt;int&gt;&amp; rank_last,
<a name="l01270"></a>01270                             <span class="keyword">const</span> std::vector&lt;int&gt;&amp; unperformed) = 0;
<a name="l01271"></a>01271   <span class="comment">// Install itself on the solver.</span>
<a name="l01272"></a>01272   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1PropagationMonitor.html#6fadc131ceec7028bbdc979ee330c2d0" title="Install itself on the solver.">Install</a>();
<a name="l01273"></a>01273 };
<a name="l01274"></a>01274 
<a name="l01275"></a>01275 <span class="comment">// ---------- SymmetryBreaker ----------</span>
<a name="l01276"></a>01276 
<a name="l01277"></a>01277 <span class="keyword">class </span><a class="code" href="classoperations__research_1_1SymmetryManager.html" title="Symmetry Breaking.">SymmetryManager</a>;
<a name="l01278"></a>01278 
<a name="l01279"></a>01279 <span class="comment">// A symmetry breaker is an object that will visit a decision and</span>
<a name="l01280"></a>01280 <span class="comment">// create the 'symmetrical' decision in return.</span>
<a name="l01281"></a>01281 <span class="comment">// Each symmetry breaker represents one class of symmetry.</span>
<a name="l01282"></a><a class="code" href="classoperations__research_1_1SymmetryBreaker.html">01282</a> <span class="keyword">class </span><a class="code" href="classoperations__research_1_1SymmetryBreaker.html" title="A symmetry breaker is an object that will visit a decision and create the &amp;#39;symmetrical&amp;#39;...">SymmetryBreaker</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1DecisionVisitor.html" title="A DecisionVisitor is used to inspect a decision.">DecisionVisitor</a> {
<a name="l01283"></a>01283  <span class="keyword">public</span>:
<a name="l01284"></a><a class="code" href="classoperations__research_1_1SymmetryBreaker.html#9a170caed81ab593c4078b94c0eb6f48">01284</a>   <a class="code" href="classoperations__research_1_1SymmetryBreaker.html#9a170caed81ab593c4078b94c0eb6f48">SymmetryBreaker</a>() : symmetry_manager_(NULL), index_in_symmetry_manager_(-1) {}
<a name="l01285"></a><a class="code" href="classoperations__research_1_1SymmetryBreaker.html#f1fb567ef30ed5ec315e77f4cdca3679">01285</a>   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1SymmetryBreaker.html#f1fb567ef30ed5ec315e77f4cdca3679">~SymmetryBreaker</a>() {}
<a name="l01286"></a>01286 
<a name="l01287"></a>01287   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SymmetryBreaker.html#d77fe19a9060d61fa5c218fc2b48cfe0" title="Symmetry Breaker.">AddIntegerVariableEqualValueClause</a>(<a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> <a class="code" href="expr__array_8cc.html#472a99923cbe11ae7b5a5d157d9ad465">var</a>, int64 <a class="code" href="search_8cc.html#21edc7ca4cc5802c8779d68556bc09cf">value</a>);
<a name="l01288"></a>01288   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SymmetryBreaker.html#1adf7a226f0e955569f07afbdc96b415">AddIntegerVariableGreaterOrEqualValueClause</a>(<a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> <a class="code" href="expr__array_8cc.html#472a99923cbe11ae7b5a5d157d9ad465">var</a>,
<a name="l01289"></a>01289                                                    int64 <a class="code" href="search_8cc.html#21edc7ca4cc5802c8779d68556bc09cf">value</a>);
<a name="l01290"></a>01290   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SymmetryBreaker.html#c6f27d524c9f0efd7b467d0e6db48478">AddIntegerVariableLessOrEqualValueClause</a>(<a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> <a class="code" href="expr__array_8cc.html#472a99923cbe11ae7b5a5d157d9ad465">var</a>, int64 <a class="code" href="search_8cc.html#21edc7ca4cc5802c8779d68556bc09cf">value</a>);
<a name="l01291"></a>01291 
<a name="l01292"></a>01292  <span class="keyword">private</span>:
<a name="l01293"></a><a class="code" href="classoperations__research_1_1SymmetryBreaker.html#a126bb367514a24cbd6e0b2c48fda9ee">01293</a>   <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classoperations__research_1_1SymmetryManager.html" title="Symmetry Breaking.">SymmetryManager</a>;
<a name="l01294"></a>01294   <span class="keywordtype">void</span> set_symmetry_manager_and_index(<a class="code" href="classoperations__research_1_1SymmetryManager.html" title="Symmetry Breaking.">SymmetryManager</a>* manager, <span class="keywordtype">int</span> <a class="code" href="pack_8cc.html#750b5d744c39a06bfb13e6eb010e35d0">index</a>) {
<a name="l01295"></a>01295     CHECK(symmetry_manager_ == NULL);
<a name="l01296"></a>01296     CHECK_EQ(-1, index_in_symmetry_manager_);
<a name="l01297"></a>01297     symmetry_manager_ = manager;
<a name="l01298"></a>01298     index_in_symmetry_manager_ = index;
<a name="l01299"></a>01299   }
<a name="l01300"></a>01300   <a class="code" href="classoperations__research_1_1SymmetryManager.html" title="Symmetry Breaking.">SymmetryManager</a>* symmetry_manager()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> symmetry_manager_; }
<a name="l01301"></a>01301   <span class="keywordtype">int</span> index_in_symmetry_manager()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> index_in_symmetry_manager_; }
<a name="l01302"></a>01302 
<a name="l01303"></a>01303   <a class="code" href="classoperations__research_1_1SymmetryBreaker.html#a126bb367514a24cbd6e0b2c48fda9ee">SymmetryManager</a>* symmetry_manager_;
<a name="l01304"></a>01304   <span class="comment">// Index of the symmetry breaker when used inside the symmetry manager.</span>
<a name="l01305"></a>01305   <span class="keywordtype">int</span> index_in_symmetry_manager_;
<a name="l01306"></a>01306 };
<a name="l01307"></a>01307 
<a name="l01308"></a>01308 <span class="comment">// ---------- Search Log ---------</span>
<a name="l01309"></a>01309 
<a name="l01310"></a>01310 <span class="comment">// The base class of all search logs that periodically outputs information when</span>
<a name="l01311"></a>01311 <span class="comment">// the search is runnning.</span>
<a name="l01312"></a><a class="code" href="classoperations__research_1_1SearchLog.html">01312</a> <span class="keyword">class </span><a class="code" href="classoperations__research_1_1SearchLog.html" title="Search Log.">SearchLog</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1SearchMonitor.html" title="A search monitor is a simple set of callbacks to monitor all search events.">SearchMonitor</a> {
<a name="l01313"></a>01313  <span class="keyword">public</span>:
<a name="l01314"></a>01314   <a class="code" href="classoperations__research_1_1SearchLog.html#94e4a2330724834502684abaab896111" title="Search Log.">SearchLog</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> s,
<a name="l01315"></a>01315             <a class="code" href="classoperations__research_1_1OptimizeVar.html" title="This class encapsulate an objective.">OptimizeVar</a>* <span class="keyword">const</span> obj,
<a name="l01316"></a>01316             <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> <a class="code" href="expr__array_8cc.html#472a99923cbe11ae7b5a5d157d9ad465">var</a>,
<a name="l01317"></a>01317             ResultCallback&lt;string&gt;* display_callback,
<a name="l01318"></a>01318             <span class="keywordtype">int</span> period);
<a name="l01319"></a>01319   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1SearchLog.html#a02a1379b698858705cc39fe7de9f76d">~SearchLog</a>();
<a name="l01320"></a>01320   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SearchLog.html#7abdb38d45920c769c1df70fdbfbbd4d" title="Beginning of the search.">EnterSearch</a>();
<a name="l01321"></a>01321   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SearchLog.html#b22c02947c720ede439a2643b76be94f" title="End of the search.">ExitSearch</a>();
<a name="l01322"></a>01322   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1SearchLog.html#760d401b905e1a6dad762a496ddf1a08" title="This method is called when a valid solution is found.">AtSolution</a>();
<a name="l01323"></a>01323   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SearchLog.html#59cdb6933d5927975af3489fd3fa7e70" title="Just when the failure occurs.">BeginFail</a>();
<a name="l01324"></a>01324   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SearchLog.html#82244b2e5f4f5faabb48ca2aba9e910f" title="When the search tree is finished.">NoMoreSolutions</a>();
<a name="l01325"></a>01325   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SearchLog.html#27469087492badd68d1c493959fee2a2" title="Before applying the decision.">ApplyDecision</a>(<a class="code" href="classoperations__research_1_1Decision.html" title="A Decision represents a choice point in the search tree.">Decision</a>* <span class="keyword">const</span> decision);
<a name="l01326"></a>01326   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SearchLog.html#10d970f41bee18dd42b9510ca422a07b" title="Before refuting the Decision.">RefuteDecision</a>(<a class="code" href="classoperations__research_1_1Decision.html" title="A Decision represents a choice point in the search tree.">Decision</a>* <span class="keyword">const</span> decision);
<a name="l01327"></a>01327   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SearchLog.html#3552cd62545e80d0ca632ac31911d0d1">OutputDecision</a>();
<a name="l01328"></a>01328   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SearchLog.html#fc544b08813308dcf1652885f7ad6dac">Maintain</a>();
<a name="l01329"></a>01329   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SearchLog.html#18f4b4eaa43bd08d806a698fcd3d3e0c" title="Before the initial propagation.">BeginInitialPropagation</a>();
<a name="l01330"></a>01330   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SearchLog.html#51ca06faa0bca3393b596fcca33e3656" title="After the initial propagation.">EndInitialPropagation</a>();
<a name="l01331"></a>01331 
<a name="l01332"></a>01332  <span class="keyword">protected</span>:
<a name="l01333"></a>01333   <span class="comment">/* Bottleneck function used for all UI related output. */</span>
<a name="l01334"></a>01334   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SearchLog.html#e70fca486fff2316fb1ca1a3543c3e66" title="Bottleneck function used for all UI related output.">OutputLine</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; line);
<a name="l01335"></a>01335 
<a name="l01336"></a>01336  <span class="keyword">private</span>:
<a name="l01337"></a>01337   <span class="keyword">static</span> <span class="keywordtype">string</span> MemoryUsage();
<a name="l01338"></a>01338 
<a name="l01339"></a>01339   <span class="keyword">const</span> <span class="keywordtype">int</span> period_;
<a name="l01340"></a>01340   scoped_ptr&lt;WallTimer&gt; timer_;
<a name="l01341"></a>01341   <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> var_;
<a name="l01342"></a>01342   <a class="code" href="classoperations__research_1_1OptimizeVar.html" title="This class encapsulate an objective.">OptimizeVar</a>* <span class="keyword">const</span> obj_;
<a name="l01343"></a>01343   scoped_ptr&lt;ResultCallback&lt;string&gt; &gt; display_callback_;
<a name="l01344"></a>01344   <span class="keywordtype">int</span> nsol_;
<a name="l01345"></a>01345   int64 tick_;
<a name="l01346"></a>01346   int64 objective_min_;
<a name="l01347"></a>01347   int64 objective_max_;
<a name="l01348"></a>01348   <span class="keywordtype">int</span> min_right_depth_;
<a name="l01349"></a>01349   <span class="keywordtype">int</span> max_depth_;
<a name="l01350"></a>01350   <span class="keywordtype">int</span> sliding_min_depth_;
<a name="l01351"></a>01351   <span class="keywordtype">int</span> sliding_max_depth_;
<a name="l01352"></a>01352 };
<a name="l01353"></a>01353 
<a name="l01354"></a>01354 <span class="comment">// Implements a complete cache for model elements: expressions and</span>
<a name="l01355"></a>01355 <span class="comment">// constraints.  Caching is based on the signatures of the elements, as</span>
<a name="l01356"></a>01356 <span class="comment">// well as their types.  This class is used internally to avoid creating</span>
<a name="l01357"></a>01357 <span class="comment">// duplicate objects.</span>
<a name="l01358"></a><a class="code" href="classoperations__research_1_1ModelCache.html">01358</a> <span class="keyword">class </span><a class="code" href="classoperations__research_1_1ModelCache.html" title="Implements a complete cache for model elements: expressions and constraints.">ModelCache</a> {
<a name="l01359"></a>01359  <span class="keyword">public</span>:
<a name="l01360"></a><a class="code" href="classoperations__research_1_1ModelCache.html#0a1063da2274711663b4fabdd552553e">01360</a>   <span class="keyword">enum</span> <a class="code" href="classoperations__research_1_1ModelCache.html#0a1063da2274711663b4fabdd552553e">VoidConstraintType</a> {
<a name="l01361"></a><a class="code" href="classoperations__research_1_1ModelCache.html#0a1063da2274711663b4fabdd552553edb6a8e793cd360bdac363c2cc28eff3c">01361</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#0a1063da2274711663b4fabdd552553edb6a8e793cd360bdac363c2cc28eff3c">VOID_FALSE_CONSTRAINT</a> = 0,
<a name="l01362"></a><a class="code" href="classoperations__research_1_1ModelCache.html#0a1063da2274711663b4fabdd552553e82427a99c279490b35177f9a537031d4">01362</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#0a1063da2274711663b4fabdd552553e82427a99c279490b35177f9a537031d4">VOID_TRUE_CONSTRAINT</a>,
<a name="l01363"></a><a class="code" href="classoperations__research_1_1ModelCache.html#0a1063da2274711663b4fabdd552553ece922fdfd68186ce433188283e779260">01363</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#0a1063da2274711663b4fabdd552553ece922fdfd68186ce433188283e779260">VOID_CONSTRAINT_MAX</a>,
<a name="l01364"></a>01364   };
<a name="l01365"></a>01365 
<a name="l01366"></a><a class="code" href="classoperations__research_1_1ModelCache.html#3ee5925e5b7f8d35a24c9586784b7436">01366</a>   <span class="keyword">enum</span> <a class="code" href="classoperations__research_1_1ModelCache.html#3ee5925e5b7f8d35a24c9586784b7436">VarConstantConstraintType</a> {
<a name="l01367"></a><a class="code" href="classoperations__research_1_1ModelCache.html#3ee5925e5b7f8d35a24c9586784b7436070768a658f3ff974ca3928ba74ead31">01367</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#3ee5925e5b7f8d35a24c9586784b7436070768a658f3ff974ca3928ba74ead31">VAR_CONSTANT_EQUALITY</a> = 0,
<a name="l01368"></a><a class="code" href="classoperations__research_1_1ModelCache.html#3ee5925e5b7f8d35a24c9586784b74361325f8dfb1c122fad75157edf76fdd1e">01368</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#3ee5925e5b7f8d35a24c9586784b74361325f8dfb1c122fad75157edf76fdd1e">VAR_CONSTANT_GREATER_OR_EQUAL</a>,
<a name="l01369"></a><a class="code" href="classoperations__research_1_1ModelCache.html#3ee5925e5b7f8d35a24c9586784b7436f1e19fb208252121d68b5a06f1c8dde7">01369</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#3ee5925e5b7f8d35a24c9586784b7436f1e19fb208252121d68b5a06f1c8dde7">VAR_CONSTANT_LESS_OR_EQUAL</a>,
<a name="l01370"></a><a class="code" href="classoperations__research_1_1ModelCache.html#3ee5925e5b7f8d35a24c9586784b74362f285cddde6149d7f54bf5ceb42a1507">01370</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#3ee5925e5b7f8d35a24c9586784b74362f285cddde6149d7f54bf5ceb42a1507">VAR_CONSTANT_NON_EQUALITY</a>,
<a name="l01371"></a><a class="code" href="classoperations__research_1_1ModelCache.html#3ee5925e5b7f8d35a24c9586784b74366a27c16438750d35626d77e0b2588308">01371</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#3ee5925e5b7f8d35a24c9586784b74366a27c16438750d35626d77e0b2588308">VAR_CONSTANT_CONSTRAINT_MAX</a>,
<a name="l01372"></a>01372   };
<a name="l01373"></a>01373 
<a name="l01374"></a><a class="code" href="classoperations__research_1_1ModelCache.html#edb48d5de6af18fc63065f7024356d45">01374</a>   <span class="keyword">enum</span> <a class="code" href="classoperations__research_1_1ModelCache.html#edb48d5de6af18fc63065f7024356d45">VarConstantConstantConstraintType</a> {
<a name="l01375"></a><a class="code" href="classoperations__research_1_1ModelCache.html#edb48d5de6af18fc63065f7024356d458f03b508da54bc2d68f497c4c9d95426">01375</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#edb48d5de6af18fc63065f7024356d458f03b508da54bc2d68f497c4c9d95426">VAR_CONSTANT_CONSTANT_BETWEEN</a> = 0,
<a name="l01376"></a><a class="code" href="classoperations__research_1_1ModelCache.html#edb48d5de6af18fc63065f7024356d456c0061e4b925cf5a3de722fc1b91be9d">01376</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#edb48d5de6af18fc63065f7024356d456c0061e4b925cf5a3de722fc1b91be9d">VAR_CONSTANT_CONSTANT_CONSTRAINT_MAX</a>,
<a name="l01377"></a>01377   };
<a name="l01378"></a>01378 
<a name="l01379"></a><a class="code" href="classoperations__research_1_1ModelCache.html#050e1516ffcf78d5a11b481da687f5ab">01379</a>   <span class="keyword">enum</span> <a class="code" href="classoperations__research_1_1ModelCache.html#050e1516ffcf78d5a11b481da687f5ab">VarVarConstraintType</a> {
<a name="l01380"></a><a class="code" href="classoperations__research_1_1ModelCache.html#050e1516ffcf78d5a11b481da687f5abbbd5d2c467f5c33487a377016ae1c437">01380</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#050e1516ffcf78d5a11b481da687f5abbbd5d2c467f5c33487a377016ae1c437">VAR_VAR_EQUALITY</a> = 0,
<a name="l01381"></a><a class="code" href="classoperations__research_1_1ModelCache.html#050e1516ffcf78d5a11b481da687f5ab2c11dfdb05d1d4015288427f8e9cd544">01381</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#050e1516ffcf78d5a11b481da687f5ab2c11dfdb05d1d4015288427f8e9cd544">VAR_VAR_GREATER</a>,
<a name="l01382"></a><a class="code" href="classoperations__research_1_1ModelCache.html#050e1516ffcf78d5a11b481da687f5ab9feabe1ef5a8add9ea2e26d35be5cdbf">01382</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#050e1516ffcf78d5a11b481da687f5ab9feabe1ef5a8add9ea2e26d35be5cdbf">VAR_VAR_GREATER_OR_EQUAL</a>,
<a name="l01383"></a><a class="code" href="classoperations__research_1_1ModelCache.html#050e1516ffcf78d5a11b481da687f5ab33139a678f00ad79cd1ae193f115d91a">01383</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#050e1516ffcf78d5a11b481da687f5ab33139a678f00ad79cd1ae193f115d91a">VAR_VAR_LESS</a>,
<a name="l01384"></a><a class="code" href="classoperations__research_1_1ModelCache.html#050e1516ffcf78d5a11b481da687f5ab6660953021bdd8bdc3eef1611cb57b3c">01384</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#050e1516ffcf78d5a11b481da687f5ab6660953021bdd8bdc3eef1611cb57b3c">VAR_VAR_LESS_OR_EQUAL</a>,
<a name="l01385"></a><a class="code" href="classoperations__research_1_1ModelCache.html#050e1516ffcf78d5a11b481da687f5abb87977f6e7965ba04954e6204d0f914a">01385</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#050e1516ffcf78d5a11b481da687f5abb87977f6e7965ba04954e6204d0f914a">VAR_VAR_NON_EQUALITY</a>,
<a name="l01386"></a><a class="code" href="classoperations__research_1_1ModelCache.html#050e1516ffcf78d5a11b481da687f5ab08090fa36e57ed6440091286184444eb">01386</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#050e1516ffcf78d5a11b481da687f5ab08090fa36e57ed6440091286184444eb">VAR_VAR_CONSTRAINT_MAX</a>,
<a name="l01387"></a>01387   };
<a name="l01388"></a>01388 
<a name="l01389"></a><a class="code" href="classoperations__research_1_1ModelCache.html#8d6e8314b5804ab7567672b332bf33a8">01389</a>   <span class="keyword">enum</span> <a class="code" href="classoperations__research_1_1ModelCache.html#8d6e8314b5804ab7567672b332bf33a8">VarExpressionType</a> {
<a name="l01390"></a><a class="code" href="classoperations__research_1_1ModelCache.html#8d6e8314b5804ab7567672b332bf33a82b4b43d0f2f86a26bce22ab119b30aca">01390</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#8d6e8314b5804ab7567672b332bf33a82b4b43d0f2f86a26bce22ab119b30aca">VAR_OPPOSITE</a> = 0,
<a name="l01391"></a><a class="code" href="classoperations__research_1_1ModelCache.html#8d6e8314b5804ab7567672b332bf33a81f8f35c0f09f4b231fd98db4ee909396">01391</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#8d6e8314b5804ab7567672b332bf33a81f8f35c0f09f4b231fd98db4ee909396">VAR_ABS</a>,
<a name="l01392"></a><a class="code" href="classoperations__research_1_1ModelCache.html#8d6e8314b5804ab7567672b332bf33a8524d9ada16d4e832289f8ee4375122a4">01392</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#8d6e8314b5804ab7567672b332bf33a8524d9ada16d4e832289f8ee4375122a4">VAR_SQUARE</a>,
<a name="l01393"></a><a class="code" href="classoperations__research_1_1ModelCache.html#8d6e8314b5804ab7567672b332bf33a8b90caa19f8458fefd875972e38c51b86">01393</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#8d6e8314b5804ab7567672b332bf33a8b90caa19f8458fefd875972e38c51b86">VAR_EXPRESSION_MAX</a>,
<a name="l01394"></a>01394   };
<a name="l01395"></a>01395 
<a name="l01396"></a><a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ff">01396</a>   <span class="keyword">enum</span> <a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ff">VarConstantExpressionType</a> {
<a name="l01397"></a><a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ff430510cb77888d7f78a0efb454abea50">01397</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ff430510cb77888d7f78a0efb454abea50">VAR_CONSTANT_DIFFERENCE</a> = 0,
<a name="l01398"></a><a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ffc1395383275fd3e780dd0f41dfad11ec">01398</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ffc1395383275fd3e780dd0f41dfad11ec">VAR_CONSTANT_DIVIDE</a>,
<a name="l01399"></a><a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ff50ccfa84c8915eac292b3a713a0392cd">01399</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ff50ccfa84c8915eac292b3a713a0392cd">VAR_CONSTANT_PROD</a>,
<a name="l01400"></a><a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ffc7ba26c20cda7e41b6744d8d7d3f520e">01400</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ffc7ba26c20cda7e41b6744d8d7d3f520e">VAR_CONSTANT_MAX</a>,
<a name="l01401"></a><a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ff4fe0263c841810027db27e5c548933db">01401</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ff4fe0263c841810027db27e5c548933db">VAR_CONSTANT_MIN</a>,
<a name="l01402"></a><a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ff35bc90912cc59b79a041a41639df501e">01402</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ff35bc90912cc59b79a041a41639df501e">VAR_CONSTANT_SUM</a>,
<a name="l01403"></a><a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ff1e63522719aae7a407d9b857573440ae">01403</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ff1e63522719aae7a407d9b857573440ae">VAR_CONSTANT_IS_EQUAL</a>,
<a name="l01404"></a><a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982fff84c314a72e192b411314487a73e2c02">01404</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982fff84c314a72e192b411314487a73e2c02">VAR_CONSTANT_IS_NOT_EQUAL</a>,
<a name="l01405"></a><a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ff61963e5750199b8642f3993cee3d89a5">01405</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ff61963e5750199b8642f3993cee3d89a5">VAR_CONSTANT_IS_GREATER_OR_EQUAL</a>,
<a name="l01406"></a><a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ff90f05fc4423b76081ec0c1fcbd02b33e">01406</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ff90f05fc4423b76081ec0c1fcbd02b33e">VAR_CONSTANT_IS_LESS_OR_EQUAL</a>,
<a name="l01407"></a><a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ff86be6ff013ba8bf00840651a39c40b2b">01407</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ff86be6ff013ba8bf00840651a39c40b2b">VAR_CONSTANT_EXPRESSION_MAX</a>,
<a name="l01408"></a>01408   };
<a name="l01409"></a>01409 
<a name="l01410"></a><a class="code" href="classoperations__research_1_1ModelCache.html#83ba2653a02e2d8b7242bbee267b97dd">01410</a>   <span class="keyword">enum</span> <a class="code" href="classoperations__research_1_1ModelCache.html#83ba2653a02e2d8b7242bbee267b97dd">VarVarExpressionType</a> {
<a name="l01411"></a><a class="code" href="classoperations__research_1_1ModelCache.html#83ba2653a02e2d8b7242bbee267b97dd8f48c635e1025d12b8221f4d79f6c083">01411</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#83ba2653a02e2d8b7242bbee267b97dd8f48c635e1025d12b8221f4d79f6c083">VAR_VAR_DIFFERENCE</a> = 0,
<a name="l01412"></a><a class="code" href="classoperations__research_1_1ModelCache.html#83ba2653a02e2d8b7242bbee267b97dde98c0d0a353d31513352d1c9f022f810">01412</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#83ba2653a02e2d8b7242bbee267b97dde98c0d0a353d31513352d1c9f022f810">VAR_VAR_PROD</a>,
<a name="l01413"></a><a class="code" href="classoperations__research_1_1ModelCache.html#83ba2653a02e2d8b7242bbee267b97ddbd45acdaeb330d614365bedbffc76a04">01413</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#83ba2653a02e2d8b7242bbee267b97ddbd45acdaeb330d614365bedbffc76a04">VAR_VAR_MAX</a>,
<a name="l01414"></a><a class="code" href="classoperations__research_1_1ModelCache.html#83ba2653a02e2d8b7242bbee267b97dd4797ec42f7354441eab188771b93d07b">01414</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#83ba2653a02e2d8b7242bbee267b97dd4797ec42f7354441eab188771b93d07b">VAR_VAR_MIN</a>,
<a name="l01415"></a><a class="code" href="classoperations__research_1_1ModelCache.html#83ba2653a02e2d8b7242bbee267b97dda2b94dba6f903c4e0bb2310650c1f11b">01415</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#83ba2653a02e2d8b7242bbee267b97dda2b94dba6f903c4e0bb2310650c1f11b">VAR_VAR_SUM</a>,
<a name="l01416"></a><a class="code" href="classoperations__research_1_1ModelCache.html#83ba2653a02e2d8b7242bbee267b97dde51d2d0ae4dfbe80b584a81aa79f039d">01416</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#83ba2653a02e2d8b7242bbee267b97dde51d2d0ae4dfbe80b584a81aa79f039d">VAR_VAR_IS_EQUAL</a>,
<a name="l01417"></a><a class="code" href="classoperations__research_1_1ModelCache.html#83ba2653a02e2d8b7242bbee267b97ddeb553fb9a14e1258774b5c45adf7dc70">01417</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#83ba2653a02e2d8b7242bbee267b97ddeb553fb9a14e1258774b5c45adf7dc70">VAR_VAR_IS_NOT_EQUAL</a>,
<a name="l01418"></a><a class="code" href="classoperations__research_1_1ModelCache.html#83ba2653a02e2d8b7242bbee267b97dd7b2fd245f779b81085605c13041e939a">01418</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#83ba2653a02e2d8b7242bbee267b97dd7b2fd245f779b81085605c13041e939a">VAR_VAR_IS_LESS</a>,
<a name="l01419"></a><a class="code" href="classoperations__research_1_1ModelCache.html#83ba2653a02e2d8b7242bbee267b97ddc5a149b4a8c404fbd091e34f453aa101">01419</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#83ba2653a02e2d8b7242bbee267b97ddc5a149b4a8c404fbd091e34f453aa101">VAR_VAR_IS_LESS_OR_EQUAL</a>,
<a name="l01420"></a><a class="code" href="classoperations__research_1_1ModelCache.html#83ba2653a02e2d8b7242bbee267b97dda924aec06a9fbbd1a3bcc64e7b90832c">01420</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#83ba2653a02e2d8b7242bbee267b97dda924aec06a9fbbd1a3bcc64e7b90832c">VAR_VAR_EXPRESSION_MAX</a>,
<a name="l01421"></a>01421   };
<a name="l01422"></a>01422 
<a name="l01423"></a><a class="code" href="classoperations__research_1_1ModelCache.html#6a17dda7bae65e0e00a13db20c40a80e">01423</a>   <span class="keyword">enum</span> <a class="code" href="classoperations__research_1_1ModelCache.html#6a17dda7bae65e0e00a13db20c40a80e">VarConstantConstantExpressionType</a> {
<a name="l01424"></a><a class="code" href="classoperations__research_1_1ModelCache.html#6a17dda7bae65e0e00a13db20c40a80edced5a0895a2cb90a4594fb36fe61849">01424</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#6a17dda7bae65e0e00a13db20c40a80edced5a0895a2cb90a4594fb36fe61849">VAR_CONSTANT_CONSTANT_SEMI_CONTINUOUS</a> = 0,
<a name="l01425"></a><a class="code" href="classoperations__research_1_1ModelCache.html#6a17dda7bae65e0e00a13db20c40a80ea75358eb802072d41de32a9e809045ea">01425</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#6a17dda7bae65e0e00a13db20c40a80ea75358eb802072d41de32a9e809045ea">VAR_CONSTANT_CONSTANT_EXPRESSION_MAX</a>,
<a name="l01426"></a>01426   };
<a name="l01427"></a>01427 
<a name="l01428"></a><a class="code" href="classoperations__research_1_1ModelCache.html#477f02e25c227dc746912bc19d1156cb">01428</a>   <span class="keyword">enum</span> <a class="code" href="classoperations__research_1_1ModelCache.html#477f02e25c227dc746912bc19d1156cb">VarConstantArrayExpressionType</a> {
<a name="l01429"></a><a class="code" href="classoperations__research_1_1ModelCache.html#477f02e25c227dc746912bc19d1156cbd208c87e11c0e31e89b56d46820a3854">01429</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#477f02e25c227dc746912bc19d1156cbd208c87e11c0e31e89b56d46820a3854">VAR_CONSTANT_ARRAY_ELEMENT</a> = 0,
<a name="l01430"></a><a class="code" href="classoperations__research_1_1ModelCache.html#477f02e25c227dc746912bc19d1156cb07c534a9ebc42ee4cc89310f68a508dc">01430</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#477f02e25c227dc746912bc19d1156cb07c534a9ebc42ee4cc89310f68a508dc">VAR_CONSTANT_ARRAY_EXPRESSION_MAX</a>,
<a name="l01431"></a>01431   };
<a name="l01432"></a>01432 
<a name="l01433"></a><a class="code" href="classoperations__research_1_1ModelCache.html#b4833fcc71b2e79ee4de980b6d70185d">01433</a>   <span class="keyword">enum</span> <a class="code" href="classoperations__research_1_1ModelCache.html#b4833fcc71b2e79ee4de980b6d70185d">VarArrayExpressionType</a> {
<a name="l01434"></a><a class="code" href="classoperations__research_1_1ModelCache.html#b4833fcc71b2e79ee4de980b6d70185d72be218b7d632156bc7d6925b98f2824">01434</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#b4833fcc71b2e79ee4de980b6d70185d72be218b7d632156bc7d6925b98f2824">VAR_ARRAY_MAX</a> = 0,
<a name="l01435"></a><a class="code" href="classoperations__research_1_1ModelCache.html#b4833fcc71b2e79ee4de980b6d70185d3e0c4c80f4eeb88925a067061ec8fb4f">01435</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#b4833fcc71b2e79ee4de980b6d70185d3e0c4c80f4eeb88925a067061ec8fb4f">VAR_ARRAY_MIN</a>,
<a name="l01436"></a><a class="code" href="classoperations__research_1_1ModelCache.html#b4833fcc71b2e79ee4de980b6d70185d670852bc71348c6af0d026914ad8f925">01436</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#b4833fcc71b2e79ee4de980b6d70185d670852bc71348c6af0d026914ad8f925">VAR_ARRAY_SUM</a>,
<a name="l01437"></a><a class="code" href="classoperations__research_1_1ModelCache.html#b4833fcc71b2e79ee4de980b6d70185df8fe9d386f02fb2d2f9137c6ab4d983c">01437</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#b4833fcc71b2e79ee4de980b6d70185df8fe9d386f02fb2d2f9137c6ab4d983c">VAR_ARRAY_EXPRESSION_MAX</a>,
<a name="l01438"></a>01438   };
<a name="l01439"></a>01439 
<a name="l01440"></a>01440   <span class="keyword">explicit</span> <a class="code" href="classoperations__research_1_1ModelCache.html#4399a6572d2936dc302589591be6dd9f" title="ModelCache.">ModelCache</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> solver);
<a name="l01441"></a>01441   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1ModelCache.html#3bd15b35fdce40551a8dce63ae8c0588">~ModelCache</a>();
<a name="l01442"></a>01442 
<a name="l01443"></a>01443   <span class="comment">// Void constraints.</span>
<a name="l01444"></a>01444 
<a name="l01445"></a>01445   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1Constraint.html" title="A constraint is the main modeling object.">Constraint</a>* <a class="code" href="classoperations__research_1_1ModelCache.html#2916776e5f69abac8f9637c3532d25f3" title="Void constraints.">FindVoidConstraint</a>(<a class="code" href="classoperations__research_1_1ModelCache.html#0a1063da2274711663b4fabdd552553e">VoidConstraintType</a> type) <span class="keyword">const</span> = 0;
<a name="l01446"></a>01446 
<a name="l01447"></a>01447   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ModelCache.html#d00d773f68ef4113560d76233ddbdb67">InsertVoidConstraint</a>(<a class="code" href="classoperations__research_1_1Constraint.html" title="A constraint is the main modeling object.">Constraint</a>* <span class="keyword">const</span> ct,
<a name="l01448"></a>01448                                     <a class="code" href="classoperations__research_1_1ModelCache.html#0a1063da2274711663b4fabdd552553e">VoidConstraintType</a> type) = 0;
<a name="l01449"></a>01449 
<a name="l01450"></a>01450   <span class="comment">// Var Constant Constraints.</span>
<a name="l01451"></a>01451   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1Constraint.html" title="A constraint is the main modeling object.">Constraint</a>* <a class="code" href="classoperations__research_1_1ModelCache.html#47726b101345465f4a5909bee5bbda5d" title="Var Constant Constraints.">FindVarConstantConstraint</a>(
<a name="l01452"></a>01452       <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> <a class="code" href="expr__array_8cc.html#472a99923cbe11ae7b5a5d157d9ad465">var</a>,
<a name="l01453"></a>01453       int64 <a class="code" href="search_8cc.html#21edc7ca4cc5802c8779d68556bc09cf">value</a>,
<a name="l01454"></a>01454       <a class="code" href="classoperations__research_1_1ModelCache.html#3ee5925e5b7f8d35a24c9586784b7436">VarConstantConstraintType</a> type) <span class="keyword">const</span> = 0;
<a name="l01455"></a>01455 
<a name="l01456"></a>01456   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ModelCache.html#6add626f74107d891672762f2813da2a">InsertVarConstantConstraint</a>(
<a name="l01457"></a>01457       <a class="code" href="classoperations__research_1_1Constraint.html" title="A constraint is the main modeling object.">Constraint</a>* <span class="keyword">const</span> ct,
<a name="l01458"></a>01458       <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> <a class="code" href="expr__array_8cc.html#472a99923cbe11ae7b5a5d157d9ad465">var</a>,
<a name="l01459"></a>01459       int64 <a class="code" href="search_8cc.html#21edc7ca4cc5802c8779d68556bc09cf">value</a>,
<a name="l01460"></a>01460       <a class="code" href="classoperations__research_1_1ModelCache.html#3ee5925e5b7f8d35a24c9586784b7436">VarConstantConstraintType</a> type) = 0;
<a name="l01461"></a>01461 
<a name="l01462"></a>01462   <span class="comment">// Var Constant Constant Constraints.</span>
<a name="l01463"></a>01463 
<a name="l01464"></a>01464   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1Constraint.html" title="A constraint is the main modeling object.">Constraint</a>* <a class="code" href="classoperations__research_1_1ModelCache.html#59c55441490d9bf17651f638c7b00e94" title="Var Constant Constant Constraints.">FindVarConstantConstantConstraint</a>(
<a name="l01465"></a>01465       <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> <a class="code" href="expr__array_8cc.html#472a99923cbe11ae7b5a5d157d9ad465">var</a>,
<a name="l01466"></a>01466       int64 value1,
<a name="l01467"></a>01467       int64 value2,
<a name="l01468"></a>01468       <a class="code" href="classoperations__research_1_1ModelCache.html#edb48d5de6af18fc63065f7024356d45">VarConstantConstantConstraintType</a> type) <span class="keyword">const</span> = 0;
<a name="l01469"></a>01469 
<a name="l01470"></a>01470   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ModelCache.html#be73e77151aa268e2cc89d0ca2ba35c8">InsertVarConstantConstantConstraint</a>(
<a name="l01471"></a>01471       <a class="code" href="classoperations__research_1_1Constraint.html" title="A constraint is the main modeling object.">Constraint</a>* <span class="keyword">const</span> ct,
<a name="l01472"></a>01472       <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> <a class="code" href="expr__array_8cc.html#472a99923cbe11ae7b5a5d157d9ad465">var</a>,
<a name="l01473"></a>01473       int64 value1,
<a name="l01474"></a>01474       int64 value2,
<a name="l01475"></a>01475       <a class="code" href="classoperations__research_1_1ModelCache.html#edb48d5de6af18fc63065f7024356d45">VarConstantConstantConstraintType</a> type) = 0;
<a name="l01476"></a>01476 
<a name="l01477"></a>01477   <span class="comment">// Var Var Constraints.</span>
<a name="l01478"></a>01478 
<a name="l01479"></a>01479   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1Constraint.html" title="A constraint is the main modeling object.">Constraint</a>* <a class="code" href="classoperations__research_1_1ModelCache.html#b1b948acbbae0c52e8e28e4094a70c80" title="Var Var Constraints.">FindVarVarConstraint</a>(
<a name="l01480"></a>01480       <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> var1,
<a name="l01481"></a>01481       <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> var2,
<a name="l01482"></a>01482       <a class="code" href="classoperations__research_1_1ModelCache.html#050e1516ffcf78d5a11b481da687f5ab">VarVarConstraintType</a> type) <span class="keyword">const</span> = 0;
<a name="l01483"></a>01483 
<a name="l01484"></a>01484   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ModelCache.html#be60c769206df403149f5af5d5ba4370">InsertVarVarConstraint</a>(<a class="code" href="classoperations__research_1_1Constraint.html" title="A constraint is the main modeling object.">Constraint</a>* <span class="keyword">const</span> ct,
<a name="l01485"></a>01485                                       <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> var1,
<a name="l01486"></a>01486                                       <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> var2,
<a name="l01487"></a>01487                                       <a class="code" href="classoperations__research_1_1ModelCache.html#050e1516ffcf78d5a11b481da687f5ab">VarVarConstraintType</a> type) = 0;
<a name="l01488"></a>01488 
<a name="l01489"></a>01489   <span class="comment">// Var Expressions.</span>
<a name="l01490"></a>01490 
<a name="l01491"></a>01491   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1IntExpr.html" title="The class IntExpr is the base of all integer expressions in constraint programming...">IntExpr</a>* <a class="code" href="classoperations__research_1_1ModelCache.html#0c10eac377181b7d517dc0fac7c57cc7" title="Var Expressions.">FindVarExpression</a>(
<a name="l01492"></a>01492       <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> <a class="code" href="expr__array_8cc.html#472a99923cbe11ae7b5a5d157d9ad465">var</a>,
<a name="l01493"></a>01493       <a class="code" href="classoperations__research_1_1ModelCache.html#8d6e8314b5804ab7567672b332bf33a8">VarExpressionType</a> type) <span class="keyword">const</span> = 0;
<a name="l01494"></a>01494 
<a name="l01495"></a>01495   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ModelCache.html#8a25a91474f1876bcbdd1a45af2a3683">InsertVarExpression</a>(<a class="code" href="classoperations__research_1_1IntExpr.html" title="The class IntExpr is the base of all integer expressions in constraint programming...">IntExpr</a>* <span class="keyword">const</span> expression,
<a name="l01496"></a>01496                                    <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> <a class="code" href="expr__array_8cc.html#472a99923cbe11ae7b5a5d157d9ad465">var</a>,
<a name="l01497"></a>01497                                    <a class="code" href="classoperations__research_1_1ModelCache.html#8d6e8314b5804ab7567672b332bf33a8">VarExpressionType</a> type) = 0;
<a name="l01498"></a>01498 
<a name="l01499"></a>01499   <span class="comment">// Var Constant Expressions .</span>
<a name="l01500"></a>01500 
<a name="l01501"></a>01501   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1IntExpr.html" title="The class IntExpr is the base of all integer expressions in constraint programming...">IntExpr</a>* <a class="code" href="classoperations__research_1_1ModelCache.html#01e36f57f70faaff1b0fb9a7b5bde622" title="Var Constant Expressions .">FindVarConstantExpression</a>(
<a name="l01502"></a>01502       <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> <a class="code" href="expr__array_8cc.html#472a99923cbe11ae7b5a5d157d9ad465">var</a>,
<a name="l01503"></a>01503       int64 <a class="code" href="search_8cc.html#21edc7ca4cc5802c8779d68556bc09cf">value</a>,
<a name="l01504"></a>01504       <a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ff">VarConstantExpressionType</a> type) <span class="keyword">const</span> = 0;
<a name="l01505"></a>01505 
<a name="l01506"></a>01506   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ModelCache.html#5b802639b24c34d3ff2523187e3e9912">InsertVarConstantExpression</a>(
<a name="l01507"></a>01507       <a class="code" href="classoperations__research_1_1IntExpr.html" title="The class IntExpr is the base of all integer expressions in constraint programming...">IntExpr</a>* <span class="keyword">const</span> expression,
<a name="l01508"></a>01508       <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> <a class="code" href="expr__array_8cc.html#472a99923cbe11ae7b5a5d157d9ad465">var</a>,
<a name="l01509"></a>01509       int64 <a class="code" href="search_8cc.html#21edc7ca4cc5802c8779d68556bc09cf">value</a>,
<a name="l01510"></a>01510       <a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ff">VarConstantExpressionType</a> type) = 0;
<a name="l01511"></a>01511 
<a name="l01512"></a>01512   <span class="comment">// Var Var Expressions.</span>
<a name="l01513"></a>01513 
<a name="l01514"></a>01514   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1IntExpr.html" title="The class IntExpr is the base of all integer expressions in constraint programming...">IntExpr</a>* <a class="code" href="classoperations__research_1_1ModelCache.html#e1631da93c366b6ac60b258e09e8bb5b" title="Var Var Expressions.">FindVarVarExpression</a>(
<a name="l01515"></a>01515       <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> var1,
<a name="l01516"></a>01516       <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> var2,
<a name="l01517"></a>01517       <a class="code" href="classoperations__research_1_1ModelCache.html#83ba2653a02e2d8b7242bbee267b97dd">VarVarExpressionType</a> type) <span class="keyword">const</span> = 0;
<a name="l01518"></a>01518 
<a name="l01519"></a>01519   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ModelCache.html#1afe614950159563d8ff75d289c83bcf">InsertVarVarExpression</a>(
<a name="l01520"></a>01520       <a class="code" href="classoperations__research_1_1IntExpr.html" title="The class IntExpr is the base of all integer expressions in constraint programming...">IntExpr</a>* <span class="keyword">const</span> expression,
<a name="l01521"></a>01521       <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> var1,
<a name="l01522"></a>01522       <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> var2,
<a name="l01523"></a>01523       <a class="code" href="classoperations__research_1_1ModelCache.html#83ba2653a02e2d8b7242bbee267b97dd">VarVarExpressionType</a> type) = 0;
<a name="l01524"></a>01524 
<a name="l01525"></a>01525   <span class="comment">// Var Constant Constant Expressions.</span>
<a name="l01526"></a>01526 
<a name="l01527"></a>01527   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1IntExpr.html" title="The class IntExpr is the base of all integer expressions in constraint programming...">IntExpr</a>* <a class="code" href="classoperations__research_1_1ModelCache.html#4b4250955e796f1941a60543a2ba346b" title="Var Constant Constant Expressions.">FindVarConstantConstantExpression</a>(
<a name="l01528"></a>01528       <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> <a class="code" href="expr__array_8cc.html#472a99923cbe11ae7b5a5d157d9ad465">var</a>,
<a name="l01529"></a>01529       int64 value1,
<a name="l01530"></a>01530       int64 value2,
<a name="l01531"></a>01531       <a class="code" href="classoperations__research_1_1ModelCache.html#6a17dda7bae65e0e00a13db20c40a80e">VarConstantConstantExpressionType</a> type) <span class="keyword">const</span> = 0;
<a name="l01532"></a>01532 
<a name="l01533"></a>01533   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ModelCache.html#6cea309d14ae33d647d738770da53ebe">InsertVarConstantConstantExpression</a>(
<a name="l01534"></a>01534       <a class="code" href="classoperations__research_1_1IntExpr.html" title="The class IntExpr is the base of all integer expressions in constraint programming...">IntExpr</a>* <span class="keyword">const</span> expression,
<a name="l01535"></a>01535       <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> <a class="code" href="expr__array_8cc.html#472a99923cbe11ae7b5a5d157d9ad465">var</a>,
<a name="l01536"></a>01536       int64 value1,
<a name="l01537"></a>01537       int64 value2,
<a name="l01538"></a>01538       <a class="code" href="classoperations__research_1_1ModelCache.html#6a17dda7bae65e0e00a13db20c40a80e">VarConstantConstantExpressionType</a> type) = 0;
<a name="l01539"></a>01539 
<a name="l01540"></a>01540   <span class="comment">// Var Constant Array Expressions.</span>
<a name="l01541"></a>01541 
<a name="l01542"></a>01542   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1IntExpr.html" title="The class IntExpr is the base of all integer expressions in constraint programming...">IntExpr</a>* <a class="code" href="classoperations__research_1_1ModelCache.html#f19ecc4d91ad533e10287eee01102b4e" title="Var Constant Array Expressions.">FindVarConstantArrayExpression</a>(
<a name="l01543"></a>01543       <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> <a class="code" href="expr__array_8cc.html#472a99923cbe11ae7b5a5d157d9ad465">var</a>,
<a name="l01544"></a>01544       ConstIntArray* <span class="keyword">const</span> values,
<a name="l01545"></a>01545       <a class="code" href="classoperations__research_1_1ModelCache.html#477f02e25c227dc746912bc19d1156cb">VarConstantArrayExpressionType</a> type) <span class="keyword">const</span> = 0;
<a name="l01546"></a>01546 
<a name="l01547"></a>01547   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ModelCache.html#551ac352fee7aab5d349934344744755">InsertVarConstantArrayExpression</a>(
<a name="l01548"></a>01548       <a class="code" href="classoperations__research_1_1IntExpr.html" title="The class IntExpr is the base of all integer expressions in constraint programming...">IntExpr</a>* <span class="keyword">const</span> expression,
<a name="l01549"></a>01549       <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> <a class="code" href="expr__array_8cc.html#472a99923cbe11ae7b5a5d157d9ad465">var</a>,
<a name="l01550"></a>01550       ConstIntArray* <span class="keyword">const</span> values,
<a name="l01551"></a>01551       <a class="code" href="classoperations__research_1_1ModelCache.html#477f02e25c227dc746912bc19d1156cb">VarConstantArrayExpressionType</a> type) = 0;
<a name="l01552"></a>01552 
<a name="l01553"></a>01553   <span class="comment">// Var Array Expressions.</span>
<a name="l01554"></a>01554 
<a name="l01555"></a>01555   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1IntExpr.html" title="The class IntExpr is the base of all integer expressions in constraint programming...">IntExpr</a>* <a class="code" href="classoperations__research_1_1ModelCache.html#1d0729399bfad7a2c16294b6a59a8ef5" title="Var Array Expressions.">FindVarArrayExpression</a>(
<a name="l01556"></a>01556       ConstPtrArray&lt;IntVar&gt;* <span class="keyword">const</span> vars,
<a name="l01557"></a>01557       <a class="code" href="classoperations__research_1_1ModelCache.html#b4833fcc71b2e79ee4de980b6d70185d">VarArrayExpressionType</a> type) <span class="keyword">const</span> = 0;
<a name="l01558"></a>01558 
<a name="l01559"></a>01559   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ModelCache.html#b692416e88de228753177e99a6a37d8c">InsertVarArrayExpression</a>(
<a name="l01560"></a>01560       <a class="code" href="classoperations__research_1_1IntExpr.html" title="The class IntExpr is the base of all integer expressions in constraint programming...">IntExpr</a>* <span class="keyword">const</span> expression,
<a name="l01561"></a>01561       ConstPtrArray&lt;IntVar&gt;* <span class="keyword">const</span> vars,
<a name="l01562"></a>01562       <a class="code" href="classoperations__research_1_1ModelCache.html#b4833fcc71b2e79ee4de980b6d70185d">VarArrayExpressionType</a> type) = 0;
<a name="l01563"></a>01563 
<a name="l01564"></a>01564   <a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <a class="code" href="classoperations__research_1_1ModelCache.html#3e4c160bcf763a41f359023b9d3991d2">solver</a>() <span class="keyword">const</span>;
<a name="l01565"></a>01565 
<a name="l01566"></a>01566  <span class="keyword">private</span>:
<a name="l01567"></a>01567   <a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> solver_;
<a name="l01568"></a>01568 };
<a name="l01569"></a>01569 
<a name="l01570"></a>01570 <span class="preprocessor">#if !defined(SWIG)</span>
<a name="l01571"></a>01571 <span class="preprocessor"></span><span class="comment">// Implements a data structure useful for scheduling.</span>
<a name="l01572"></a>01572 <span class="comment">// It is meant to store simple temporal constraints and to propagate</span>
<a name="l01573"></a>01573 <span class="comment">// efficiently on the nodes of this temporal graph.</span>
<a name="l01574"></a>01574 <span class="keyword">class </span>DependencyGraphNode;
<a name="l01575"></a><a class="code" href="classoperations__research_1_1DependencyGraph.html">01575</a> <span class="keyword">class </span><a class="code" href="classoperations__research_1_1DependencyGraph.html">DependencyGraph</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1BaseObject.html" title="Useful Search and Modeling Objects.">BaseObject</a> {
<a name="l01576"></a>01576  <span class="keyword">public</span>:
<a name="l01577"></a>01577   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1DependencyGraph.html#b96d6d540f19f07c52b6a5d835861761" title="Dependency Graph internal API.">~DependencyGraph</a>();
<a name="l01578"></a>01578 
<a name="l01579"></a>01579   <span class="comment">// start(left) &gt;= end(right) + delay.</span>
<a name="l01580"></a>01580   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1DependencyGraph.html#d2144986414fe99309392406f2cf28b0" title="start(left) &amp;gt;= end(right) + delay.">AddStartsAfterEndWithDelay</a>(<a class="code" href="classoperations__research_1_1IntervalVar.html" title="Interval Var.">IntervalVar</a>* <span class="keyword">const</span> left,
<a name="l01581"></a>01581                                   <a class="code" href="classoperations__research_1_1IntervalVar.html" title="Interval Var.">IntervalVar</a>* <span class="keyword">const</span> right,
<a name="l01582"></a>01582                                   int64 delay);
<a name="l01583"></a>01583 
<a name="l01584"></a>01584   <span class="comment">// start(left) == end(right) + delay.</span>
<a name="l01585"></a>01585   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1DependencyGraph.html#c0322699d807a2032cbe1e00b6aef791" title="start(left) == end(right) + delay.">AddStartsAtEndWithDelay</a>(<a class="code" href="classoperations__research_1_1IntervalVar.html" title="Interval Var.">IntervalVar</a>* <span class="keyword">const</span> left,
<a name="l01586"></a>01586                                <a class="code" href="classoperations__research_1_1IntervalVar.html" title="Interval Var.">IntervalVar</a>* <span class="keyword">const</span> right,
<a name="l01587"></a>01587                                int64 delay);
<a name="l01588"></a>01588 
<a name="l01589"></a>01589   <span class="comment">// start(left) &gt;= start(right) + delay.</span>
<a name="l01590"></a>01590   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1DependencyGraph.html#555819d246c461f981e9c98dfbb84b36" title="start(left) &amp;gt;= start(right) + delay.">AddStartsAfterStartWithDelay</a>(<a class="code" href="classoperations__research_1_1IntervalVar.html" title="Interval Var.">IntervalVar</a>* <span class="keyword">const</span> left,
<a name="l01591"></a>01591                                     <a class="code" href="classoperations__research_1_1IntervalVar.html" title="Interval Var.">IntervalVar</a>* <span class="keyword">const</span> right,
<a name="l01592"></a>01592                                     int64 delay);
<a name="l01593"></a>01593 
<a name="l01594"></a>01594   <span class="comment">// start(left) == start(right) + delay.</span>
<a name="l01595"></a>01595   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1DependencyGraph.html#8148f860a9bb3f1f6703fd8e4ec4b0be" title="start(left) == start(right) + delay.">AddStartsAtStartWithDelay</a>(<a class="code" href="classoperations__research_1_1IntervalVar.html" title="Interval Var.">IntervalVar</a>* <span class="keyword">const</span> left,
<a name="l01596"></a>01596                                  <a class="code" href="classoperations__research_1_1IntervalVar.html" title="Interval Var.">IntervalVar</a>* <span class="keyword">const</span> right,
<a name="l01597"></a>01597                                  int64 delay);
<a name="l01598"></a>01598 
<a name="l01599"></a>01599   <span class="comment">// Internal API.</span>
<a name="l01600"></a>01600 
<a name="l01601"></a>01601   <span class="comment">// Factory to create a node from an interval var. This node is</span>
<a name="l01602"></a>01602   <span class="comment">// attached to the start of the interval var.</span>
<a name="l01603"></a>01603   <a class="code" href="classoperations__research_1_1DependencyGraphNode.html" title="A node in the dependency graph.">DependencyGraphNode</a>* <a class="code" href="classoperations__research_1_1DependencyGraph.html#82a25f37e11ad328cd24f40d5cf422d2" title="Internal API.">BuildStartNode</a>(<a class="code" href="classoperations__research_1_1IntervalVar.html" title="Interval Var.">IntervalVar</a>* <span class="keyword">const</span> <a class="code" href="expr__array_8cc.html#472a99923cbe11ae7b5a5d157d9ad465">var</a>);
<a name="l01604"></a>01604 
<a name="l01605"></a>01605   <span class="comment">// Adds left == right + offset.</span>
<a name="l01606"></a>01606   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1DependencyGraph.html#9f3c1de2f16625293e3f4fee3b7845b3" title="Adds left == right + offset.">AddEquality</a>(<a class="code" href="classoperations__research_1_1DependencyGraphNode.html" title="A node in the dependency graph.">DependencyGraphNode</a>* <span class="keyword">const</span> left,
<a name="l01607"></a>01607                            <a class="code" href="classoperations__research_1_1DependencyGraphNode.html" title="A node in the dependency graph.">DependencyGraphNode</a>* <span class="keyword">const</span> right,
<a name="l01608"></a>01608                            int64 offset) = 0;
<a name="l01609"></a>01609   <span class="comment">// Adds left &gt;= right + offset.</span>
<a name="l01610"></a>01610   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1DependencyGraph.html#39caeada4f84f1c9d9288b297aea90d2" title="Adds left &amp;gt;= right + offset.">AddInequality</a>(<a class="code" href="classoperations__research_1_1DependencyGraphNode.html" title="A node in the dependency graph.">DependencyGraphNode</a>* <span class="keyword">const</span> left,
<a name="l01611"></a>01611                              <a class="code" href="classoperations__research_1_1DependencyGraphNode.html" title="A node in the dependency graph.">DependencyGraphNode</a>* <span class="keyword">const</span> right,
<a name="l01612"></a>01612                              int64 offset) = 0;
<a name="l01613"></a>01613 
<a name="l01614"></a>01614   <span class="comment">// Tell the graph that this node has changed.</span>
<a name="l01615"></a>01615   <span class="comment">// If applied_to_min_or_max is true, the min has changed.</span>
<a name="l01616"></a>01616   <span class="comment">// If applied_to_min_or_max is false, the max has changed.</span>
<a name="l01617"></a>01617   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1DependencyGraph.html#4a5d8b50ae2a5c328fbcd271cf1d8ea1" title="Tell the graph that this node has changed.">Enqueue</a>(<a class="code" href="classoperations__research_1_1DependencyGraphNode.html" title="A node in the dependency graph.">DependencyGraphNode</a>* <span class="keyword">const</span> <a class="code" href="dependency__graph_8cc.html#4eefd1c2b90c940bb972d6d038744cc3">node</a>,
<a name="l01618"></a>01618                        <span class="keywordtype">bool</span> applied_to_min_or_max) = 0;
<a name="l01619"></a>01619 
<a name="l01620"></a>01620  <span class="keyword">private</span>:
<a name="l01621"></a>01621   hash_map&lt;IntervalVar*, DependencyGraphNode*&gt; start_node_map_;
<a name="l01622"></a>01622   std::vector&lt;DependencyGraphNode*&gt; managed_nodes_;
<a name="l01623"></a>01623 };
<a name="l01624"></a>01624 <span class="preprocessor">#endif</span>
<a name="l01625"></a>01625 <span class="preprocessor"></span>
<a name="l01626"></a>01626 <span class="comment">// Argument Holder: useful when visiting a model.</span>
<a name="l01627"></a>01627 <span class="preprocessor">#if !defined(SWIG)</span>
<a name="l01628"></a><a class="code" href="classoperations__research_1_1ArgumentHolder.html">01628</a> <span class="preprocessor"></span><span class="keyword">class </span><a class="code" href="classoperations__research_1_1ArgumentHolder.html" title="Argument Holder: useful when visiting a model.">ArgumentHolder</a> {
<a name="l01629"></a>01629  <span class="keyword">public</span>:
<a name="l01630"></a>01630   <span class="comment">// Type of the argument.</span>
<a name="l01631"></a>01631   <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code" href="classoperations__research_1_1ArgumentHolder.html#a956bfebf8d66c01698cc74a2ca03ad5" title="Type of the argument.">TypeName</a>() <span class="keyword">const</span>;
<a name="l01632"></a>01632   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ArgumentHolder.html#5e1bd757bbdb62a5d83375fde38faabf">SetTypeName</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; type_name);
<a name="l01633"></a>01633 
<a name="l01634"></a>01634   <span class="comment">// Setters.</span>
<a name="l01635"></a>01635   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ArgumentHolder.html#7d54014edeaec87309f6b1c1f19a0cad" title="Setters.">SetIntegerArgument</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; arg_name, int64 <a class="code" href="search_8cc.html#21edc7ca4cc5802c8779d68556bc09cf">value</a>);
<a name="l01636"></a>01636   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ArgumentHolder.html#732a2cf58c72de4d122cd8f57f37ad84">SetIntegerArrayArgument</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; arg_name,
<a name="l01637"></a>01637                                <span class="keyword">const</span> int64* <span class="keyword">const</span> values,
<a name="l01638"></a>01638                                <span class="keywordtype">int</span> size);
<a name="l01639"></a>01639   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ArgumentHolder.html#a023444663433425f8bd6e42abe1189d">SetIntegerMatrixArgument</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; arg_name,
<a name="l01640"></a>01640                                 <span class="keyword">const</span> IntTupleSet&amp; values);
<a name="l01641"></a>01641   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ArgumentHolder.html#2afcd220556a780b25ffd7cfe02235d1">SetIntegerExpressionArgument</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; arg_name,
<a name="l01642"></a>01642                                     <span class="keyword">const</span> <a class="code" href="classoperations__research_1_1IntExpr.html" title="The class IntExpr is the base of all integer expressions in constraint programming...">IntExpr</a>* <span class="keyword">const</span> expr);
<a name="l01643"></a>01643   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ArgumentHolder.html#d8312971b12f67bd8938cbac7dd36cc3">SetIntegerVariableArrayArgument</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; arg_name,
<a name="l01644"></a>01644                                        <span class="keyword">const</span> <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> * <span class="keyword">const</span> vars,
<a name="l01645"></a>01645                                        <span class="keywordtype">int</span> size);
<a name="l01646"></a>01646   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ArgumentHolder.html#ac4171abed301e0e043bca102844e7d8">SetIntervalArgument</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; arg_name,
<a name="l01647"></a>01647                            <span class="keyword">const</span> <a class="code" href="classoperations__research_1_1IntervalVar.html" title="Interval Var.">IntervalVar</a>* <span class="keyword">const</span> <a class="code" href="expr__array_8cc.html#472a99923cbe11ae7b5a5d157d9ad465">var</a>);
<a name="l01648"></a>01648   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ArgumentHolder.html#ce3e967ba8a733f4b869cc8631783ee8">SetIntervalArrayArgument</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; arg_name,
<a name="l01649"></a>01649                                 <span class="keyword">const</span> <a class="code" href="classoperations__research_1_1IntervalVar.html" title="Interval Var.">IntervalVar</a>* <span class="keyword">const</span> * <span class="keyword">const</span> vars,
<a name="l01650"></a>01650                                 <span class="keywordtype">int</span> size);
<a name="l01651"></a>01651   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ArgumentHolder.html#d37a77ff4516962fb2b6225589275c43">SetSequenceArgument</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; arg_name,
<a name="l01652"></a>01652                            <span class="keyword">const</span> <a class="code" href="classoperations__research_1_1SequenceVar.html" title="SequenceVar.">SequenceVar</a>* <span class="keyword">const</span> var);
<a name="l01653"></a>01653   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ArgumentHolder.html#2762b7d8372cffcb77eeeb1a1e31c1f2">SetSequenceArrayArgument</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; arg_name,
<a name="l01654"></a>01654                                 <span class="keyword">const</span> <a class="code" href="classoperations__research_1_1SequenceVar.html" title="SequenceVar.">SequenceVar</a>* <span class="keyword">const</span> * <span class="keyword">const</span> vars,
<a name="l01655"></a>01655                                 <span class="keywordtype">int</span> size);
<a name="l01656"></a>01656 
<a name="l01657"></a>01657   <span class="comment">// Checks if arguments exist.</span>
<a name="l01658"></a>01658   <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1ArgumentHolder.html#6ad222176e4871b8ac424a44e8d358d7" title="Checks if arguments exist.">HasIntegerExpressionArgument</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; arg_name) <span class="keyword">const</span>;
<a name="l01659"></a>01659   <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1ArgumentHolder.html#829b4164009232874d8bfb3a2b775521">HasIntegerVariableArrayArgument</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; arg_name) <span class="keyword">const</span>;
<a name="l01660"></a>01660 
<a name="l01661"></a>01661   <span class="comment">// Getters.</span>
<a name="l01662"></a>01662   int64 <a class="code" href="classoperations__research_1_1ArgumentHolder.html#e573a0ac00410c0b9c1beb3d2da64da3" title="Getters.">FindIntegerArgumentWithDefault</a>(
<a name="l01663"></a>01663       <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; arg_name,
<a name="l01664"></a>01664       int64 def) <span class="keyword">const</span>;
<a name="l01665"></a>01665   int64 <a class="code" href="classoperations__research_1_1ArgumentHolder.html#b9c5e89ce2ffd6e5fcccd8a96b4b020b">FindIntegerArgumentOrDie</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; arg_name) <span class="keyword">const</span>;
<a name="l01666"></a>01666   <span class="keyword">const</span> std::vector&lt;int64&gt;&amp; <a class="code" href="classoperations__research_1_1ArgumentHolder.html#ab687d0dee19aef4ee8075e47efe1a51">FindIntegerArrayArgumentOrDie</a>(
<a name="l01667"></a>01667       <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; arg_name) <span class="keyword">const</span>;
<a name="l01668"></a>01668   <span class="keyword">const</span> IntTupleSet&amp; <a class="code" href="classoperations__research_1_1ArgumentHolder.html#b347d2d4b2e94786fa8b2b163ab716e6">FindIntegerMatrixArgumentOrDie</a>(
<a name="l01669"></a>01669       <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; arg_name) <span class="keyword">const</span>;
<a name="l01670"></a>01670 
<a name="l01671"></a>01671   <span class="keyword">const</span> <a class="code" href="classoperations__research_1_1IntExpr.html" title="The class IntExpr is the base of all integer expressions in constraint programming...">IntExpr</a>* <a class="code" href="classoperations__research_1_1ArgumentHolder.html#6f7a933ea8e563b6a5f9f8299cbd7df2">FindIntegerExpressionArgumentOrDie</a>(
<a name="l01672"></a>01672       <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; arg_name) <span class="keyword">const</span>;
<a name="l01673"></a>01673   <span class="keyword">const</span> std::vector&lt;const IntVar*&gt;&amp; <a class="code" href="classoperations__research_1_1ArgumentHolder.html#5c6230ea6f65facab00b0f229b8c2d54">FindIntegerVariableArrayArgumentOrDie</a>(
<a name="l01674"></a>01674       <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; arg_name) <span class="keyword">const</span>;
<a name="l01675"></a>01675 
<a name="l01676"></a>01676  <span class="keyword">private</span>:
<a name="l01677"></a>01677   <span class="keywordtype">string</span> type_name_;
<a name="l01678"></a>01678   hash_map&lt;string, int64&gt; integer_argument_;
<a name="l01679"></a>01679   hash_map&lt;string, std::vector&lt;int64&gt; &gt; integer_array_argument_;
<a name="l01680"></a>01680   hash_map&lt;string, IntTupleSet&gt; matrix_argument_;
<a name="l01681"></a>01681   hash_map&lt;string, const IntExpr*&gt; integer_expression_argument_;
<a name="l01682"></a>01682   hash_map&lt;string, const IntervalVar*&gt; interval_argument_;
<a name="l01683"></a>01683   hash_map&lt;string, const SequenceVar*&gt; sequence_argument_;
<a name="l01684"></a>01684   hash_map&lt;string, std::vector&lt;const IntVar*&gt; &gt; integer_variable_array_argument_;
<a name="l01685"></a>01685   hash_map&lt;string, std::vector&lt;const IntervalVar*&gt; &gt; interval_array_argument_;
<a name="l01686"></a>01686   hash_map&lt;string, std::vector&lt;const SequenceVar*&gt; &gt; sequence_array_argument_;
<a name="l01687"></a>01687 };
<a name="l01688"></a>01688 
<a name="l01689"></a>01689 <span class="comment">// Model Parser</span>
<a name="l01690"></a>01690 
<a name="l01691"></a><a class="code" href="classoperations__research_1_1ModelParser.html">01691</a> <span class="keyword">class </span><a class="code" href="classoperations__research_1_1ModelParser.html" title="Model Parser.">ModelParser</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1ModelVisitor.html" title="Model visitor.">ModelVisitor</a> {
<a name="l01692"></a>01692  <span class="keyword">public</span>:
<a name="l01693"></a>01693   <a class="code" href="classoperations__research_1_1ModelParser.html#7007976d224900371bc188833f97dd98" title="ModelParser.">ModelParser</a>();
<a name="l01694"></a>01694 
<a name="l01695"></a>01695   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1ModelParser.html#f5e9379198ff03cf5c1fa9d3128ca2a5">~ModelParser</a>();
<a name="l01696"></a>01696 
<a name="l01697"></a>01697   <span class="comment">// Header/footers.</span>
<a name="l01698"></a>01698   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ModelParser.html#d9ddc7915ad8796dd351fa0952f36de7" title="Header/footers.">BeginVisitModel</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; solver_name);
<a name="l01699"></a>01699   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ModelParser.html#0c3a38fd1edc0b2fc7e354221fc6c366">EndVisitModel</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; solver_name);
<a name="l01700"></a>01700   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ModelParser.html#315ffd7cc3b11bc9056782a12539a04f">BeginVisitConstraint</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; type_name,
<a name="l01701"></a>01701                                     <span class="keyword">const</span> <a class="code" href="classoperations__research_1_1Constraint.html" title="A constraint is the main modeling object.">Constraint</a>* <span class="keyword">const</span> constraint);
<a name="l01702"></a>01702   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ModelParser.html#e75bef42cea61c1718c88c3e5ee48260">EndVisitConstraint</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; type_name,
<a name="l01703"></a>01703                                   <span class="keyword">const</span> <a class="code" href="classoperations__research_1_1Constraint.html" title="A constraint is the main modeling object.">Constraint</a>* <span class="keyword">const</span> constraint);
<a name="l01704"></a>01704   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ModelParser.html#f8c15db7251544c0ba783ba182e42f3e">BeginVisitIntegerExpression</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; type_name,
<a name="l01705"></a>01705                                            <span class="keyword">const</span> <a class="code" href="classoperations__research_1_1IntExpr.html" title="The class IntExpr is the base of all integer expressions in constraint programming...">IntExpr</a>* <span class="keyword">const</span> expr);
<a name="l01706"></a>01706   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ModelParser.html#fff84a5401bad988fb466d074f4e3480">EndVisitIntegerExpression</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; type_name,
<a name="l01707"></a>01707                                          <span class="keyword">const</span> <a class="code" href="classoperations__research_1_1IntExpr.html" title="The class IntExpr is the base of all integer expressions in constraint programming...">IntExpr</a>* <span class="keyword">const</span> expr);
<a name="l01708"></a>01708   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ModelParser.html#e1fba29a9dccff7dbaaf83220cba7993">VisitIntegerVariable</a>(<span class="keyword">const</span> <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> variable,
<a name="l01709"></a>01709                                     <span class="keyword">const</span> <a class="code" href="classoperations__research_1_1IntExpr.html" title="The class IntExpr is the base of all integer expressions in constraint programming...">IntExpr</a>* <span class="keyword">const</span> delegate);
<a name="l01710"></a>01710   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ModelParser.html#e1fba29a9dccff7dbaaf83220cba7993">VisitIntegerVariable</a>(<span class="keyword">const</span> <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> variable,
<a name="l01711"></a>01711                                     <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; operation,
<a name="l01712"></a>01712                                     int64 <a class="code" href="search_8cc.html#21edc7ca4cc5802c8779d68556bc09cf">value</a>,
<a name="l01713"></a>01713                                     <span class="keyword">const</span> <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> delegate);
<a name="l01714"></a>01714   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ModelParser.html#2cdc124d738dd40417c6bd95d5d483a3">VisitIntervalVariable</a>(<span class="keyword">const</span> <a class="code" href="classoperations__research_1_1IntervalVar.html" title="Interval Var.">IntervalVar</a>* <span class="keyword">const</span> variable,
<a name="l01715"></a>01715                                      <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; operation,
<a name="l01716"></a>01716                                      <span class="keyword">const</span> <a class="code" href="classoperations__research_1_1IntervalVar.html" title="Interval Var.">IntervalVar</a>* <span class="keyword">const</span> delegate);
<a name="l01717"></a>01717   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ModelParser.html#2cdc124d738dd40417c6bd95d5d483a3">VisitIntervalVariable</a>(<span class="keyword">const</span> <a class="code" href="classoperations__research_1_1IntervalVar.html" title="Interval Var.">IntervalVar</a>* <span class="keyword">const</span> variable,
<a name="l01718"></a>01718                                      <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; operation,
<a name="l01719"></a>01719                                      <span class="keyword">const</span> <a class="code" href="classoperations__research_1_1IntervalVar.html" title="Interval Var.">IntervalVar</a>* <span class="keyword">const</span> * delegates,
<a name="l01720"></a>01720                                      <span class="keywordtype">int</span> size);
<a name="l01721"></a>01721   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ModelParser.html#3c6b69f98437b2f86b34bb35da33bc76">VisitSequenceVariable</a>(<span class="keyword">const</span> <a class="code" href="classoperations__research_1_1SequenceVar.html" title="SequenceVar.">SequenceVar</a>* <span class="keyword">const</span> variable);
<a name="l01722"></a>01722   <span class="comment">// Integer arguments</span>
<a name="l01723"></a>01723   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ModelParser.html#541f7fb5b09f1647996870ed42b87b9d" title="Integer arguments.">VisitIntegerArgument</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; arg_name, int64 value);
<a name="l01724"></a>01724   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ModelParser.html#028573addc619d1e58314dfb8ac61614">VisitIntegerArrayArgument</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; arg_name,
<a name="l01725"></a>01725                                          <span class="keyword">const</span> int64* <span class="keyword">const</span> values,
<a name="l01726"></a>01726                                          <span class="keywordtype">int</span> size);
<a name="l01727"></a>01727   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ModelParser.html#121f10a5ca9145da5f700c402df735ca">VisitIntegerMatrixArgument</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; arg_name,
<a name="l01728"></a>01728                                           <span class="keyword">const</span> IntTupleSet&amp; values);
<a name="l01729"></a>01729   <span class="comment">// Variables.</span>
<a name="l01730"></a>01730   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ModelParser.html#a02bb8e1de43ca4526d746751d764a6c" title="Variables.">VisitIntegerExpressionArgument</a>(
<a name="l01731"></a>01731       <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; arg_name,
<a name="l01732"></a>01732       <span class="keyword">const</span> <a class="code" href="classoperations__research_1_1IntExpr.html" title="The class IntExpr is the base of all integer expressions in constraint programming...">IntExpr</a>* <span class="keyword">const</span> argument);
<a name="l01733"></a>01733   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ModelParser.html#71465af52d20efaaaea8535f2b30375a">VisitIntegerVariableArrayArgument</a>(
<a name="l01734"></a>01734       <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; arg_name,
<a name="l01735"></a>01735       <span class="keyword">const</span> <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> * arguments,
<a name="l01736"></a>01736       <span class="keywordtype">int</span> size);
<a name="l01737"></a>01737   <span class="comment">// Visit interval argument.</span>
<a name="l01738"></a>01738   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ModelParser.html#734c40a0418c137769aa3ce4d65ada5b" title="Visit interval argument.">VisitIntervalArgument</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; arg_name,
<a name="l01739"></a>01739                                      <span class="keyword">const</span> <a class="code" href="classoperations__research_1_1IntervalVar.html" title="Interval Var.">IntervalVar</a>* <span class="keyword">const</span> argument);
<a name="l01740"></a>01740   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ModelParser.html#bdfe87f7c67b33cf763dbd234c64a30b">VisitIntervalArrayArgument</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; arg_name,
<a name="l01741"></a>01741                                           <span class="keyword">const</span> <a class="code" href="classoperations__research_1_1IntervalVar.html" title="Interval Var.">IntervalVar</a>* <span class="keyword">const</span> * arguments,
<a name="l01742"></a>01742                                           <span class="keywordtype">int</span> size);
<a name="l01743"></a>01743   <span class="comment">// Visit sequence argument.</span>
<a name="l01744"></a>01744   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ModelParser.html#68d1c17d2f35e8558ac0a4ca4c778e71" title="Visit sequence argument.">VisitSequenceArgument</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; arg_name,
<a name="l01745"></a>01745                                      <span class="keyword">const</span> <a class="code" href="classoperations__research_1_1SequenceVar.html" title="SequenceVar.">SequenceVar</a>* <span class="keyword">const</span> argument);
<a name="l01746"></a>01746   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ModelParser.html#ad6a47d733c539f0c8e39704fb3f527e">VisitSequenceArrayArgument</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; arg_name,
<a name="l01747"></a>01747                                           <span class="keyword">const</span> <a class="code" href="classoperations__research_1_1SequenceVar.html" title="SequenceVar.">SequenceVar</a>* <span class="keyword">const</span> * arguments,
<a name="l01748"></a>01748                                           <span class="keywordtype">int</span> size);
<a name="l01749"></a>01749 
<a name="l01750"></a>01750  <span class="keyword">protected</span>:
<a name="l01751"></a>01751   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ModelParser.html#8ff6f1e1b93fbfe2455a49bcfaddf2f1">PushArgumentHolder</a>();
<a name="l01752"></a>01752   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ModelParser.html#b9d871dfdb5820f82b801ea494af2310">PopArgumentHolder</a>();
<a name="l01753"></a>01753   <a class="code" href="classoperations__research_1_1ArgumentHolder.html" title="Argument Holder: useful when visiting a model.">ArgumentHolder</a>* <a class="code" href="classoperations__research_1_1ModelParser.html#ca7c901b93a190067336e5b4a067ac97">Top</a>() <span class="keyword">const</span>;
<a name="l01754"></a>01754 
<a name="l01755"></a>01755  <span class="keyword">private</span>:
<a name="l01756"></a>01756   std::vector&lt;ArgumentHolder*&gt; holders_;
<a name="l01757"></a>01757 };
<a name="l01758"></a>01758 <span class="preprocessor">#endif  // SWIG</span>
<a name="l01759"></a>01759 <span class="preprocessor"></span>}  <span class="comment">// namespace operations_research</span>
<a name="l01760"></a>01760 
<a name="l01761"></a>01761 <span class="preprocessor">#endif  // OR_TOOLS_CONSTRAINT_SOLVER_CONSTRAINT_SOLVERI_H_</span>
</pre></div></div>

  <!-- Start of footer. -->
  <table width=100% cellpadding=0 cellspacing=0 border=0>
    <tr valign=top>
      <td colspan=2 height=10></td>
    </tr>
    <tr valign=top>
      <td colspan=2 bgcolor=#287003 height=3></td>
    </tr>
  </table>

  <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
  <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
  <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
  <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
  <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
  <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
  <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
  <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
  <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
  <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
  <br /><br />

  
  </body>
</html>
